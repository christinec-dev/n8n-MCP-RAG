{
  "source": "docs/courses/level-one/chapter-5/chapter-5.5.md",
  "index": 4,
  "content": "## Configure the Code node\n\nNow let's see how to accomplish Nathan's task using the Code node.\n\nIn your workflow, add a **Code node** connected to the `false` branch of the **If node**. \n\nWith the Code node window open, configure these parameters:\n\n- **Mode**: Select **Run Once for All Items**.\n- **Language**: Select **JavaScript**.\n\n\t/// note | Using Python in code nodes\n\tWhile we use JavaScript below, you can also use Python in the Code node. To learn more, refer to the [Code node](/code/code-node.md) documentation.\n\t///\n\t\n- Copy the Code below and paste it into the **Code** box to replace the existing code:\n\n\t```javascript\n\tlet items = $input.all();\n\tlet totalBooked = items.length;\n\tlet bookedSum = 0;\n\n\tfor (let i=0; i < items.length; i++) {\n\t  bookedSum = bookedSum + items[i].json.orderPrice;\n\t}\n\n\treturn [{ json: {totalBooked, bookedSum} }];\n\t```\n\nNotice the format in which we return the results of the calculation:\n\n```javascript\nreturn [{ json: {totalBooked, bookedSum} }]\n```\n\n/// warning | Data structure error\nIf you don't use the correct data structure, you will get an error message: `Error: Always an Array of items has to be returned!`\n///\n\nNow select **Execute step** and you should see the following results:\n\n<figure><img src=\"/_images/courses/level-one/chapter-five/l1-c5-5-5-code-node.png\" alt=\"Code node output\" style=\"width:100%\"><figcaption align = \"center\"><i>Code node output</i></figcaption></figure>"
}