{
  "source": "docs/hosting/configuration/task-runners.md",
  "index": 9,
  "content": "### Configuring task runners in external mode\n\nThe task runner comes bundled within the n8n Docker image. The Docker image also includes the task runner launcher.\n\nThe launcher can start the runner on-demand, which means lower memory usage when there's no work needed, but a short delay (few hundred ms) in cold-start. The launcher also monitors the runner and restarts it in case of infinite loops or other issues.\n\nRun a task runner container from the n8n Docker image by setting the following properties:\n\n| Configuration   | Description                                             |\n|-----------------|---------------------------------------------------------|\n| `command`       | `[\"/usr/local/bin/task-runner-launcher\", \"javascript\"]` |\n| `livenessProbe` | `GET /healthz`, port `5680`                             |\n\nSet the following environment variables for the container, adjusted to fit your needs:\n\n| Environment variables | Description |\n| ------ | ----- |\n| `N8N_RUNNERS_AUTH_TOKEN=<random secure shared secret>` | The shared secret the task runner uses to connect to the broker. |\n| `N8N_RUNNERS_MAX_CONCURRENCY=5` | The number of concurrent tasks the runner can execute. |\n| `N8N_RUNNERS_TASK_BROKER_URI=localhost:5679` | The address of the task broker server within the n8n instance. |\n| `N8N_RUNNERS_AUTO_SHUTDOWN_TIMEOUT=15` | Number of seconds of inactivity to wait before shutting down the task runner process. The launcher will automatically start the runner again when there are new tasks to execute. Set to `0` to disable automatic shutdown. |\n| `NODE_OPTIONS=--max-old-space-size=<limit>` | The memory limit for the task runner Node.js process. This should be lower than the limit for container so that the runner runs out of memory before the container. That way, the launcher is able to monitor the runner. |\n| `GENERIC_TIMEZONE` | The [same default timezone as configured for the n8n instance](/hosting/configuration/environment-variables/timezone-localization.md). |\n\nFor full list of environment variables see [task runner environment variables](/hosting/configuration/environment-variables/task-runners.md)."
}