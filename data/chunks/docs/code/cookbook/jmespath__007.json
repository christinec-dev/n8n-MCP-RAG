{
  "source": "docs/code/cookbook/jmespath.md",
  "index": 7,
  "content": "### Select multiple elements and create a new list or object\n\nUse [Multiselect](https://jmespath.org/tutorial.html#multiselect) to select elements from a JSON object and combine them into a new list or object.\n\nGiven this JSON from a webhook node:\n\n\n```js\n[\n  {\n    \"headers\": {\n      \"host\": \"n8n.instance.address\",\n      ...\n    },\n    \"params\": {},\n    \"query\": {},\n    \"body\": {\n      \"people\": [\n        {\n          \"first\": \"James\",\n          \"last\": \"Green\"\n        },\n        {\n          \"first\": \"Jacob\",\n          \"last\": \"Jones\"\n        },\n        {\n          \"first\": \"Jayden\",\n          \"last\": \"Smith\"\n        }\n      ],\n      \"dogs\": {\n        \"Fido\": {\n          \"color\": \"brown\",\n          \"age\": 7\n        },\n        \"Spot\": {\n          \"color\": \"black and white\",\n          \"age\": 5\n        }\n      }\n    }\n  }\n]\n\n```\n\n<!-- vale off -->\nUse multiselect list to get the first and last names and create new lists containing both names:\n<!-- vale on -->\n=== \"Expressions (JavaScript)\"\n\n\t[[% raw %]]\n\t```js\n\t{{$jmespath($json.body.people, \"[].[first, last]\")}}\n\t// Returns [[\"James\",\"Green\"],[\"Jacob\",\"Jones\"],[\"Jayden\",\"Smith\"]]\n\t```\n\t[[% endraw %]]\n\n=== \"Code node (JavaScript)\"\n\n\t```js\n\tlet newList = $jmespath($json.body.people, \"[].[first, last]\");\n\treturn {newList};\n\t/* Returns:\n\t[\n\t\t{\n\t\t\t\"newList\": [\n\t\t\t\t[\n\t\t\t\t\t\"James\",\n\t\t\t\t\t\"Green\"\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t\"Jacob\",\n\t\t\t\t\t\"Jones\"\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t\"Jayden\",\n\t\t\t\t\t\"Smith\"\n\t\t\t\t]\n\t\t\t]\n\t\t}\n\t]\n\t*/\n\t```\n=== \"Code node (Python)\"\n\t```python\n\tnewList = _jmespath(_json.body.people, \"[].[first, last]\")\n\treturn {\"newList\":newList}\n\t\"\"\"\n\tReturns:\n\t[\n\t\t{\n\t\t\t\"newList\": [\n\t\t\t\t[\n\t\t\t\t\t\"James\",\n\t\t\t\t\t\"Green\"\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t\"Jacob\",\n\t\t\t\t\t\"Jones\"\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t\"Jayden\",\n\t\t\t\t\t\"Smith\"\n\t\t\t\t]\n\t\t\t]\n\t\t}\n\t]\n\t\"\"\"\n\t```"
}