{
  "source": "docs/integrations/builtin/core-nodes/n8n-nodes-langchain.mcptrigger.md",
  "index": 11,
  "content": "### Configuring the MCP Server Trigger node with webhook replicas\n\nThe MCP Server Trigger node relies on Server-Sent Events (SSE) or streamable HTTP, which require the same server instance to handle persistent connections. This can cause problems when running n8n in [queue mode](/hosting/scaling/queue-mode.md) depending on your [webhook processor](/hosting/scaling/queue-mode.md#webhook-processors) configuration:\n\n* If you use queue mode with a **single webhook replica**, the MCP Server Trigger node works as expected.\n* If you run **multiple webhook replicas**, you need to route all `/mcp*` requests to a single, dedicated webhook replica. Create a separate replica set with one webhook container for MCP requests. Afterward, update your ingress or load balancer configuration to direct all `/mcp*` traffic to that instance.\n\n/// warning | Caution when running with multiple webhook replicas\nIf you run an MCP Server Trigger node with multiple webhook replicas and don't route all `/mcp*` requests to a single, dedicated webhook replica, your SSE and streamable HTTP connections will frequently break or fail to reliably deliver events.\n///"
}