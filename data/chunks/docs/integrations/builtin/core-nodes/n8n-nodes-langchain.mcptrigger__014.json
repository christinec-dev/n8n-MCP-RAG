{
  "source": "docs/integrations/builtin/core-nodes/n8n-nodes-langchain.mcptrigger.md",
  "index": 14,
  "content": "### Running the MCP Server Trigger node with a reverse proxy\n\nWhen running n8n behind a reverse proxy like nginx, you may experience problems if the MCP endpoint isn't configured for SSE or streamable HTTP.\n\nSpecifically, you need to disable proxy buffering for the endpoint. Other items you might want to adjust include disabling gzip compression (n8n handles this itself), disabling chunked transfer encoding, and setting the `Connection` to an empty string to remove it from the forwarded headers. Explicitly disabling these in the MCP endpoint ensures they're not inherited from other places in your nginx configuration.\n\nAn example nginx location block for serving MCP traffic with these settings may look like this:\n\n```\nlocation /mcp/ {\n    proxy_http_version          1.1;\n    proxy_buffering             off;\n    gzip                        off;\n    chunked_transfer_encoding   off;\n\n    proxy_set_header            Connection '';\n\n    # The rest of your proxy headers and settings\n    # . . .\n}\n```"
}