{
  "source": "docs/integrations/builtin/credentials/google/service-account.md",
  "index": 12,
  "content": "### Enable domain-wide delegation\n\nTo impersonate a user with a service account, you must enable domain-wide delegation for the service account.\n\n/// warning | Not recommended\nGoogle recommends you [avoid using domain-wide delegation](https://cloud.google.com/iam/docs/best-practices-service-accounts#domain-wide-delegation), as it allows impersonation of any user (including super admins) and can pose a security risk.\n///\n\nTo delegate domain-wide authority to a service account, you must be a super administrator for the Google Workspace domain. Then:\n\n1. From your Google Workspace domain's [Admin console](https://admin.google.com/), select the hamburger menu, then select **Security > Access and data control > API Controls**.\n2. In the **Domain wide delegation** pane, select **Manage Domain Wide Delegation**.\n3. Select **Add new**.\n4. In the **Client ID** field, enter the service account's **Client ID**. To get the Client ID:\n    * Open your Google Cloud Console project, then open the [Service Accounts](https://console.cloud.google.com/iam-admin/serviceaccounts) page.\n    * Copy the **OAuth 2 Client ID** and use this as the **Client ID** for the **Domain Wide Delegation**.\n5. In the **OAuth scopes** field, enter a list of comma-separate scopes to grant your application access. For example, if your application needs domain-wide full access to the Google Drive API and the Google Calendar API, enter: `https://www.googleapis.com/auth/drive, https://www.googleapis.com/auth/calendar`.\n6. Select **Authorize**.\n\nIt can take from 5 minutes up to 24 hours before you can impersonate all users in your Workspace."
}