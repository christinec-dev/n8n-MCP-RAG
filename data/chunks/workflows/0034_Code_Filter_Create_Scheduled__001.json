{
  "source": "0034_Code_Filter_Create_Scheduled.json",
  "index": 1,
  "content": "{\n  \"meta\": {\n    \"instanceId\": \"0c99324b4b0921a9febd4737c606882881f3ca11d9b1d7e22b0dad4784eb24c7\"\n  },\n  \"nodes\": [\n    {\n      \"id\": \"f418ae01-01ea-4794-8903-d5709a29c735\",\n      \"name\": \"Get current date\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        240,\n        2460\n      ],\n      \"parameters\": {\n        \"jsCode\": \"const monthNames = [\\n  'January',\\n  'February',\\n  'March',\\n  'April',\\n  'May',\\n  'June',\\n  'July',\\n  'August',\\n  'September',\\n  'October',\\n  'November',\\n  'December',\\n]\\n\\nconst date = new Date()\\nconst year = date.getFullYear()\\nconst month = date.getMonth()\\n\\nlet currentDate = {\\n  month: month,\\n  year: year,\\n  text: `${monthNames[month]} '${year.toString().slice(-2)}`\\n}\\n\\nitems[0].json.currentDate = currentDate\\n\\nreturn items\\n\\n// Month > Number e.g. July = 6, December = 11\\n// Year > Text\\n// Text > Playlist name\\n\\n// let currentDate = {\\n//   month: 8, \\n//   year: '2024',\\n//   text: `September '23`\\n// }\\n\\n// items[0].json.currentDate = currentDate\\n\\n// return items\\n\\n\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"855e493a-a232-45ef-8fdd-4a8225065c95\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        460,\n        2580\n      ],\n      \"parameters\": {\n        \"width\": 1290.936043660723,\n        \"height\": 407.6508589002549,\n        \"content\": \"## Check if the song is present in the database\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"672ef06c-b812-41c8-8501-cde8b61a4aef\",\n      \"name\": \"Get last 10 liked tracks\",\n      \"type\": \"n8n-nodes-base.spotify\",\n      \"position\": [\n        500,\n        2680\n      ],\n      \"parameters\": {\n        \"limit\": 10,\n        \"resource\": \"library\"\n      },\n      \"credentials\": {\n        \"spotifyOAuth2Api\": {\n          \"id\": \"zQrMRwwU6DLh4W77\",\n          \"name\": \"Spotify account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"da13c571-6af4-49bf-b8ff-2d54245f6d3e\",\n      \"name\": \"Check if track is saved\",\n      \"type\": \"n8n-nodes-base.nocoDb\",\n      \"position\": [\n        940,\n        2780\n      ],\n      \"parameters\": {\n        \"table\": \"m0dm2y304t7vmuk\",\n        \"options\": {\n          \"where\": \"=(uri,eq,{{ $json.track.uri }})\",\n          \"fields\": [\n            \"uri\"\n          ]\n        },\n        \"operation\": \"getAll\",\n        \"projectId\": \"pepq760y5lwt5tm\",\n        \"returnAll\": true,\n        \"authentication\": \"nocoDbApiToken\"\n      },\n      \"credentials\": {\n        \"nocoDbApiToken\": {\n          \"id\": \"9uSbSrDz8EL2OIL7\",\n          \"name\": \"NocoDB Token account\"\n        }\n      },\n      \"typeVersion\": 3,\n      \"alwaysOutputData\": true\n    },\n    {\n      \"id\": \"9144cda9-f18f-46d9-be2d-9fca4b192dbb\",\n      \"name\": \"Is not saved\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        1160,\n        2780\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"dbb259d9-e2ec-4a7b-b375-601346dc2571\",\n              \"operator\": {\n                \"type\": \"object\",\n                \"operation\": \"empty\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $json }}\",\n              \"rightValue\": \"\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"66b430e2-f46c-43b2-84e7-35c85d2b4403\",\n      \"name\": \"Create song entry\",\n      \"type\": \"n8n-nodes-base.nocoDb\",\n      \"position\": [\n        1380,\n        2700\n      ],\n      \"parameters\": {\n        \"table\": \"m0dm2y304t7vmuk\",\n        \"fieldsUi\": {\n          \"fieldValues\": [\n            {\n              \"fieldName\": \"uri\",\n              \"fieldValue\": \"={{ $('For each tracks in liked song').item.json.track.uri }}\"\n            },\n            {\n              \"fieldName\": \"added_at\",\n              \"fieldValue\": \"={{ $('For each tracks in liked song').item.json.added_at }}\"\n            },\n            {\n              \"fieldName\": \"playlistName\",\n              \"fieldValue\": \"={{ $('Get current date').item.json.currentDate.text }}\"\n            }\n          ]\n        },\n        \"operation\": \"create\",\n        \"projectId\": \"pepq760y5lwt5tm\",\n        \"authentication\": \"nocoDbApiToken\"\n      },\n      \"credentials\": {\n        \"nocoDbApiToken\": {\n          \"id\": \"9uSbSrDz8EL2OIL7\",\n          \"name\": \"NocoDB Token account\"\n        }\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"9bd883ea-2e87-45aa-b8a0-b361ba7c5d9f\",\n      \"name\": \"Get all user playlist\",\n      \"type\": \"n8n-nodes-base.spotify\",\n      \"position\": [\n        500,\n        2220\n      ],\n      \"parameters\": {\n        \"resource\": \"playlist\",\n        \"operation\": \"getUserPlaylists\",\n        \"returnAll\": true\n      },\n      \"credentials\": {\n        \"spotifyOAuth2Api\": {\n          \"id\": \"zQrMRwwU6DLh4W77\",\n          \"name\": \"Spotify account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"3a0dad98-4571-4fb7-b366-0060d35b65fe\",\n      \"name\": \"Sticky Note4\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        460,\n        2080\n      ],\n      \"parameters\": {\n        \"width\": 1481.5336029736159,\n        \"height\": 416.7665808180022,\n        \"content\": \"## Check if the playlist present in the database\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"e793b97c-cc29-47b0-8aa7-015fa631bc37\",\n      \"name\": \"Get monthly playlist\",\n      \"type\": \"n8n-nodes-base.filter\",\n      \"position\": [\n        720,\n        2220\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"56173299-d774-4cb4-b26f-4dca294dda1d\",\n              \"operator\": {\n                \"name\": \"filter.operator.equals\",\n                \"type\": \"string\",\n                \"operation\": \"equals\"\n              },\n              \"leftValue\": \"={{ $json.name }}\",\n              \"rightValue\": \"={{ $('Get current date').item.json.currentDate.text }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2,\n      \"alwaysOutputData\": true\n    },\n    {\n      \"id\": \"502ea9e2-7f03-4a8a-860e-90d63e42ee33\",\n      \"name\": \"Get playlist in DB\",\n      \"type\": \"n8n-nodes-base.nocoDb\",\n      \"position\": [\n        1160,\n        2120\n      ],\n      \"parameters\": {\n        \"table\": \"mchan0xys9h7h7e\",\n        \"options\": {\n          \"where\": \"=(name,eq,{{ $('Get current date').item.json.currentDate.text }})\"\n        },\n        \"operation\": \"getAll\",\n        \"projectId\": \"pepq760y5lwt5tm\",\n        \"returnAll\": true,\n        \"authentication\": \"nocoDbApiToken\"\n      },\n      \"credentials\": {\n        \"nocoDbApiToken\": {\n          \"id\": \"9uSbSrDz8EL2OIL7\",\n          \"name\": \"NocoDB Token account\"\n        }\n      },\n      \"typeVersion\": 3,\n      \"alwaysOutputData\": true\n    },\n    {\n      \"id\": \"3d2bece0-8096-4ee1-a3b9-ae91b83f0957\",\n      \"name\": \"Monthly playlist exist in Spotify ?\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        940,\n        2220\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"a2d9e3e0-a906-4ed9-9e23-166f781c86b1\",\n              \"operator\": {\n                \"type\": \"object\",\n                \"operation\": \"notEmpty\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $json }}\",\n              \"rightValue\": \"\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"d983b940-2f8d-4823-aaaf-d1bfa4428b41\",\n      \"name\": \"Playlist exist  in DB ?\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        1380,\n        2120\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"9485c9d4-ecdc-4d0e-a576-c7db5787c069\",\n              \"operator\": {\n                \"type\": \"object\",\n                \"operation\": \"notEmpty\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $json }}\",\n              \"rightValue\": \"\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"c694ab19-bca7-4dd4-8d10-cf8a1adab341\",\n      \"name\": \"Create playlist in Spotify\",\n      \"type\": \"n8n-nodes-base.spotify\",\n      \"position\": [\n        1160,\n        2320\n      ],\n      \"parameters\": {\n        \"name\": \"={{ $('Get current date').item.json.currentDate.text }}\",\n        \"resource\": \"playlist\",\n        \"operation\": \"create\",\n        \"additionalFields\": {\n          \"description\": \"Monthly playlist\"\n        }\n      },\n      \"credentials\": {\n        \"spotifyOAuth2Api\": {\n          \"id\": \"zQrMRwwU6DLh4W77\",\n          \"name\": \"Spotify account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"dc9dc3b5-cef7-412b-b3f8-5ec011c2746d\",\n      \"name\": \"Create playlist in DB1\",\n      \"type\": \"n8n-nodes-base.nocoDb\",\n      \"position\": [\n        1380,\n        2320\n      ],\n      \"parameters\": {\n        \"table\": \"mchan0xys9h7h7e\",\n        \"fieldsUi\": {\n          \"fieldValues\": [\n            {\n              \"fieldName\": \"uri\",\n              \"fieldValue\": \"={{ $json.uri }}\"\n            },\n            {\n              \"fieldName\": \"name\",\n              \"fieldValue\": \"={{ $json.name }}\"\n            },\n            {\n              \"fieldName\": \"description\",\n              \"fieldValue\": \"={{ $json.description}}\"\n            }\n          ]\n        },\n        \"operation\": \"create\",\n        \"projectId\": \"pepq760y5lwt5tm\",\n        \"authentication\": \"nocoDbApiToken\"\n      },\n      \"credentials\": {\n        \"nocoDbApiToken\": {\n          \"id\": \"9uSbSrDz8EL2OIL7\",\n          \"name\": \"NocoDB Token account\"\n        }\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"0356c3a4-dc20-42b0-b069-045048768939\",\n      \"name\": \"Create playlist in DB\",\n      \"type\": \"n8n-nodes-base.nocoDb\",\n      \"position\": [\n        1600,\n        2200\n      ],\n      \"parameters\": {\n        \"table\": \"mchan0xys9h7h7e\",\n        \"fieldsUi\": {\n          \"fieldValues\": [\n            {\n              \"fieldName\": \"uri\",\n              \"fieldValue\": \"={{ $('Get monthly playlist').item.json.uri }}\"\n            },\n            {\n              \"fieldName\": \"name\",\n              \"fieldValue\": \"={{ $('Get monthly playlist').item.json.name }}\"\n            },\n            {\n              \"fieldName\": \"description\",\n              \"fieldValue\": \"={{ $('Get monthly playlist').item.json.description }}\"\n            }\n          ]\n        },\n        \"operation\": \"create\",\n        \"projectId\": \"pepq760y5lwt5tm\",\n        \"authentication\": \"nocoDbApiToken\"\n      },\n      \"credentials\": {\n        \"nocoDbApiToken\": {\n          \"id\": \"9uSbSrDz8EL2OIL7\",\n          \"name\": \"NocoDB Token account\"\n        }\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"e2c86f04-725c-4af7-b3c2-9c22e2dc64bf\",\n      \"name\": \"Merge\",\n      \"type\": \"n8n-nodes-base.merge\",\n      \"position\": [\n        2040,\n        2460\n      ],\n      \"parameters\": {\n        \"mode\": \"chooseBranch\",\n        \"output\": \"empty\"\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"036e0d74-3383-44e9-991d-7e062b982b51\",\n      \"name\": \"Clean op\",\n      \"type\": \"n8n-nodes-base.noOp\",\n      \"position\": [\n        1820,\n        2200\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"323c9746-f713-4a3d-9af5-9579ec767fca\",\n      \"name\": \"Clean op2\",\n      \"type\": \"n8n-nodes-base.noOp\",\n      \"position\": [\n        1600,\n        2800\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"3b0be7ca-c47b-4524-b72a-c37f25c5e4d0\",\n      \"name\": \"Get this month playlist in DB\",\n      \"type\": \"n8n-nodes-base.nocoDb\",\n      \"position\": [\n        2260,\n        2460\n      ],\n      \"parameters\": {\n        \"table\": \"mchan0xys9h7h7e\",\n        \"options\": {\n          \"where\": \"=(name,eq,{{ $('Get current date').item.json.currentDate.text }})\"\n        },\n        \"operation\": \"getAll\",\n        \"projectId\": \"pepq760y5lwt5tm\",\n        \"returnAll\": true,\n        \"authentication\": \"nocoDbApiToken\"\n      },\n      \"credentials\": {\n        \"nocoDbApiToken\": {\n          \"id\": \"9uSbSrDz8EL2OIL7\",\n          \"name\": \"NocoDB Token account\"\n        }\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"733077e4-c474-4c95-ba05-d0b2375475ad\",\n      \"name\": \"Get this month tracks in DB\",\n      \"type\": \"n8n-nodes-base.nocoDb\",\n      \"position\": [\n        2480,\n        2460\n      ],\n      \"parameters\": {\n        \"table\": \"m0dm2y304t7vmuk\",\n        \"options\": {\n          \"where\": \"=(playlistName,eq,{{ $('Get current date').item.json.currentDate.text }})\"\n        },\n        \"operation\": \"getAll\",\n        \"projectId\": \"pepq760y5lwt5tm\",\n        \"returnAll\": true,\n        \"authentication\": \"nocoDbApiToken\"\n      },\n      \"credentials\": {\n        \"nocoDbApiToken\": {\n          \"id\": \"9uSbSrDz8EL2OIL7\",\n          \"name\": \"NocoDB Token account\"\n        }\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"6c8ef70f-542d-4454-9ae6-8f4e9778beb0\",\n      \"name\": \"Add song to the playlist\",\n      \"type\": \"n8n-nodes-base.spotify\",\n      \"position\": [\n        3580,\n        2460\n      ],\n      \"parameters\": {\n        \"id\": \"={{ $('Get this month playlist in DB').item.json.uri }}\",\n        \"trackID\": \"={{ $('For each monthly tracks in DB').item.json.uri }}\",\n        \"resource\": \"playlist\",\n        \"additionalFields\": {}\n      },\n      \"credentials\": {\n        \"spotifyOAuth2Api\": {\n          \"id\": \"zQrMRwwU6DLh4W77\",\n          \"name\": \"Spotify account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"034cd38d-4800-4f9c-9b67-453fdb2afa3c\",\n      \"name\": \"For each tracks in liked song\",\n      \"type\": \"n8n-nodes-base.splitInBatches\",\n      \"position\": [\n        720,\n        2680\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"reset\": false\n        }\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"90ff5c0b-e842-437f-be85-a5938288c513\",\n      \"name\": \"For each monthly tracks in DB\",\n      \"type\": \"n8n-nodes-base.splitInBatches\",\n      \"position\": [\n        2700,\n        2460\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"decf36a4-fb8c-41eb-ae15-7ba36d621ad7\",\n      \"name\": \"Get this month tracks in Spotify\",\n      \"type\": \"n8n-nodes-base.spotify\",\n      \"position\": [\n        2920,\n        2560\n      ],\n      \"parameters\": {\n        \"id\": \"={{ $('Get this month playlist in DB').item.json.uri }}\",\n        \"resource\": \"playlist\",\n        \"operation\": \"getTracks\",\n        \"returnAll\": true\n      },\n      \"credentials\": {\n        \"spotifyOAuth2Api\": {\n          \"id\": \"zQrMRwwU6DLh4W77\",\n          \"name\": \"Spotify account\"\n        }\n      },\n      \"typeVersion\": 1,\n      \"alwaysOutputData\": true\n    },\n    {\n      \"id\": \"d322a655-e80b-4277-87d9-93e927b2f372\",\n      \"name\": \"Filter1\",\n      \"type\": \"n8n-nodes-base.filter\",\n      \"position\": [\n        3140,\n        2560\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"a11640e1-f22a-4ce9-abff-976efc57e1d3\",\n              \"operator\": {\n                \"name\": \"filter.operator.equals\",\n                \"type\": \"string\",\n                \"operation\": \"equals\"\n              },\n              \"leftValue\": \"={{ $('For each monthly tracks in DB').item.json.uri }}\",\n              \"rightValue\": \"={{ $json.track.uri }}\"\n            }\n          ]\n        }\n      },\n      \"executeOnce\": false,\n      \"typeVersion\": 2,\n      \"alwaysOutputData\": true\n    },\n    {\n      \"id\": \"5027f98d-b973-405f-81cf-534df794325f\",\n      \"name\": \"Song is not present in the playlist ?\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        3360,\n        2560\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"1beb843e-53da-48ce-9717-d7797232e4ae\",\n              \"operator\": {\n                \"type\": \"object\",\n                \"operation\": \"empty\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $json }}\",\n              \"rightValue\": \"\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"cd2e3a28-24c1-47d7-ad30-c836e08ad40f\",\n      \"name\": \"Clean op1\",\n      \"type\": \"n8n-nodes-base.noOp\",\n      \"position\": [\n        3800,\n        2560\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"56bbb0e9-3ee5-48e3-b0bf-48e8d026daa9\",\n      \"name\": \"Sticky Note5\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        2220,\n        2400\n      ],\n      \"parameters\": {\n        \"width\": 1733.785946789966,\n        \"height\": 351.94195615011336,\n        \"content\": \"## Check if the song is in the Spotify playlist. If not, add it.\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"9834163b-0991-4910-bb4f-cf4557bfa0d5\",\n      \"name\": \"Schedule Trigger\",\n      \"type\": \"n8n-nodes-base.scheduleTrigger\",\n      \"position\": [\n        20,\n        2460\n      ],\n      \"parameters\": {\n        \"rule\": {\n          \"interval\": [\n            {\n              \"field\": \"minutes\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"72a3c48f-a759-4e0c-b7bb-9f69a5f4377e\",\n      \"name\": \"End\",\n      \"type\": \"n8n-nodes-base.noOp\",\n      \"position\": [\n        4100,\n        2260\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    }\n  ],\n  \"pinData\": {},\n  \"connections\": {\n    \"Merge\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get this month playlist in DB\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Filter1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Song is not present in the playlist ?\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Clean op\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Merge\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Clean op1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"For each monthly tracks in DB\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Clean op2\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"For each tracks in liked song\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Is not saved\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Create song entry\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Clean op2\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get current date\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get all user playlist\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Get last 10 liked tracks\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Schedule Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get current date\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Create song entry\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Clean op2\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get playlist in DB\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Playlist exist  in DB ?\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get monthly playlist\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Monthly playlist exist in Spotify ?\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Create playlist in DB\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Clean op\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get all user playlist\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get monthly playlist\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Create playlist in DB1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Clean op\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Check if track is saved\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Is not saved\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Playlist exist  in DB ?\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Clean op\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Create playlist in DB\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Add song to the playlist\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Clean op1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get last 10 liked tracks\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"For each tracks in liked song\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Create playlist in Spotify\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Create playlist in DB1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get this month tracks in DB\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"For each monthly tracks in DB\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"For each monthly tracks in DB\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"End\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Get this month tracks in Spotify\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"For each tracks in liked song\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Merge\",\n            \"type\": \"main\",\n            \"index\": 1\n          }\n        ],\n        [\n          {\n            \"node\": \"Check if track is saved\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get this month playlist in DB\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get this month tracks in DB\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get this month tracks in Spotify\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Filter1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Monthly playlist exist in Spotify ?\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get playlist in DB\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Create playlist in Spotify\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Song is not present in the playlist ?\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Add song to the playlist\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Clean op1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.code",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.spotify",
      "n8n-nodes-base.nocoDb",
      "n8n-nodes-base.if",
      "n8n-nodes-base.nocoDb",
      "n8n-nodes-base.spotify",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.filter",
      "n8n-nodes-base.nocoDb",
      "n8n-nodes-base.if",
      "n8n-nodes-base.if",
      "n8n-nodes-base.spotify",
      "n8n-nodes-base.nocoDb",
      "n8n-nodes-base.nocoDb",
      "n8n-nodes-base.merge",
      "n8n-nodes-base.noOp",
      "n8n-nodes-base.noOp",
      "n8n-nodes-base.nocoDb",
      "n8n-nodes-base.nocoDb",
      "n8n-nodes-base.spotify",
      "n8n-nodes-base.splitInBatches",
      "n8n-nodes-base.splitInBatches",
      "n8n-nodes-base.spotify",
      "n8n-nodes-base.filter",
      "n8n-nodes-base.if",
      "n8n-nodes-base.noOp",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.scheduleTrigger",
      "n8n-nodes-base.noOp"
    ],
    "trigger": "schedule trigger"
  }
}