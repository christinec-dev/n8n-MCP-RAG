{
  "source": "2025_Splitout_Code_Automate_Webhook.json",
  "index": 1,
  "content": "{\n  \"id\": \"yOhH9SGiZgZTDUB4\",\n  \"meta\": {\n    \"instanceId\": \"ecc960f484e18b0e09045fd93acf0d47f4cfff25cc212ea348a08ac3aae81850\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"name\": \"Clone n8n Workflows between Instances using n8n API\",\n  \"tags\": [\n    {\n      \"id\": \"aw8suPYTKfXDtMZl\",\n      \"name\": \"Utility\",\n      \"createdAt\": \"2025-02-10T14:41:49.045Z\",\n      \"updatedAt\": \"2025-02-10T14:41:49.045Z\"\n    },\n    {\n      \"id\": \"6rb8rVhKZj4t0Kne\",\n      \"name\": \"Current\",\n      \"createdAt\": \"2025-02-04T18:13:17.427Z\",\n      \"updatedAt\": \"2025-02-04T18:13:17.427Z\"\n    }\n  ],\n  \"nodes\": [\n    {\n      \"id\": \"9e61140a-2b09-4dab-9a3b-3ca9781410cf\",\n      \"name\": \"When clicking ‘Test workflow’\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        -80,\n        -260\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"50fdfb08-0ca1-4bb4-82a6-46b81ef6e3b2\",\n      \"name\": \"GET - Workflows\",\n      \"type\": \"n8n-nodes-base.n8n\",\n      \"position\": [\n        180,\n        -400\n      ],\n      \"parameters\": {\n        \"filters\": {},\n        \"requestOptions\": {}\n      },\n      \"credentials\": {\n        \"n8nApi\": {\n          \"id\": \"HBPpxcTQs4aNcq4K\",\n          \"name\": \"AK n8n original account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"7c1b5530-bc0c-41f8-ac5f-d53c42ea9c44\",\n      \"name\": \"CREATE - Workflow\",\n      \"type\": \"n8n-nodes-base.n8n\",\n      \"position\": [\n        1200,\n        -160\n      ],\n      \"parameters\": {\n        \"operation\": \"create\",\n        \"requestOptions\": {},\n        \"workflowObject\": \"={\\n  \\\"name\\\": \\\"{{ $json.name }}\\\",\\n  \\\"nodes\\\": {{ JSON.stringify($json[\\\"nodes\\\"]) }},\\n  \\\"connections\\\": {{ JSON.stringify($json[\\\"connections\\\"] || {}) }}\\n}\\n\"\n      },\n      \"credentials\": {\n        \"n8nApi\": {\n          \"id\": \"0XLL6lxiSB0ORf5Z\",\n          \"name\": \"AlexK1919 n8n ent account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"af3a81b1-f09f-4373-b603-657bba8c1776\",\n      \"name\": \"n8n - GET - Projects\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1400,\n        -160\n      ],\n      \"parameters\": {\n        \"url\": \"https://n8n-ent.alexk1919.com/api/v1/projects\",\n        \"options\": {},\n        \"authentication\": \"predefinedCredentialType\",\n        \"nodeCredentialType\": \"n8nApi\"\n      },\n      \"credentials\": {\n        \"n8nApi\": {\n          \"id\": \"0XLL6lxiSB0ORf5Z\",\n          \"name\": \"AlexK1919 n8n ent account\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"852e6236-aafd-4223-bb90-42db4c923a59\",\n      \"name\": \"SET Project ID\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        2000,\n        -160\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"6ba45511-cf1b-42e6-b711-b9abd33ed7e3\",\n              \"name\": \"data.id\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.data.id }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"e8dfa94b-82c1-45ee-b87b-f88996569957\",\n      \"name\": \"PUT - Workflow in Project\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        2200,\n        -160\n      ],\n      \"parameters\": {\n        \"url\": \"=https://n8n-ent.alexk1919.com/api/v1/workflows/{{ $('CREATE - Workflow').item.json.id }}/transfer\",\n        \"method\": \"PUT\",\n        \"options\": {},\n        \"sendBody\": true,\n        \"authentication\": \"predefinedCredentialType\",\n        \"bodyParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"destinationProjectId\",\n              \"value\": \"={{ $json.data.id }}\"\n            }\n          ]\n        },\n        \"nodeCredentialType\": \"n8nApi\"\n      },\n      \"credentials\": {\n        \"n8nApi\": {\n          \"id\": \"0XLL6lxiSB0ORf5Z\",\n          \"name\": \"AlexK1919 n8n ent account\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"e705f445-c125-4ce5-aa33-f91c3f1fb2a6\",\n      \"name\": \"Loop Over Items\",\n      \"type\": \"n8n-nodes-base.splitInBatches\",\n      \"position\": [\n        1000,\n        -260\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"batchSize\": 5\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"cec95100-64a0-4d56-986a-1cdeb6063b96\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1740,\n        -300\n      ],\n      \"parameters\": {\n        \"color\": 3,\n        \"width\": 220,\n        \"content\": \"### Change the Destination Project by changing the Project Name\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"b23a6293-a732-42b4-9976-6d3ab750bd44\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        120,\n        -540\n      ],\n      \"parameters\": {\n        \"color\": 3,\n        \"width\": 220,\n        \"content\": \"### Change the Source n8n Instance by changing the Credential\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"a4e2f1f9-dab9-4576-ba66-d36a16a4d82a\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        120,\n        -220\n      ],\n      \"parameters\": {\n        \"color\": 3,\n        \"width\": 220,\n        \"content\": \"### Change the Destination n8n Instance by changing the Credential\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"56997c18-8985-4fdd-b313-de07ee67c6d7\",\n      \"name\": \"GET - Destination Workflows\",\n      \"type\": \"n8n-nodes-base.n8n\",\n      \"position\": [\n        180,\n        -80\n      ],\n      \"parameters\": {\n        \"limit\": 200,\n        \"filters\": {},\n        \"returnAll\": false,\n        \"requestOptions\": {\n          \"batching\": {\n            \"batch\": {}\n          }\n        }\n      },\n      \"credentials\": {\n        \"n8nApi\": {\n          \"id\": \"0XLL6lxiSB0ORf5Z\",\n          \"name\": \"AlexK1919 n8n ent account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"c9bb6d33-a674-416b-916d-56352b74a603\",\n      \"name\": \"Code\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"disabled\": true,\n      \"position\": [\n        800,\n        -260\n      ],\n      \"parameters\": {\n        \"jsCode\": \"const data = $json;\\nconsole.log(\\\"Merged Output:\\\", data);\\nreturn [data];\\n\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"3357623e-e41a-4441-aba4-4593cbc77bdd\",\n      \"name\": \"Split Out Workflows\",\n      \"type\": \"n8n-nodes-base.splitOut\",\n      \"position\": [\n        380,\n        -400\n      ],\n      \"parameters\": {\n        \"include\": \"allOtherFields\",\n        \"options\": {},\n        \"fieldToSplitOut\": \"id\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"b1a2d1df-4957-491d-9c8d-347c4c5197f1\",\n      \"name\": \"Split Out Workflows1\",\n      \"type\": \"n8n-nodes-base.splitOut\",\n      \"position\": [\n        380,\n        -80\n      ],\n      \"parameters\": {\n        \"include\": \"allOtherFields\",\n        \"options\": {},\n        \"fieldToSplitOut\": \"id\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"f0f4c869-f171-4019-a081-9c232851f0a9\",\n      \"name\": \"Merge Workflows\",\n      \"type\": \"n8n-nodes-base.merge\",\n      \"position\": [\n        600,\n        -260\n      ],\n      \"parameters\": {\n        \"mode\": \"combineBySql\",\n        \"query\": \"SELECT input1.name, input1.createdAt, input1.updatedAt, input1.active, input1.nodes, input1.settings, input1.connections, input1.pinData, input1.tags, input1.id\\nFROM input1\\nLEFT JOIN input2 \\nON input1.name = input2.name\\nWHERE input2.name IS NULL\\n\"\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"f69c8787-7590-4011-a36f-36c9192089cf\",\n      \"name\": \"Split Out Projects\",\n      \"type\": \"n8n-nodes-base.splitOut\",\n      \"position\": [\n        1600,\n        -160\n      ],\n      \"parameters\": {\n        \"include\": \"allOtherFields\",\n        \"options\": {},\n        \"fieldToSplitOut\": \"data\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"7c8f8957-f80c-4250-96fb-f86032e3aacc\",\n      \"name\": \"Filter Project\",\n      \"type\": \"n8n-nodes-base.filter\",\n      \"position\": [\n        1800,\n        -160\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"74ca2595-359b-4e17-988b-799306f748cf\",\n              \"operator\": {\n                \"name\": \"filter.operator.equals\",\n                \"type\": \"string\",\n                \"operation\": \"equals\"\n              },\n              \"leftValue\": \"={{ $json.data.name }}\",\n              \"rightValue\": \"z Original n8n Workflows from AlexK1919\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"0178ee38-a035-40e7-9a62-34dfdf6f0b93\",\n  \"connections\": {\n    \"Code\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Loop Over Items\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Filter Project\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"SET Project ID\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"SET Project ID\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"PUT - Workflow in Project\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"GET - Workflows\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Split Out Workflows\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Loop Over Items\": {\n      \"main\": [\n        [],\n        [\n          {\n            \"node\": \"CREATE - Workflow\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Merge Workflows\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Code\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"CREATE - Workflow\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"n8n - GET - Projects\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Split Out Projects\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Filter Project\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Split Out Workflows\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Merge Workflows\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Split Out Workflows1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Merge Workflows\",\n            \"type\": \"main\",\n            \"index\": 1\n          }\n        ]\n      ]\n    },\n    \"n8n - GET - Projects\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Split Out Projects\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"PUT - Workflow in Project\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Loop Over Items\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"GET - Destination Workflows\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Split Out Workflows1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When clicking ‘Test workflow’\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"GET - Workflows\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"GET - Destination Workflows\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.manualTrigger",
      "n8n-nodes-base.n8n",
      "n8n-nodes-base.n8n",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.set",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.splitInBatches",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.n8n",
      "n8n-nodes-base.code",
      "n8n-nodes-base.splitOut",
      "n8n-nodes-base.splitOut",
      "n8n-nodes-base.merge",
      "n8n-nodes-base.splitOut",
      "n8n-nodes-base.filter"
    ],
    "trigger": null
  }
}