{
  "source": "0860_Splitout_Limit_Send_Webhook.json",
  "index": 1,
  "content": "{\n  \"meta\": {\n    \"instanceId\": \"89c9c2dbc29ad74e9e02caaf3e27ce718c567278274962e355a9a9679d5f3af7\"\n  },\n  \"nodes\": [\n    {\n      \"id\": \"33e94ee1-4244-4075-bb4b-93a99a2cacd9\",\n      \"name\": \"OpenAI Chat Model\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\n      \"position\": [\n        20,\n        560\n      ],\n      \"parameters\": {\n        \"model\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gpt-4o-mini\"\n        },\n        \"options\": {}\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"dd97266d-a039-4d8f-bc7d-fb439ad5a6d7\",\n      \"name\": \"When clicking \\\"Execute Workflow\\\"\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        -180,\n        0\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"c4d4a979-3182-46c9-b145-fa4e6ba57011\",\n      \"name\": \"Fetch Essay List\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        80,\n        0\n      ],\n      \"parameters\": {\n        \"url\": \"http://www.paulgraham.com/articles.html\",\n        \"options\": {}\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"2e2913f9-d01a-41e8-b1b8-9a981910db7b\",\n      \"name\": \"Extract essay names\",\n      \"type\": \"n8n-nodes-base.html\",\n      \"position\": [\n        280,\n        0\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"operation\": \"extractHtmlContent\",\n        \"extractionValues\": {\n          \"values\": [\n            {\n              \"key\": \"essay\",\n              \"attribute\": \"href\",\n              \"cssSelector\": \"table table a\",\n              \"returnArray\": true,\n              \"returnValue\": \"attribute\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"c121dc65-37e3-49d4-b449-f28491e19a6f\",\n      \"name\": \"Split out into items\",\n      \"type\": \"n8n-nodes-base.splitOut\",\n      \"position\": [\n        480,\n        0\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"fieldToSplitOut\": \"essay\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"5644c48d-62b6-4e2d-ad25-013b55f5ec71\",\n      \"name\": \"Fetch essay texts\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        880,\n        0\n      ],\n      \"parameters\": {\n        \"url\": \"=http://www.paulgraham.com/{{ $json.essay }}\",\n        \"options\": {}\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"cd84596e-4046-4d33-9f43-cf464e5c5c01\",\n      \"name\": \"Limit to first 3\",\n      \"type\": \"n8n-nodes-base.limit\",\n      \"position\": [\n        680,\n        0\n      ],\n      \"parameters\": {\n        \"maxItems\": 3\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"318aeeed-fcce-4de2-aa04-92033ef01f28\",\n      \"name\": \"Extract Text Only\",\n      \"type\": \"n8n-nodes-base.html\",\n      \"position\": [\n        1200,\n        0\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"operation\": \"extractHtmlContent\",\n        \"extractionValues\": {\n          \"values\": [\n            {\n              \"key\": \"data\",\n              \"cssSelector\": \"body\",\n              \"skipSelectors\": \"img,nav\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"0668851e-a31f-4e6e-8966-4544092e318e\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        0,\n        -120\n      ],\n      \"parameters\": {\n        \"width\": 1071.752021563343,\n        \"height\": 285.66037735849045,\n        \"content\": \"## Scrape latest Paul Graham essays\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"cf9af24c-9e08-4f27-ad4e-509f72e54a9b\",\n      \"name\": \"Sticky Note5\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1120,\n        -120\n      ],\n      \"parameters\": {\n        \"width\": 625,\n        \"height\": 607,\n        \"content\": \"## Load into Milvus vector store\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"95e9a59d-1832-4eb7-b58d-ba391c1acb1c\",\n      \"name\": \"When chat message received\",\n      \"type\": \"@n8n/n8n-nodes-langchain.chatTrigger\",\n      \"position\": [\n        -200,\n        380\n      ],\n      \"webhookId\": \"cd2703a7-f912-46fe-8787-3fb83ea116ab\",\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"0076ea3d-e667-4df2-83c3-9de0d3de0498\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -380,\n        -160\n      ],\n      \"parameters\": {\n        \"width\": 280,\n        \"height\": 180,\n        \"content\": \"## Step 1\\n1. Set up a Milvus server based on [this guide](https://milvus.io/docs/install_standalone-docker-compose.md). And then create a collection named `my_collection`.\\n2. Click this workflow to load scrape and load Paul Graham essays to Milvus collection.\\n\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"e90a069e-cfd8-49f1-8fe6-a334bb920027\",\n      \"name\": \"Milvus Vector Store\",\n      \"type\": \"@n8n/n8n-nodes-langchain.vectorStoreMilvus\",\n      \"position\": [\n        1420,\n        0\n      ],\n      \"parameters\": {\n        \"mode\": \"insert\",\n        \"options\": {\n          \"clearCollection\": true\n        },\n        \"milvusCollection\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"my_collection\",\n          \"cachedResultName\": \"my_collection\"\n        }\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"d786c471-d564-4f25-beab-f1c7f4559f7a\",\n      \"name\": \"Default Data Loader\",\n      \"type\": \"@n8n/n8n-nodes-langchain.documentDefaultDataLoader\",\n      \"position\": [\n        1460,\n        220\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"jsonData\": \"={{ $('Extract Text Only').item.json.data }}\",\n        \"jsonMode\": \"expressionData\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"26730b7b-2bb9-46f8-83c3-3d4ffdfdef57\",\n      \"name\": \"Embeddings OpenAI\",\n      \"type\": \"@n8n/n8n-nodes-langchain.embeddingsOpenAi\",\n      \"position\": [\n        1320,\n        240\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"de836110-4073-44d5-bbf3-d57f57525f69\",\n      \"name\": \"Recursive Character Text Splitter\",\n      \"type\": \"@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter\",\n      \"position\": [\n        1540,\n        340\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"chunkSize\": 6000\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"ddaa936e-416a-40e4-adf6-cf7ebfb8b094\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -380,\n        280\n      ],\n      \"parameters\": {\n        \"width\": 280,\n        \"height\": 120,\n        \"content\": \"## Step 2\\nChat with this QA Chain with Milvus retriever\\n\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"f5b7410f-37c7-40ff-b841-12ed04252317\",\n      \"name\": \"Embeddings OpenAI1\",\n      \"type\": \"@n8n/n8n-nodes-langchain.embeddingsOpenAi\",\n      \"position\": [\n        80,\n        860\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"7a5d1b3f-9b2c-4943-9b40-2a213e30159c\",\n      \"name\": \"Milvus Vector Store1\",\n      \"type\": \"@n8n/n8n-nodes-langchain.vectorStoreMilvus\",\n      \"position\": [\n        120,\n        720\n      ],\n      \"parameters\": {\n        \"milvusCollection\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"my_collection\",\n          \"cachedResultName\": \"my_collection\"\n        }\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"2402387f-e147-4239-9128-34af296e0012\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -20,\n        360\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 574,\n        \"height\": 629,\n        \"content\": \"\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"3665ef25-e464-496a-84d6-980b96e78e9a\",\n      \"name\": \"Q&A Chain to Retrieve from Milvus and Answer Question\",\n      \"type\": \"@n8n/n8n-nodes-langchain.chainRetrievalQa\",\n      \"position\": [\n        120,\n        380\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"typeVersion\": 1.5\n    },\n    {\n      \"id\": \"10bf4a2c-ee2b-4185-b1e5-29b8664078fb\",\n      \"name\": \"Milvus Vector Store Retriever\",\n      \"type\": \"@n8n/n8n-nodes-langchain.retrieverVectorStore\",\n      \"position\": [\n        260,\n        580\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    }\n  ],\n  \"pinData\": {},\n  \"connections\": {\n    \"Fetch Essay List\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Extract essay names\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Limit to first 3\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Fetch essay texts\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Embeddings OpenAI\": {\n      \"ai_embedding\": [\n        [\n          {\n            \"node\": \"Milvus Vector Store\",\n            \"type\": \"ai_embedding\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Extract Text Only\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Milvus Vector Store\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Fetch essay texts\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Extract Text Only\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"OpenAI Chat Model\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Q&A Chain to Retrieve from Milvus and Answer Question\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Embeddings OpenAI1\": {\n      \"ai_embedding\": [\n        [\n          {\n            \"node\": \"Milvus Vector Store1\",\n            \"type\": \"ai_embedding\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Default Data Loader\": {\n      \"ai_document\": [\n        [\n          {\n            \"node\": \"Milvus Vector Store\",\n            \"type\": \"ai_document\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Extract essay names\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Split out into items\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Milvus Vector Store1\": {\n      \"ai_vectorStore\": [\n        [\n          {\n            \"node\": \"Milvus Vector Store Retriever\",\n            \"type\": \"ai_vectorStore\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Split out into items\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Limit to first 3\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When chat message received\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Q&A Chain to Retrieve from Milvus and Answer Question\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Milvus Vector Store Retriever\": {\n      \"ai_retriever\": [\n        [\n          {\n            \"node\": \"Q&A Chain to Retrieve from Milvus and Answer Question\",\n            \"type\": \"ai_retriever\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When clicking \\\"Execute Workflow\\\"\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Fetch Essay List\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Recursive Character Text Splitter\": {\n      \"ai_textSplitter\": [\n        [\n          {\n            \"node\": \"Default Data Loader\",\n            \"type\": \"ai_textSplitter\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "n8n-nodes-base.manualTrigger",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.html",
      "n8n-nodes-base.splitOut",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.limit",
      "n8n-nodes-base.html",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "@n8n/n8n-nodes-langchain.chatTrigger",
      "n8n-nodes-base.stickyNote",
      "@n8n/n8n-nodes-langchain.vectorStoreMilvus",
      "@n8n/n8n-nodes-langchain.documentDefaultDataLoader",
      "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter",
      "n8n-nodes-base.stickyNote",
      "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "@n8n/n8n-nodes-langchain.vectorStoreMilvus",
      "n8n-nodes-base.stickyNote",
      "@n8n/n8n-nodes-langchain.chainRetrievalQa",
      "@n8n/n8n-nodes-langchain.retrieverVectorStore"
    ],
    "trigger": null
  }
}