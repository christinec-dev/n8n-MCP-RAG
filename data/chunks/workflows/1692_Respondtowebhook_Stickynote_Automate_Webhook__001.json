{
  "source": "1692_Respondtowebhook_Stickynote_Automate_Webhook.json",
  "index": 1,
  "content": "{\n  \"meta\": {\n    \"instanceId\": \"f4f5d195bb2162a0972f737368404b18be694648d365d6c6771d7b4909d28167\"\n  },\n  \"nodes\": [\n    {\n      \"id\": \"b165115d-5505-4e03-bf41-c21320cb8b09\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        80,\n        40\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 681.8337349708484,\n        \"height\": 843.1482165886073,\n        \"content\": \"## Workflow: Text automations using Apple Shortcuts\\n\\n**Overview**\\n- This workflow answers user requests sent via Apple Shortcuts\\n- Several Shortcuts call the same webhook, with a query and a type of query\\n- Types of query are:\\n - translate to english\\n - translate to spanish\\n - correct grammar (without changing the actual content)\\n - make content shorter\\n - make content longer\\n\\n\\n**How it works**\\n- Select a text you are writing\\n- Launch the shortcut\\n- The text is sent to the webhook\\n- Depending on the type of request, a different prompt is used\\n- Each request is sent to an OpenAI node\\n- The workflow responds to the request with the response from GPT\\n- Shortcut replace the selected text with the new one\\n\\n**How to use it**\\n- Activate the workflow\\n- Download [this Shortcut template](https://drive.usercontent.google.com/u/0/uc?id=16zs5iJX7KeX_4e0SoV49_KfbU7-EF0NE&export=download)\\n- Install the shortcut\\n- In step 2 of the shortcut, change the url of the Webhook\\n- In Shortcut details, \\\"add Keyboard Shortcut\\\" with the key you want to use to launch the shortcut\\n- Go to settings, advanced, check \\\"Allow running scripts\\\"\\n- You are ready to use the shortcut. Select a text and hit the keyboard shortcut you just defined\\n\\n\\n**Notes**\\n- If you use rich formatting, you'll have to test multiple ways to replace characters in the output. For example, you might use `{{ $json.message.content.output.replaceAll('\\\\n', \\\"<br/>\\\") }}` in the \\\"Respond to Shortcut\\\" node depending on the app you use most.\\n- This is a basic example that you can extend and modify at your will\\n- You can duplicate and modify the example shortcut based on your need, as well as making new automations in this workflow.\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"c45400b8-d3b8-47f7-81c6-d791bce4c266\",\n      \"name\": \"Switch\",\n      \"type\": \"n8n-nodes-base.switch\",\n      \"position\": [\n        1020,\n        380\n      ],\n      \"parameters\": {\n        \"rules\": {\n          \"values\": [\n            {\n              \"outputKey\": \"spanish\",\n              \"conditions\": {\n                \"options\": {\n                  \"version\": 2,\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"operator\": {\n                      \"type\": \"string\",\n                      \"operation\": \"equals\"\n                    },\n                    \"leftValue\": \"={{ $json.body.type }}\",\n                    \"rightValue\": \"spanish\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            },\n            {\n              \"outputKey\": \"english\",\n              \"conditions\": {\n                \"options\": {\n                  \"version\": 2,\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"id\": \"bedb302f-646c-4dcd-8246-1fcfecfe3f2e\",\n                    \"operator\": {\n                      \"name\": \"filter.operator.equals\",\n                      \"type\": \"string\",\n                      \"operation\": \"equals\"\n                    },\n                    \"leftValue\": \"={{ $json.body.type }}\",\n                    \"rightValue\": \"english\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            },\n            {\n              \"outputKey\": \"grammar\",\n              \"conditions\": {\n                \"options\": {\n                  \"version\": 2,\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"id\": \"94e6cf7d-576d-4ad9-85b0-c6b945eb41b7\",\n                    \"operator\": {\n                      \"name\": \"filter.operator.equals\",\n                      \"type\": \"string\",\n                      \"operation\": \"equals\"\n                    },\n                    \"leftValue\": \"={{ $json.body.type }}\",\n                    \"rightValue\": \"grammar\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            },\n            {\n              \"outputKey\": \"shorter\",\n              \"conditions\": {\n                \"options\": {\n                  \"version\": 2,\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"id\": \"1ed0d1e1-2df0-4f8d-b102-4004a25919ed\",\n                    \"operator\": {\n                      \"name\": \"filter.operator.equals\",\n                      \"type\": \"string\",\n                      \"operation\": \"equals\"\n                    },\n                    \"leftValue\": \"={{ $json.body.type }}\",\n                    \"rightValue\": \"shorter\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            },\n            {\n              \"outputKey\": \"longer\",\n              \"conditions\": {\n                \"options\": {\n                  \"version\": 2,\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"id\": \"4756df03-7e7c-4e28-9b37-14684326b083\",\n                    \"operator\": {\n                      \"name\": \"filter.operator.equals\",\n                      \"type\": \"string\",\n                      \"operation\": \"equals\"\n                    },\n                    \"leftValue\": \"={{ $json.body.type }}\",\n                    \"rightValue\": \"longer\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            }\n          ]\n        },\n        \"options\": {}\n      },\n      \"typeVersion\": 3.2\n    },\n    {\n      \"id\": \"48e0e58e-6293-4e11-a488-ca9943b53484\",\n      \"name\": \"Respond to Shortcut\",\n      \"type\": \"n8n-nodes-base.respondToWebhook\",\n      \"position\": [\n        1840,\n        400\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"respondWith\": \"text\",\n        \"responseBody\": \"={{ $json.message.content.output.replaceAll('\\\\n', '<br/>') }}\"\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"2655b782-9538-416c-ae65-35f8c77889c7\",\n      \"name\": \"Webhook from Shortcut\",\n      \"type\": \"n8n-nodes-base.webhook\",\n      \"position\": [\n        840,\n        400\n      ],\n      \"webhookId\": \"e4ddadd2-a127-4690-98ca-e9ee75c1bdd6\",\n      \"parameters\": {\n        \"path\": \"shortcut-global-as\",\n        \"options\": {},\n        \"httpMethod\": \"POST\",\n        \"responseMode\": \"responseNode\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"880ed4a2-0756-4943-a51f-368678e22273\",\n      \"name\": \"OpenAI - Make Shorter\",\n      \"type\": \"@n8n/n8n-nodes-langchain.openAi\",\n      \"position\": [\n        1300,\n        540\n      ],\n      \"parameters\": {\n        \"modelId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gpt-4o-mini\",\n          \"cachedResultName\": \"GPT-4O-MINI\"\n        },\n        \"options\": {},\n        \"messages\": {\n          \"values\": [\n            {\n              \"role\": \"system\",\n              \"content\": \"Summarize this content a little bit (5% shorter)\\nOutput a JSON with a single field: output\"\n            },\n            {\n              \"content\": \"={{ $json.body.content }}\"\n            }\n          ]\n        },\n        \"jsonOutput\": true\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"WqzqjezKh8VtxdqA\",\n          \"name\": \"OpenAi account - Baptiste\"\n        }\n      },\n      \"typeVersion\": 1.4\n    },\n    {\n      \"id\": \"c6c6d988-7aab-4677-af1f-880d05691ec3\",\n      \"name\": \"OpenAI - Make Longer\",\n      \"type\": \"@n8n/n8n-nodes-langchain.openAi\",\n      \"position\": [\n        1300,\n        680\n      ],\n      \"parameters\": {\n        \"modelId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gpt-4o-mini\",\n          \"cachedResultName\": \"GPT-4O-MINI\"\n        },\n        \"options\": {},\n        \"messages\": {\n          \"values\": [\n            {\n              \"role\": \"system\",\n              \"content\": \"Make this content a little longer (5% longer)\\nOutput a JSON with a single field: output\"\n            },\n            {\n              \"content\": \"={{ $json.body.content }}\"\n            }\n          ]\n        },\n        \"jsonOutput\": true\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"WqzqjezKh8VtxdqA\",\n          \"name\": \"OpenAi account - Baptiste\"\n        }\n      },\n      \"typeVersion\": 1.4\n    },\n    {\n      \"id\": \"8e6de4b7-22c3-45c9-a8d7-d498cf829b6f\",\n      \"name\": \"OpenAI - Correct Grammar\",\n      \"type\": \"@n8n/n8n-nodes-langchain.openAi\",\n      \"position\": [\n        1300,\n        400\n      ],\n      \"parameters\": {\n        \"modelId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gpt-4o-mini\",\n          \"cachedResultName\": \"GPT-4O-MINI\"\n        },\n        \"options\": {},\n        \"messages\": {\n          \"values\": [\n            {\n              \"role\": \"system\",\n              \"content\": \"Correct grammar only, don't change the actual contents.\\nOutput a JSON with a single field: output\"\n            },\n            {\n              \"content\": \"={{ $json.body.content }}\"\n            }\n          ]\n        },\n        \"jsonOutput\": true\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"WqzqjezKh8VtxdqA\",\n          \"name\": \"OpenAi account - Baptiste\"\n        }\n      },\n      \"typeVersion\": 1.4\n    },\n    {\n      \"id\": \"bc006b36-5a96-4c3a-9a28-2778a6c49f10\",\n      \"name\": \"OpenAI - To Spanish\",\n      \"type\": \"@n8n/n8n-nodes-langchain.openAi\",\n      \"position\": [\n        1300,\n        120\n      ],\n      \"parameters\": {\n        \"modelId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gpt-4o-mini\",\n          \"cachedResultName\": \"GPT-4O-MINI\"\n        },\n        \"options\": {},\n        \"messages\": {\n          \"values\": [\n            {\n              \"role\": \"system\",\n              \"content\": \"Translate this message to Spanish.\\nOutput a JSON with a single field: output\"\n            },\n            {\n              \"content\": \"={{ $json.body.content }}\"\n            }\n          ]\n        },\n        \"jsonOutput\": true\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"WqzqjezKh8VtxdqA\",\n          \"name\": \"OpenAi account - Baptiste\"\n        }\n      },\n      \"typeVersion\": 1.4\n    },\n    {\n      \"id\": \"330d2e40-1e52-4517-94e0-ce96226697fa\",\n      \"name\": \"OpenAI - To English\",\n      \"type\": \"@n8n/n8n-nodes-langchain.openAi\",\n      \"position\": [\n        1300,\n        260\n      ],\n      \"parameters\": {\n        \"modelId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gpt-4o-mini\",\n          \"cachedResultName\": \"GPT-4O-MINI\"\n        },\n        \"options\": {},\n        \"messages\": {\n          \"values\": [\n            {\n              \"role\": \"system\",\n              \"content\": \"Translate this message to English.\\nOutput a JSON with a single field: output\"\n            },\n            {\n              \"content\": \"={{ $json.body.content }}\"\n            }\n          ]\n        },\n        \"jsonOutput\": true\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"WqzqjezKh8VtxdqA\",\n          \"name\": \"OpenAi account - Baptiste\"\n        }\n      },\n      \"typeVersion\": 1.4\n    },\n    {\n      \"id\": \"925e4b55-ac26-4c16-941f-66d17b6794ab\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        80,\n        900\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 469.15174499329123,\n        \"height\": 341.88919758842485,\n        \"content\": \"### Check these explanations [< 3 min]\\n\\n[![Check the explanations](https://cdn.loom.com/sessions/thumbnails/c5b657568af64bb1b50fa8e8a91c45d1-1db3990a618986c9-full-play.gif)](https://www.loom.com/share/c5b657568af64bb1b50fa8e8a91c45d1?sid=a406be73-55eb-4754-9f51-9ddf49b22d69)\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"pinData\": {},\n  \"connections\": {\n    \"Switch\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"OpenAI - To Spanish\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"OpenAI - To English\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"OpenAI - Correct Grammar\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"OpenAI - Make Shorter\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"OpenAI - Make Longer\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"OpenAI - To English\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Respond to Shortcut\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"OpenAI - To Spanish\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Respond to Shortcut\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"OpenAI - Make Longer\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Respond to Shortcut\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"OpenAI - Make Shorter\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Respond to Shortcut\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Webhook from Shortcut\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Switch\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"OpenAI - Correct Grammar\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Respond to Shortcut\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.switch",
      "n8n-nodes-base.respondToWebhook",
      "n8n-nodes-base.webhook",
      "@n8n/n8n-nodes-langchain.openAi",
      "@n8n/n8n-nodes-langchain.openAi",
      "@n8n/n8n-nodes-langchain.openAi",
      "@n8n/n8n-nodes-langchain.openAi",
      "@n8n/n8n-nodes-langchain.openAi",
      "n8n-nodes-base.stickyNote"
    ],
    "trigger": null
  }
}