{
  "source": "1641_Extractfromfile_Manual_Automation_Webhook.json",
  "index": 1,
  "content": "{\n  \"id\": \"SCUbdpVPX4USbQmr\",\n  \"meta\": {\n    \"instanceId\": \"7c617982c5622c49e1ea217f3ee01da25b7fb42fb9e969ce6e4e1b6c269ad0e5\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"name\": \"youtube chapter generator\",\n  \"tags\": [\n    {\n      \"id\": \"637Ga13eORejFbTG\",\n      \"name\": \"youtube\",\n      \"createdAt\": \"2025-04-06T16:41:11.086Z\",\n      \"updatedAt\": \"2025-04-06T16:41:11.086Z\"\n    },\n    {\n      \"id\": \"tfcUyZ2pGsRZFcje\",\n      \"name\": \"chapters\",\n      \"createdAt\": \"2025-04-06T16:41:28.633Z\",\n      \"updatedAt\": \"2025-04-06T16:41:28.633Z\"\n    }\n  ],\n  \"nodes\": [\n    {\n      \"id\": \"104fa4ce-cd86-4fff-b31c-0ef37fba6d93\",\n      \"name\": \"When clicking ‘Test workflow’\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        -800,\n        -120\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"c3b45480-3098-40f9-a77f-ada54481b590\",\n      \"name\": \"Get Caption ID\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        -200,\n        -120\n      ],\n      \"parameters\": {\n        \"url\": \"=https://www.googleapis.com/youtube/v3/captions?part=snippet&videoId={{ $json.id }}\",\n        \"options\": {},\n        \"authentication\": \"predefinedCredentialType\",\n        \"nodeCredentialType\": \"youTubeOAuth2Api\"\n      },\n      \"credentials\": {\n        \"youTubeOAuth2Api\": {\n          \"id\": \"1TkjUqPfFCQ6NzL7\",\n          \"name\": \"YouTube account\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"fe08adc4-e6ef-47ae-a946-1e6d5a85e10e\",\n      \"name\": \"Get Captions\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        20,\n        -120\n      ],\n      \"parameters\": {\n        \"url\": \"=https://www.googleapis.com/youtube/v3/captions/{{ $json.items[0].id }}?tfmt=srt\",\n        \"options\": {},\n        \"authentication\": \"predefinedCredentialType\",\n        \"nodeCredentialType\": \"youTubeOAuth2Api\"\n      },\n      \"credentials\": {\n        \"youTubeOAuth2Api\": {\n          \"id\": \"1TkjUqPfFCQ6NzL7\",\n          \"name\": \"YouTube account\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"0e15f334-9ff8-4a7e-85a9-4cf8cf10ea55\",\n      \"name\": \"Extract Captions\",\n      \"type\": \"n8n-nodes-base.extractFromFile\",\n      \"position\": [\n        240,\n        -120\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"operation\": \"text\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"af99a919-7ebc-4a6c-80be-83e2ffa68d05\",\n      \"name\": \"Structured Captions\",\n      \"type\": \"@n8n/n8n-nodes-langchain.outputParserStructured\",\n      \"position\": [\n        640,\n        100\n      ],\n      \"parameters\": {\n        \"jsonSchemaExample\": \"{\\n\\t\\\"description\\\": \\\"California\\\"\\n\\t\\n}\"\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"414a41a2-0715-4a57-a606-9f3678b2472a\",\n      \"name\": \"Get Video Meta Data\",\n      \"type\": \"n8n-nodes-base.youTube\",\n      \"position\": [\n        -420,\n        -120\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"videoId\": \"={{ $json.video_id }}\",\n        \"resource\": \"video\",\n        \"operation\": \"get\"\n      },\n      \"credentials\": {\n        \"youTubeOAuth2Api\": {\n          \"id\": \"1TkjUqPfFCQ6NzL7\",\n          \"name\": \"YouTube account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"7304d9b1-5956-41c3-b78a-2c409d0aa726\",\n      \"name\": \"Google Gemini Chat Model\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatGoogleGemini\",\n      \"position\": [\n        460,\n        100\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"modelName\": \"models/gemini-1.5-flash-8b-exp-0924\"\n      },\n      \"credentials\": {\n        \"googlePalmApi\": {\n          \"id\": \"FshILEOmCAPVoGfW\",\n          \"name\": \"Google Gemini(PaLM) Api account 2\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"867a6ad6-0712-4fbf-97fd-ab054b783172\",\n      \"name\": \"Set Video ID\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        -640,\n        -120\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"568762f7-e496-4550-8567-d49e2ce1676d\",\n              \"name\": \"video_id\",\n              \"type\": \"string\",\n              \"value\": \"r1wqsrW2vmE\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"dcd0c9d7-1a69-45e8-98e9-b7cf7d12734e\",\n      \"name\": \"Update Chapters\",\n      \"type\": \"n8n-nodes-base.youTube\",\n      \"position\": [\n        940,\n        -120\n      ],\n      \"parameters\": {\n        \"title\": \"={{ $('Get Video Meta Data').item.json.snippet.title }}\",\n        \"videoId\": \"={{ $('Get Captions').item.json.items[0].snippet.videoId }}\",\n        \"resource\": \"video\",\n        \"operation\": \"update\",\n        \"categoryId\": \"22\",\n        \"regionCode\": \"US\",\n        \"updateFields\": {\n          \"description\": \"={{ $json.output.description }}\\nChapters\\n{{ $json.output.description }}\"\n        }\n      },\n      \"credentials\": {\n        \"youTubeOAuth2Api\": {\n          \"id\": \"1TkjUqPfFCQ6NzL7\",\n          \"name\": \"YouTube account\"\n        }\n      },\n      \"typeVersion\": 1,\n      \"alwaysOutputData\": true\n    },\n    {\n      \"id\": \"916629c4-6e49-4432-88e8-626748cb3d24\",\n      \"name\": \"Tag Chapters in Description\",\n      \"type\": \"@n8n/n8n-nodes-langchain.chainLlm\",\n      \"position\": [\n        460,\n        -120\n      ],\n      \"parameters\": {\n        \"text\": \"=This is an srt format data. please classify this data into chapters\\nbased upon this transcript \\n{{ $json.data }}\\n{\\n\\\"description\\\":\\\"00:00 Introduction\\n02:15 Topic One\\n05:30 Topic Two\\n10:45 Conclusion\\\"\\n}\\n\",\n        \"promptType\": \"define\",\n        \"hasOutputParser\": true\n      },\n      \"typeVersion\": 1.6\n    },\n    {\n      \"id\": \"b0f56d68-b787-4ccc-8bb5-bdb5b04c3ae4\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -680,\n        -200\n      ],\n      \"parameters\": {\n        \"width\": 1040,\n        \"height\": 440,\n        \"content\": \"\\n## Get Captions\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"0bcee6b5-0e8b-4f85-8f83-c829e785467a\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        378,\n        -200\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 420,\n        \"height\": 440,\n        \"content\": \"## Generate Chapters\\n\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"0f90f6ec-2154-4945-b262-6531fef2334f\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        820,\n        -200\n      ],\n      \"parameters\": {\n        \"color\": 6,\n        \"width\": 440,\n        \"height\": 440,\n        \"content\": \"## Update Description\\n\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"27125160-7c64-4431-b243-832c1ae29d29\",\n  \"connections\": {\n    \"Get Captions\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Extract Captions\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Set Video ID\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get Video Meta Data\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get Caption ID\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get Captions\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Extract Captions\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Tag Chapters in Description\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get Video Meta Data\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get Caption ID\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Structured Captions\": {\n      \"ai_outputParser\": [\n        [\n          {\n            \"node\": \"Tag Chapters in Description\",\n            \"type\": \"ai_outputParser\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Google Gemini Chat Model\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Tag Chapters in Description\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Tag Chapters in Description\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Update Chapters\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When clicking ‘Test workflow’\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set Video ID\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.manualTrigger",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.extractFromFile",
      "@n8n/n8n-nodes-langchain.outputParserStructured",
      "n8n-nodes-base.youTube",
      "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "n8n-nodes-base.set",
      "n8n-nodes-base.youTube",
      "@n8n/n8n-nodes-langchain.chainLlm",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote"
    ],
    "trigger": null
  }
}