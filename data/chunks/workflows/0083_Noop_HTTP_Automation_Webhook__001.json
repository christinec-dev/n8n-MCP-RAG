{
  "source": "0083_Noop_HTTP_Automation_Webhook.json",
  "index": 1,
  "content": "{\n  \"id\": 11,\n  \"name\": \"Plex Automatic Throttler\",\n  \"nodes\": [\n    {\n      \"name\": \"Webhook\",\n      \"type\": \"n8n-nodes-base.webhook\",\n      \"position\": [\n        60,\n        440\n      ],\n      \"webhookId\": \"72a05ff6-05f5-4e7a-9eee-54a350bb6a47\",\n      \"parameters\": {\n        \"path\": \"72a05ff6-05f5-4e7a-9eee-54a350bb6a47\",\n        \"options\": {},\n        \"httpMethod\": \"POST\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Switch\",\n      \"type\": \"n8n-nodes-base.switch\",\n      \"position\": [\n        640,\n        580\n      ],\n      \"parameters\": {\n        \"rules\": {\n          \"rules\": [\n            {\n              \"value2\": \"media.resume\",\n              \"operation\": \"contains\"\n            },\n            {\n              \"output\": 1,\n              \"value2\": \"media.play\",\n              \"operation\": \"contains\"\n            },\n            {\n              \"output\": 2,\n              \"value2\": \"media.pause\",\n              \"operation\": \"contains\"\n            },\n            {\n              \"output\": 3,\n              \"value2\": \"media.stop\",\n              \"operation\": \"contains\"\n            }\n          ]\n        },\n        \"value1\": \"={{$node[\\\"Webhook\\\"].json[\\\"body\\\"][\\\"payload\\\"]}}\",\n        \"dataType\": \"string\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Resume\",\n      \"type\": \"n8n-nodes-base.noOp\",\n      \"position\": [\n        860,\n        280\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Check if Local\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        460,\n        440\n      ],\n      \"parameters\": {\n        \"conditions\": {\n          \"string\": [\n            {\n              \"value1\": \"={{$json[\\\"body\\\"][\\\"payload\\\"]}}\",\n              \"value2\": \"\\\"local\\\":false\",\n              \"operation\": \"contains\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Play\",\n      \"type\": \"n8n-nodes-base.noOp\",\n      \"position\": [\n        860,\n        440\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Don't Do Anything\",\n      \"type\": \"n8n-nodes-base.noOp\",\n      \"position\": [\n        660,\n        220\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Pause\",\n      \"type\": \"n8n-nodes-base.noOp\",\n      \"position\": [\n        860,\n        680\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Stop\",\n      \"type\": \"n8n-nodes-base.noOp\",\n      \"position\": [\n        860,\n        840\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Get QB Cookie\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1260,\n        360\n      ],\n      \"parameters\": {\n        \"url\": \"=http://{{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"internalIP\\\"]}}:{{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"port\\\"]}}/api/v2/auth/login\",\n        \"options\": {\n          \"fullResponse\": true\n        },\n        \"responseFormat\": \"string\",\n        \"queryParametersUi\": {\n          \"parameter\": [\n            {\n              \"name\": \"username\",\n              \"value\": \"={{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"username\\\"]}}\"\n            },\n            {\n              \"name\": \"password\",\n              \"value\": \"={{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"password\\\"]}}\"\n            }\n          ]\n        },\n        \"headerParametersUi\": {\n          \"parameter\": [\n            {\n              \"name\": \"Referer\",\n              \"value\": \"=http://localhost:{{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"port\\\"]}}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Get QB Cookie1\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1260,\n        760\n      ],\n      \"parameters\": {\n        \"url\": \"=http://{{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"internalIP\\\"]}}:{{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"port\\\"]}}/api/v2/auth/login\",\n        \"options\": {\n          \"fullResponse\": true\n        },\n        \"responseFormat\": \"string\",\n        \"queryParametersUi\": {\n          \"parameter\": [\n            {\n              \"name\": \"username\",\n              \"value\": \"={{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"username\\\"]}}\"\n            },\n            {\n              \"name\": \"password\",\n              \"value\": \"={{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"password\\\"]}}\"\n            }\n          ]\n        },\n        \"headerParametersUi\": {\n          \"parameter\": [\n            {\n              \"name\": \"Referer\",\n              \"value\": \"=http://localhost:{{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"port\\\"]}}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Global Variables\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        280,\n        440\n      ],\n      \"parameters\": {\n        \"values\": {\n          \"string\": [\n            {\n              \"name\": \"qbittorent.username\",\n              \"value\": \"yourusername\"\n            },\n            {\n              \"name\": \"qbittorent.password\",\n              \"value\": \"yourpassword\"\n            },\n            {\n              \"name\": \"qbittorent.internalIP\",\n              \"value\": \"192.168.1.218\"\n            },\n            {\n              \"name\": \"qbittorent.port\",\n              \"value\": \"2020\"\n            }\n          ]\n        },\n        \"options\": {}\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Check Throttle State\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1460,\n        360\n      ],\n      \"parameters\": {\n        \"url\": \"=http://{{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"internalIP\\\"]}}:{{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"port\\\"]}}/api/v2/transfer/speedLimitsMode\",\n        \"options\": {\n          \"fullResponse\": true\n        },\n        \"requestMethod\": \"POST\",\n        \"queryParametersUi\": {\n          \"parameter\": [\n            {\n              \"name\": \"Cookie\",\n              \"value\": \"={{$node[\\\"Get QB Cookie\\\"].json[\\\"headers\\\"][\\\"set-cookie\\\"][0].match(/[^;]*/).toString()}}\"\n            }\n          ]\n        },\n        \"headerParametersUi\": {\n          \"parameter\": [\n            {\n              \"name\": \"Referer\",\n              \"value\": \"=http://localhost:{{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"port\\\"]}}\"\n            },\n            {\n              \"name\": \"Cookie\",\n              \"value\": \"={{$node[\\\"Get QB Cookie\\\"].json[\\\"headers\\\"][\\\"set-cookie\\\"][0].match(/[^;]*/).toString()}}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Check if Throttled\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        1680,\n        360\n      ],\n      \"parameters\": {\n        \"conditions\": {\n          \"number\": [\n            {\n              \"value1\": \"={{$json[\\\"body\\\"]}}\",\n              \"value2\": 1,\n              \"operation\": \"equal\"\n            }\n          ],\n          \"string\": []\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Do Nothing\",\n      \"type\": \"n8n-nodes-base.noOp\",\n      \"position\": [\n        1900,\n        260\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Check Throttle State2\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1460,\n        760\n      ],\n      \"parameters\": {\n        \"url\": \"=http://{{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"internalIP\\\"]}}:{{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"port\\\"]}}/api/v2/transfer/speedLimitsMode\",\n        \"options\": {\n          \"fullResponse\": true\n        },\n        \"requestMethod\": \"POST\",\n        \"queryParametersUi\": {\n          \"parameter\": [\n            {\n              \"name\": \"Cookie\",\n              \"value\": \"={{$node[\\\"Get QB Cookie1\\\"].json[\\\"headers\\\"][\\\"set-cookie\\\"][0].match(/[^;]*/).toString()}}\"\n            }\n          ]\n        },\n        \"headerParametersUi\": {\n          \"parameter\": [\n            {\n              \"name\": \"Referer\",\n              \"value\": \"=http://localhost:{{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"port\\\"]}}\"\n            },\n            {\n              \"name\": \"Cookie\",\n              \"value\": \"={{$node[\\\"Get QB Cookie1\\\"].json[\\\"headers\\\"][\\\"set-cookie\\\"][0].match(/[^;]*/).toString()}}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Check if Throttled1\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        1660,\n        760\n      ],\n      \"parameters\": {\n        \"conditions\": {\n          \"number\": [\n            {\n              \"value1\": \"={{$json[\\\"body\\\"]}}\",\n              \"value2\": 1,\n              \"operation\": \"equal\"\n            }\n          ],\n          \"string\": []\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Do Nothing1\",\n      \"type\": \"n8n-nodes-base.noOp\",\n      \"position\": [\n        1900,\n        860\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Throttle Connection\",\n      \"type\": \"n8n-nodes-base.noOp\",\n      \"position\": [\n        1060,\n        360\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Resume Downloads\",\n      \"type\": \"n8n-nodes-base.noOp\",\n      \"position\": [\n        1060,\n        760\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Disable Throttle\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1900,\n        660\n      ],\n      \"parameters\": {\n        \"url\": \"=http://{{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"internalIP\\\"]}}:{{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"port\\\"]}}/api/v2/transfer/toggleSpeedLimitsMode\",\n        \"options\": {},\n        \"requestMethod\": \"POST\",\n        \"queryParametersUi\": {\n          \"parameter\": [\n            {\n              \"name\": \"Cookie\",\n              \"value\": \"={{$node[\\\"Get QB Cookie1\\\"].json[\\\"headers\\\"][\\\"set-cookie\\\"][0].match(/[^;]*/).toString()}}\"\n            }\n          ]\n        },\n        \"headerParametersUi\": {\n          \"parameter\": [\n            {\n              \"name\": \"Referer\",\n              \"value\": \"=http://localhost:{{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"port\\\"]}}\"\n            },\n            {\n              \"name\": \"Cookie\",\n              \"value\": \"={{$node[\\\"Get QB Cookie1\\\"].json[\\\"headers\\\"][\\\"set-cookie\\\"][0].match(/[^;]*/).toString()}}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Enable Throttle\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1900,\n        440\n      ],\n      \"parameters\": {\n        \"url\": \"=http://{{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"internalIP\\\"]}}:{{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"port\\\"]}}/api/v2/transfer/toggleSpeedLimitsMode\",\n        \"options\": {},\n        \"requestMethod\": \"POST\",\n        \"queryParametersUi\": {\n          \"parameter\": [\n            {\n              \"name\": \"Cookie\",\n              \"value\": \"={{$node[\\\"Get QB Cookie\\\"].json[\\\"headers\\\"][\\\"set-cookie\\\"][0].match(/[^;]*/).toString()}}\"\n            }\n          ]\n        },\n        \"headerParametersUi\": {\n          \"parameter\": [\n            {\n              \"name\": \"Referer\",\n              \"value\": \"=http://localhost:{{$node[\\\"Global Variables\\\"].json[\\\"qbittorent\\\"][\\\"port\\\"]}}\"\n            },\n            {\n              \"name\": \"Cookie\",\n              \"value\": \"={{$node[\\\"Get QB Cookie\\\"].json[\\\"headers\\\"][\\\"set-cookie\\\"][0].match(/[^;]*/).toString()}}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": true,\n  \"settings\": {},\n  \"connections\": {\n    \"Play\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Throttle Connection\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Stop\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Resume Downloads\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Pause\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Resume Downloads\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Resume\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Throttle Connection\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Switch\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Resume\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Play\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Pause\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Stop\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Webhook\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Global Variables\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get QB Cookie\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Check Throttle State\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Check if Local\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Don't Do Anything\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Switch\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get QB Cookie1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Check Throttle State2\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Global Variables\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Check if Local\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Resume Downloads\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get QB Cookie1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Check if Throttled\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Do Nothing\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Enable Throttle\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Check if Throttled1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Disable Throttle\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Do Nothing1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Throttle Connection\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get QB Cookie\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Check Throttle State\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Check if Throttled\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Check Throttle State2\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Check if Throttled1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.webhook",
      "n8n-nodes-base.switch",
      "n8n-nodes-base.noOp",
      "n8n-nodes-base.if",
      "n8n-nodes-base.noOp",
      "n8n-nodes-base.noOp",
      "n8n-nodes-base.noOp",
      "n8n-nodes-base.noOp",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.set",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.if",
      "n8n-nodes-base.noOp",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.if",
      "n8n-nodes-base.noOp",
      "n8n-nodes-base.noOp",
      "n8n-nodes-base.noOp",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.httpRequest"
    ],
    "trigger": null
  }
}