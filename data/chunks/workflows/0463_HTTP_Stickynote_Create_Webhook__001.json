{
  "source": "0463_HTTP_Stickynote_Create_Webhook.json",
  "index": 1,
  "content": "{\n  \"meta\": {\n    \"instanceId\": \"041bccf206a3546a759ec4c0a3bf1256e62051945bb270c48f91f3acb13dc080\"\n  },\n  \"nodes\": [\n    {\n      \"id\": \"401dbfb3-5475-4b00-b2df-3aa685815b05\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        340,\n        -260\n      ],\n      \"parameters\": {\n        \"width\": 747,\n        \"height\": 428,\n        \"content\": \"## Purpose \\nTo verify the mailing address for new contacts in HighLevel. \\n\\nWhenever I add a new contact to HighLevel, I run this automation to ensure I have a valid mailing address. It also helps me check for misspellings if the contact address was manually entered.\\n\\nQuick Video Overview:\\nhttps://www.loom.com/share/8995ca0b41ce473ebbad9c1973109c0f\\n\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"abca87a6-91ca-4597-aec7-28913c3a33b8\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1480,\n        -180\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 515,\n        \"height\": 763,\n        \"content\": \"Update HighLevel to indicate if the address is deliverable.\\nYou could: \\n- Add Tag\\n- Start Automation\\n- Update a Field\\n\\nFor Deliverable Addresses - I apply a tag that the address was verified.\\n\\nFor Non Deliverable Addresses - I apply a tag, which triggers an automation for my team to manually verify the address. You could also trigger an automation to reach out to the contact to verify their address.\\n\\n\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"0f21121c-c7fb-4697-9663-8ecf03ca76a5\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        520,\n        200\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"height\": 339,\n        \"content\": \"Receive a webhook from your CRM with the contact address fields\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"47c9e17d-0b30-41a3-bf83-eb4558fa7b85\",\n      \"name\": \"Set Address Fields\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        840,\n        280\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"8216105e-23ad-4c5c-8f4a-4f97658e0947\",\n              \"name\": \"address\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.address }}\"\n            },\n            {\n              \"id\": \"111da971-2473-4c5e-a106-22589cf47daf\",\n              \"name\": \"address2\",\n              \"type\": \"string\",\n              \"value\": \"\"\n            },\n            {\n              \"id\": \"ed62cf39-10f1-42f6-b18f-bfa58b4fe646\",\n              \"name\": \"city\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.city }}\"\n            },\n            {\n              \"id\": \"d9550200-04ac-4cf4-b7e6-cd40b793ce97\",\n              \"name\": \"state\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.state }}\"\n            },\n            {\n              \"id\": \"62269d11-c98c-4016-83ef-291176f2fc12\",\n              \"name\": \"zip\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.zip_code }}\"\n            }\n          ]\n        },\n        \"includeOtherFields\": true\n      },\n      \"typeVersion\": 3.3\n    },\n    {\n      \"id\": \"1ee9fabf-a456-4877-8f2c-1150b8e43c7a\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1000,\n        480\n      ],\n      \"parameters\": {\n        \"color\": 3,\n        \"width\": 430,\n        \"height\": 216,\n        \"content\": \"1. Create an Account a LOB.com\\n2. Create API Key (https://help.lob.com/account-management/api-keys)\\n3. Update Node with your Credentials (Basic Auth)\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"6bc67404-b292-4211-a8f9-568802e12786\",\n      \"name\": \"CRM Webhook Trigger\",\n      \"type\": \"n8n-nodes-base.webhook\",\n      \"position\": [\n        620,\n        280\n      ],\n      \"webhookId\": \"912a0210-7d6a-4517-9055-b8633c59a631\",\n      \"parameters\": {\n        \"path\": \"727deb6f-9d10-4492-92e6-38f3292510b0\",\n        \"options\": {},\n        \"httpMethod\": \"POST\"\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"9ab388c0-8e84-45da-9475-9b83d3f2852d\",\n      \"name\": \"Address Verification\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1060,\n        280\n      ],\n      \"parameters\": {\n        \"url\": \"https://api.lob.com/v1/us_verifications\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"sendBody\": true,\n        \"bodyParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"primary_line\",\n              \"value\": \"={{ $json.address }}\"\n            },\n            {\n              \"name\": \"secondary_line\",\n              \"value\": \"={{ $json.address2 }}\"\n            },\n            {\n              \"name\": \"city\",\n              \"value\": \"={{ $json.city }}\"\n            },\n            {\n              \"name\": \"state\",\n              \"value\": \"={{ $json.state }}\"\n            },\n            {\n              \"name\": \"zip_code\",\n              \"value\": \"={{ $json.zip_code }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 4.1\n    },\n    {\n      \"id\": \"50921e14-2fdf-4bac-8ef7-06fcb9e73176\",\n      \"name\": \"Update HighLevel - Deliverable\",\n      \"type\": \"n8n-nodes-base.highLevel\",\n      \"position\": [\n        1580,\n        160\n      ],\n      \"parameters\": {\n        \"email\": \"={{ $('CRM Webhook Trigger').item.json.email }}\",\n        \"phone\": \"={{ $('CRM Webhook Trigger').item.json.phone }}\",\n        \"additionalFields\": {\n          \"tags\": \"Mailing Address Deliverable\"\n        }\n      },\n      \"credentials\": {\n        \"highLevelApi\": {\n          \"id\": \"qJqOS89WQuqj4wXh\",\n          \"name\": \"Test\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"c81889cb-aeff-4afe-ae1c-747b30a4b6b1\",\n      \"name\": \"Update HighLevel - NOT Deliverable\",\n      \"type\": \"n8n-nodes-base.highLevel\",\n      \"position\": [\n        1580,\n        380\n      ],\n      \"parameters\": {\n        \"email\": \"={{ $('CRM Webhook Trigger').item.json.email }}\",\n        \"phone\": \"={{ $('CRM Webhook Trigger').item.json.phone }}\",\n        \"additionalFields\": {\n          \"tags\": \"Mailing Address NOT Deliverable\"\n        }\n      },\n      \"credentials\": {\n        \"highLevelApi\": {\n          \"id\": \"qJqOS89WQuqj4wXh\",\n          \"name\": \"Test\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"9f896b41-eeb9-4cde-9fc8-e1ba000a2b61\",\n      \"name\": \"Switch\",\n      \"type\": \"n8n-nodes-base.switch\",\n      \"position\": [\n        1280,\n        280\n      ],\n      \"parameters\": {\n        \"rules\": {\n          \"rules\": [\n            {\n              \"value2\": \"=deliverable\",\n              \"outputKey\": \"deliverable\"\n            },\n            {\n              \"value2\": \"deliverable\",\n              \"operation\": \"notEqual\",\n              \"outputKey\": \"NOT deliverable\"\n            }\n          ]\n        },\n        \"value1\": \"={{ $json.deliverability }}\",\n        \"dataType\": \"string\"\n      },\n      \"typeVersion\": 2\n    }\n  ],\n  \"pinData\": {\n    \"CRM Webhook Trigger\": [\n      {\n        \"city\": \"Washington\",\n        \"email\": \"mr.president@gmail.com\",\n        \"phone\": \"877-555-1212\",\n        \"state\": \"DC\",\n        \"address\": \"1600 Pennsylvania Avenue NW\",\n        \"zip_code\": \"20500\",\n        \"contact_id\": \"5551212\"\n      }\n    ]\n  },\n  \"connections\": {\n    \"Switch\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Update HighLevel - Deliverable\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Update HighLevel - NOT Deliverable\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Set Address Fields\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Address Verification\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"CRM Webhook Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set Address Fields\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Address Verification\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Switch\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.set",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.webhook",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.highLevel",
      "n8n-nodes-base.highLevel",
      "n8n-nodes-base.switch"
    ],
    "trigger": "crm webhook trigger"
  }
}