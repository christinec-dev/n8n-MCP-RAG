{
  "source": "1255_Webhook_Respondtowebhook_Automate_Webhook.json",
  "index": 1,
  "content": "{\n  \"id\": \"tMiRJYDrXzpKysTX\",\n  \"meta\": {\n    \"instanceId\": \"2723a3a635131edfcb16103f3d4dbaadf3658e386b4762989cbf49528dccbdbd\",\n    \"templateId\": \"1960\"\n  },\n  \"name\": \"Stock Q&A Workflow\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"ec3b86be-4113-4fd5-8365-02adb67693e9\",\n      \"name\": \"Embeddings OpenAI1\",\n      \"type\": \"@n8n/n8n-nodes-langchain.embeddingsOpenAi\",\n      \"position\": [\n        1960,\n        720\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"fOF5kro9BJ6KMQ7n\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"42fd8020-3861-4d0f-a7a2-70e2c35f0bed\",\n      \"name\": \"On new manual Chat Message\",\n      \"type\": \"@n8n/n8n-nodes-langchain.manualChatTrigger\",\n      \"disabled\": true,\n      \"position\": [\n        1620,\n        240\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"a9b48d04-691e-4537-90f8-d7a4aa6153af\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1560,\n        120\n      ],\n      \"parameters\": {\n        \"color\": 6,\n        \"width\": 903.0896125323785,\n        \"height\": 733.5099670584011,\n        \"content\": \"## Step 2: Setup the Q&A \\n### The incoming message from the webhook is queried from the Supabase Vector Store. The response is provided in the response webhook. \"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"472b4800-745a-4337-9545-163247f7e9ae\",\n      \"name\": \"Retrieval QA Chain\",\n      \"type\": \"@n8n/n8n-nodes-langchain.chainRetrievalQa\",\n      \"position\": [\n        1880,\n        240\n      ],\n      \"parameters\": {\n        \"query\": \"={{ $json.body.input }}\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"e58bd82d-abc6-44ed-8e93-ec5436126d66\",\n      \"name\": \"Respond to Webhook\",\n      \"type\": \"n8n-nodes-base.respondToWebhook\",\n      \"position\": [\n        2280,\n        240\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"respondWith\": \"text\",\n        \"responseBody\": \"={{ $json.response.text }}\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"04bbf01e-8269-47c7-897d-4ea94a1bd1c0\",\n      \"name\": \"Vector Store Retriever\",\n      \"type\": \"@n8n/n8n-nodes-langchain.retrieverVectorStore\",\n      \"position\": [\n        2020,\n        440\n      ],\n      \"parameters\": {\n        \"topK\": 5\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"feee6d68-2e0d-4d40-897e-c1d833a13bf2\",\n      \"name\": \"Webhook1\",\n      \"type\": \"n8n-nodes-base.webhook\",\n      \"position\": [\n        1620,\n        420\n      ],\n      \"webhookId\": \"679f4afb-189e-4f04-9dc0-439eec2ec5f1\",\n      \"parameters\": {\n        \"path\": \"19f5499a-3083-4783-93a0-e8ed76a9f742\",\n        \"options\": {},\n        \"httpMethod\": \"POST\",\n        \"responseMode\": \"responseNode\"\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"1b8d251f-7069-4d7d-b6d6-4bfa683d4ad1\",\n      \"name\": \"When clicking \\\"Execute Workflow\\\"\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        280,\n        260\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"b746a7a4-ed94-4332-bf7b-65aadcf54130\",\n      \"name\": \"Google Drive\",\n      \"type\": \"n8n-nodes-base.googleDrive\",\n      \"position\": [\n        580,\n        260\n      ],\n      \"parameters\": {\n        \"fileId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"1LZezppYrWpMStr4qJXtoIX-Dwzvgehll\",\n          \"cachedResultUrl\": \"https://drive.google.com/file/d/1LZezppYrWpMStr4qJXtoIX-Dwzvgehll/view?usp=drivesdk\",\n          \"cachedResultName\": \"crowdstrike.pdf\"\n        },\n        \"options\": {},\n        \"operation\": \"download\"\n      },\n      \"credentials\": {\n        \"googleDriveOAuth2Api\": {\n          \"id\": \"1tsDIpjUaKbXy0be\",\n          \"name\": \"Google Drive account\"\n        }\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"83a7d470-f934-436d-ba3f-1ae7c776f5a5\",\n      \"name\": \"Binary to Document\",\n      \"type\": \"@n8n/n8n-nodes-langchain.documentBinaryInputLoader\",\n      \"position\": [\n        860,\n        480\n      ],\n      \"parameters\": {\n        \"loader\": \"pdfLoader\",\n        \"options\": {}\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"b52b4a90-99a1-49cc-a6f0-7551d6754496\",\n      \"name\": \"Recursive Character Text Splitter\",\n      \"type\": \"@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter\",\n      \"position\": [\n        860,\n        640\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"chunkSize\": 3000,\n        \"chunkOverlap\": 200\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"b525e130-2029-4f55-a603-1fdc05a19c17\",\n      \"name\": \"Embeddings OpenAI\",\n      \"type\": \"@n8n/n8n-nodes-langchain.embeddingsOpenAi\",\n      \"position\": [\n        1160,\n        480\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"fOF5kro9BJ6KMQ7n\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"5358c53f-55f9-431d-8956-c6bae7ad25bc\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        540,\n        120\n      ],\n      \"parameters\": {\n        \"color\": 6,\n        \"width\": 772.0680602743597,\n        \"height\": 732.3675002130781,\n        \"content\": \"## Step 1: Upserting the PDF\\n### Fetch file from Google Drive, split it into chunks and insert into Supabase index\\n\\n\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"fb91e2da-0eeb-47a5-aa49-65bf56986857\",\n      \"name\": \"Qdrant Vector Store\",\n      \"type\": \"@n8n/n8n-nodes-langchain.vectorStoreQdrant\",\n      \"position\": [\n        940,\n        260\n      ],\n      \"parameters\": {\n        \"mode\": \"insert\",\n        \"options\": {},\n        \"qdrantCollection\": {\n          \"__rl\": true,\n          \"mode\": \"id\",\n          \"value\": \"=crowd\"\n        }\n      },\n      \"credentials\": {\n        \"qdrantApi\": {\n          \"id\": \"U5CpjAgFeXziP3I1\",\n          \"name\": \"QdrantApi account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"89e14837-d1fc-4b1e-9ebc-7cf3e7fd9a70\",\n      \"name\": \"Qdrant Vector Store1\",\n      \"type\": \"@n8n/n8n-nodes-langchain.vectorStoreQdrant\",\n      \"position\": [\n        1980,\n        600\n      ],\n      \"parameters\": {\n        \"qdrantCollection\": {\n          \"__rl\": true,\n          \"mode\": \"id\",\n          \"value\": \"={{ $json.body.company }}\"\n        }\n      },\n      \"credentials\": {\n        \"qdrantApi\": {\n          \"id\": \"U5CpjAgFeXziP3I1\",\n          \"name\": \"QdrantApi account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"c619245b-5ea0-4354-974d-21ec6b8efa93\",\n      \"name\": \"OpenAI Chat Model\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\n      \"position\": [\n        1880,\n        460\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"fOF5kro9BJ6KMQ7n\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"e4aa780d-8069-4308-a61f-82ed876af71a\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -560,\n        120\n      ],\n      \"parameters\": {\n        \"color\": 6,\n        \"width\": 710.9124489067698,\n        \"height\": 726.4452519516944,\n        \"content\": \"## Start here: Step-by Step Youtube Tutorial :star:\\n\\n[![Building an AI Crew to Analyze Financial Data with CrewAI and n8n](https://img.youtube.com/vi/pMvizUx5n1g/sddefault.jpg)](https://www.youtube.com/watch?v=pMvizUx5n1g)\\n\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": true,\n  \"pinData\": {},\n  \"settings\": {},\n  \"versionId\": \"463aec94-26a6-436d-8732-fc01d637c6ae\",\n  \"connections\": {\n    \"Webhook1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Retrieval QA Chain\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Google Drive\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Qdrant Vector Store\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Embeddings OpenAI\": {\n      \"ai_embedding\": [\n        [\n          {\n            \"node\": \"Qdrant Vector Store\",\n            \"type\": \"ai_embedding\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"OpenAI Chat Model\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Retrieval QA Chain\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Binary to Document\": {\n      \"ai_document\": [\n        [\n          {\n            \"node\": \"Qdrant Vector Store\",\n            \"type\": \"ai_document\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Embeddings OpenAI1\": {\n      \"ai_embedding\": [\n        [\n          {\n            \"node\": \"Qdrant Vector Store1\",\n            \"type\": \"ai_embedding\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Retrieval QA Chain\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Respond to Webhook\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Qdrant Vector Store1\": {\n      \"ai_vectorStore\": [\n        [\n          {\n            \"node\": \"Vector Store Retriever\",\n            \"type\": \"ai_vectorStore\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Vector Store Retriever\": {\n      \"ai_retriever\": [\n        [\n          {\n            \"node\": \"Retrieval QA Chain\",\n            \"type\": \"ai_retriever\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"On new manual Chat Message\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Retrieval QA Chain\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When clicking \\\"Execute Workflow\\\"\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Google Drive\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Recursive Character Text Splitter\": {\n      \"ai_textSplitter\": [\n        [\n          {\n            \"node\": \"Binary to Document\",\n            \"type\": \"ai_textSplitter\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "@n8n/n8n-nodes-langchain.manualChatTrigger",
      "n8n-nodes-base.stickyNote",
      "@n8n/n8n-nodes-langchain.chainRetrievalQa",
      "n8n-nodes-base.respondToWebhook",
      "@n8n/n8n-nodes-langchain.retrieverVectorStore",
      "n8n-nodes-base.webhook",
      "n8n-nodes-base.manualTrigger",
      "n8n-nodes-base.googleDrive",
      "@n8n/n8n-nodes-langchain.documentBinaryInputLoader",
      "@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter",
      "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "n8n-nodes-base.stickyNote",
      "@n8n/n8n-nodes-langchain.vectorStoreQdrant",
      "@n8n/n8n-nodes-langchain.vectorStoreQdrant",
      "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "n8n-nodes-base.stickyNote"
    ],
    "trigger": null
  }
}