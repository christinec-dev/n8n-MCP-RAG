{
  "source": "1998_Splitout_Postgres_Sync_Scheduled.json",
  "index": 1,
  "content": "{\n  \"id\": \"wDD4XugmHIvx3KMT\",\n  \"meta\": {\n    \"instanceId\": \"149cdf730f0c143663259ddc6124c9c26e824d8d2d059973b871074cf4bda531\"\n  },\n  \"name\": \"Synchronize your Google Sheets with Postgres\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"44171bad-84b6-49f8-b538-fb0c2d52db43\",\n      \"name\": \"Schedule Trigger\",\n      \"type\": \"n8n-nodes-base.scheduleTrigger\",\n      \"position\": [\n        900,\n        360\n      ],\n      \"parameters\": {\n        \"rule\": {\n          \"interval\": [\n            {\n              \"field\": \"hours\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"1d1558cc-523b-4985-81e2-da49e3d0f4b7\",\n      \"name\": \"Compare Datasets\",\n      \"type\": \"n8n-nodes-base.compareDatasets\",\n      \"position\": [\n        1820,\n        380\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"resolve\": \"preferInput1\",\n        \"mergeByFields\": {\n          \"values\": [\n            {\n              \"field1\": \"first_name\",\n              \"field2\": \"first_name\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.3\n    },\n    {\n      \"id\": \"b4442fd7-6817-40bb-a76e-851659c836ec\",\n      \"name\": \"Split Out Relevant Fields\",\n      \"type\": \"n8n-nodes-base.splitOut\",\n      \"position\": [\n        1460,\n        240\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"fieldToSplitOut\": \"first_name, last_name, town, age\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"b63899bd-f842-4ead-a590-9bdacdc9b3c0\",\n      \"name\": \"Retrieve Sheets Data\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        1200,\n        240\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"sheetName\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gid=0\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1jhUobbdaEuX093J745TsPFMPFbzAIIgx6HnIzdqYqhg/edit#gid=0\",\n          \"cachedResultName\": \"Sheet1\"\n        },\n        \"documentId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"1jhUobbdaEuX093J745TsPFMPFbzAIIgx6HnIzdqYqhg\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1jhUobbdaEuX093J745TsPFMPFbzAIIgx6HnIzdqYqhg/edit?usp=drivesdk\",\n          \"cachedResultName\": \"Testing_Sheet\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"ae4918fb-07ef-48db-ba25-ea34c5af43af\",\n      \"name\": \"Select Rows in Postgres\",\n      \"type\": \"n8n-nodes-base.postgres\",\n      \"position\": [\n        1200,\n        540\n      ],\n      \"parameters\": {\n        \"table\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"testing\",\n          \"cachedResultName\": \"testing\"\n        },\n        \"schema\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"public\"\n        },\n        \"options\": {},\n        \"operation\": \"select\",\n        \"returnAll\": true\n      },\n      \"typeVersion\": 2.3\n    },\n    {\n      \"id\": \"4d08d771-0e80-445e-92db-08197418512d\",\n      \"name\": \"Insert Rows\",\n      \"type\": \"n8n-nodes-base.postgres\",\n      \"position\": [\n        2300,\n        260\n      ],\n      \"parameters\": {\n        \"table\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"testing\",\n          \"cachedResultName\": \"testing\"\n        },\n        \"schema\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"public\"\n        },\n        \"columns\": {\n          \"value\": {},\n          \"schema\": [\n            {\n              \"id\": \"first_name\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"first_name\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"last_name\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"last_name\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"town\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"town\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"age\",\n              \"type\": \"number\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"age\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"autoMapInputData\",\n          \"matchingColumns\": []\n        },\n        \"options\": {}\n      },\n      \"typeVersion\": 2.3\n    },\n    {\n      \"id\": \"3fd7baa1-72c7-4587-a557-02eb4dfa92f5\",\n      \"name\": \"Update Rows\",\n      \"type\": \"n8n-nodes-base.postgres\",\n      \"position\": [\n        2300,\n        460\n      ],\n      \"parameters\": {\n        \"table\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"testing\",\n          \"cachedResultName\": \"testing\"\n        },\n        \"schema\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"public\"\n        },\n        \"columns\": {\n          \"value\": {\n            \"age\": \"={{ $json.age }}\",\n            \"town\": \"={{ $json.town }}\",\n            \"last_name\": \"={{ $json.last_name }}\",\n            \"first_name\": \"={{ $json.first_name }}\"\n          },\n          \"schema\": [\n            {\n              \"id\": \"first_name\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"first_name\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"last_name\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"last_name\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"town\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"town\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"age\",\n              \"type\": \"number\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"age\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": [\n            \"first_name\",\n            \"last_name\"\n          ]\n        },\n        \"options\": {},\n        \"operation\": \"update\"\n      },\n      \"typeVersion\": 2.3\n    },\n    {\n      \"id\": \"fc8dbe79-a54d-46fb-8ef7-4bb8b2a402ee\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        360,\n        260\n      ],\n      \"parameters\": {\n        \"width\": 485.5994596522446,\n        \"height\": 350.08576009540855,\n        \"content\": \"## Setup ##\\nIn order to make this automation work for you, you need to make a few adjustments:\\n\\n1. Add your Postgres & Google Sheets Credentials to the respective Nodes\\n\\n2. Select the Sheet (Google Sheets) and the table (Postgres) you want to sync\\n\\n3. Update the Insert & Update Queries so that the data is updated in the table you also selected the rows from in the first step\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"3719112b-1ec7-4402-a366-b1b845819e8d\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        2080,\n        160\n      ],\n      \"parameters\": {\n        \"width\": 485.5994596522446,\n        \"height\": 486.693620858174,\n        \"content\": \"## Updating Your Database \\nUsing Insert Rows & Update Rows as Separate Postgres Node's\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"7742972b-7996-4f9a-9c1d-700737b94eec\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1080,\n        140\n      ],\n      \"parameters\": {\n        \"width\": 543.3950930518761,\n        \"height\": 553.2461684092643,\n        \"content\": \"## Retrieving Data & Spitting Out Fields \\nGet the Data you want to compare and split out the relevant fields\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"ac0f0ed3-3f25-4672-a34a-29b5f4402e63\",\n  \"connections\": {\n    \"Compare Datasets\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Insert Rows\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [],\n        [\n          {\n            \"node\": \"Update Rows\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Schedule Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Retrieve Sheets Data\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Select Rows in Postgres\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Retrieve Sheets Data\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Split Out Relevant Fields\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Select Rows in Postgres\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Compare Datasets\",\n            \"type\": \"main\",\n            \"index\": 1\n          }\n        ]\n      ]\n    },\n    \"Split Out Relevant Fields\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Compare Datasets\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.scheduleTrigger",
      "n8n-nodes-base.compareDatasets",
      "n8n-nodes-base.splitOut",
      "n8n-nodes-base.googleSheets",
      "n8n-nodes-base.postgres",
      "n8n-nodes-base.postgres",
      "n8n-nodes-base.postgres",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote"
    ],
    "trigger": "schedule trigger"
  }
}