{
  "source": "1793_Executeworkflow_Airtabletool_Automation_Triggered.json",
  "index": 1,
  "content": "{\n  \"name\": \"ðŸ¤–Contact Agent\",\n  \"nodes\": [\n    {\n      \"parameters\": {\n        \"model\": {\n          \"__rl\": true,\n          \"value\": \"gpt-4o\",\n          \"mode\": \"list\",\n          \"cachedResultName\": \"gpt-4o\"\n        },\n        \"options\": {}\n      },\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\n      \"typeVersion\": 1.2,\n      \"position\": [\n        -140,\n        140\n      ],\n      \"id\": \"789b640d-a981-43a1-ae88-9dbbd4de92c0\",\n      \"name\": \"OpenAI Chat Model\",\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"BP9v81AwJlpYGStD\",\n          \"name\": \"OpenAi account\"\n        }\n      }\n    },\n    {\n      \"parameters\": {\n        \"operation\": \"search\",\n        \"base\": {\n          \"__rl\": true,\n          \"value\": \"appK0rbtvf9e7vt6w\",\n          \"mode\": \"list\",\n          \"cachedResultName\": \"Contacts\",\n          \"cachedResultUrl\": \"https://airtable.com/appK0rbtvf9e7vt6w\"\n        },\n        \"table\": {\n          \"__rl\": true,\n          \"value\": \"tbl08JGCfUK1RhXsG\",\n          \"mode\": \"list\",\n          \"cachedResultName\": \"Contacts\",\n          \"cachedResultUrl\": \"https://airtable.com/appK0rbtvf9e7vt6w/tbl08JGCfUK1RhXsG\"\n        },\n        \"options\": {}\n      },\n      \"type\": \"n8n-nodes-base.airtableTool\",\n      \"typeVersion\": 2.1,\n      \"position\": [\n        40,\n        140\n      ],\n      \"id\": \"6b3489a8-75be-461b-a4e4-9592a23a138f\",\n      \"name\": \"Get Contacts\",\n      \"credentials\": {\n        \"airtableTokenApi\": {\n          \"id\": \"UlAGE0msyITVkoCN\",\n          \"name\": \"Nate Airtable\"\n        }\n      }\n    },\n    {\n      \"parameters\": {\n        \"operation\": \"upsert\",\n        \"base\": {\n          \"__rl\": true,\n          \"value\": \"appK0rbtvf9e7vt6w\",\n          \"mode\": \"list\",\n          \"cachedResultName\": \"Contacts\",\n          \"cachedResultUrl\": \"https://airtable.com/appK0rbtvf9e7vt6w\"\n        },\n        \"table\": {\n          \"__rl\": true,\n          \"value\": \"tbl08JGCfUK1RhXsG\",\n          \"mode\": \"list\",\n          \"cachedResultName\": \"Contacts\",\n          \"cachedResultUrl\": \"https://airtable.com/appK0rbtvf9e7vt6w/tbl08JGCfUK1RhXsG\"\n        },\n        \"columns\": {\n          \"mappingMode\": \"defineBelow\",\n          \"value\": {\n            \"name\": \"={{ $fromAI(\\\"name\\\") }}\",\n            \"email\": \"={{ $fromAI(\\\"emailAddress\\\") }}\",\n            \"phoneNumber\": \"={{ $fromAI(\\\"phoneNumber\\\") }}\"\n          },\n          \"matchingColumns\": [\n            \"name\"\n          ],\n          \"schema\": [\n            {\n              \"id\": \"name\",\n              \"displayName\": \"name\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true,\n              \"display\": true,\n              \"type\": \"string\",\n              \"readOnly\": false,\n              \"removed\": false\n            },\n            {\n              \"id\": \"email\",\n              \"displayName\": \"email\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true,\n              \"display\": true,\n              \"type\": \"string\",\n              \"readOnly\": false,\n              \"removed\": false\n            },\n            {\n              \"id\": \"phoneNumber\",\n              \"displayName\": \"phoneNumber\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true,\n              \"display\": true,\n              \"type\": \"string\",\n              \"readOnly\": false,\n              \"removed\": false\n            }\n          ],\n          \"attemptToConvertTypes\": false,\n          \"convertFieldsToString\": false\n        },\n        \"options\": {}\n      },\n      \"type\": \"n8n-nodes-base.airtableTool\",\n      \"typeVersion\": 2.1,\n      \"position\": [\n        200,\n        140\n      ],\n      \"id\": \"a0eb4ad0-4e60-41bd-8854-ad20942453a4\",\n      \"name\": \"Add or Update Contact\",\n      \"credentials\": {\n        \"airtableTokenApi\": {\n          \"id\": \"UlAGE0msyITVkoCN\",\n          \"name\": \"Nate Airtable\"\n        }\n      }\n    },\n    {\n      \"parameters\": {\n        \"promptType\": \"define\",\n        \"text\": \"={{ $json.query }}\",\n        \"options\": {\n          \"systemMessage\": \"=# Overview\\nYou are a contact management assistant. Your responsibilities include looking up contacts, adding new contacts, or updating a contact's information.\\n\\n**Contact Management**  \\n   - Use \\\"Get Contacts\\\" to retrieve contact information. \\n   - Use \\\"Add or Update Contact\\\" to store new contact information or modify existing entries. \"\n        }\n      },\n      \"type\": \"@n8n/n8n-nodes-langchain.agent\",\n      \"typeVersion\": 1.7,\n      \"position\": [\n        -20,\n        -80\n      ],\n      \"id\": \"a3b9dae0-1458-4cb1-b17c-9349d41c03b5\",\n      \"name\": \"Contact Agent\",\n      \"onError\": \"continueErrorOutput\"\n    },\n    {\n      \"parameters\": {\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"4f360190-a717-4a93-8336-d03ea65975d5\",\n              \"name\": \"response\",\n              \"value\": \"={{ $json.output }}\",\n              \"type\": \"string\"\n            }\n          ]\n        },\n        \"options\": {}\n      },\n      \"type\": \"n8n-nodes-base.set\",\n      \"typeVersion\": 3.4,\n      \"position\": [\n        500,\n        -160\n      ],\n      \"id\": \"c33b944e-cb4f-447b-ad1f-5e199ed078ac\",\n      \"name\": \"Response\"\n    },\n    {\n      \"parameters\": {\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"4f360190-a717-4a93-8336-d03ea65975d5\",\n              \"name\": \"response\",\n              \"value\": \"An error occurred. Please try again.\",\n              \"type\": \"string\"\n            }\n          ]\n        },\n        \"options\": {}\n      },\n      \"type\": \"n8n-nodes-base.set\",\n      \"typeVersion\": 3.4,\n      \"position\": [\n        500,\n        20\n      ],\n      \"id\": \"2df9e0c0-3f4f-4a06-a36f-f552fe99e2b8\",\n      \"name\": \"Try Again\"\n    },\n    {\n      \"parameters\": {\n        \"inputSource\": \"passthrough\"\n      },\n      \"type\": \"n8n-nodes-base.executeWorkflowTrigger\",\n      \"typeVersion\": 1.1,\n      \"position\": [\n        -240,\n        -80\n      ],\n      \"id\": \"ca88c05c-5a68-4a88-b15b-22398fb15d86\",\n      \"name\": \"When Executed by Another Workflow\"\n    }\n  ],\n  \"pinData\": {},\n  \"connections\": {\n    \"OpenAI Chat Model\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Contact Agent\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get Contacts\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"Contact Agent\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Add or Update Contact\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"Contact Agent\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Contact Agent\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Response\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Try Again\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When Executed by Another Workflow\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Contact Agent\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  },\n  \"active\": false,\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"24f13596-516c-4365-b91d-e477ed1c652b\",\n  \"meta\": {\n    \"templateCredsSetupCompleted\": true,\n    \"instanceId\": \"95e5a8c2e51c83e33b232ea792bbe3f063c094c33d9806a5565cb31759e1ad39\"\n  },\n  \"id\": \"IsSUyrla7wc1cDLE\",\n  \"tags\": []\n}",
  "metadata": {
    "node_types": [
      "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "n8n-nodes-base.airtableTool",
      "n8n-nodes-base.airtableTool",
      "@n8n/n8n-nodes-langchain.agent",
      "n8n-nodes-base.set",
      "n8n-nodes-base.set",
      "n8n-nodes-base.executeWorkflowTrigger"
    ],
    "trigger": null
  }
}