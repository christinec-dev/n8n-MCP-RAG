{
  "source": "1651_HTTP_Schedule_Automation_Webhook.json",
  "index": 1,
  "content": "{\n  \"id\": \"Sebvr1R2t4zkAg1V\",\n  \"meta\": {\n    \"instanceId\": \"558d88703fb65b2d0e44613bc35916258b0f0bf983c5d4730c00c424b77ca36a\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"name\": \"Gratitude Jar Reminder\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"ac48becc-e207-489b-a8e4-a8f69780c626\",\n      \"name\": \"Trigger 2100 Bear Gratitude Jar Notice\",\n      \"type\": \"n8n-nodes-base.scheduleTrigger\",\n      \"position\": [\n        -80,\n        -100\n      ],\n      \"parameters\": {\n        \"rule\": {\n          \"interval\": [\n            {\n              \"triggerAtHour\": 21\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"37f46ac1-5c0b-4cdf-aa33-67fad80dafdd\",\n      \"name\": \"WriteReminder\",\n      \"type\": \"@n8n/n8n-nodes-langchain.chainLlm\",\n      \"position\": [\n        180,\n        -100\n      ],\n      \"parameters\": {\n        \"text\": \"=Today is a wonderful day! ðŸŒŸ What or who brought a smile to your face today? ðŸ˜Š\\n\",\n        \"messages\": {\n          \"messageValues\": [\n            {\n              \"message\": \"You'll rewrite this message to send reminder to user to record good thing today.\"\n            }\n          ]\n        },\n        \"promptType\": \"define\"\n      },\n      \"typeVersion\": 1.5\n    },\n    {\n      \"id\": \"816f8089-a54f-4860-a658-448ab53a08fd\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -180,\n        -240\n      ],\n      \"parameters\": {\n        \"width\": 300,\n        \"height\": 360,\n        \"content\": \"## Trigger \\nWe schedule the trigger at 9.00 pm before going to bed. This flow is to reflect what is the great thing that happened today.\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"c7a620fe-2a50-4cfb-af91-8a4b4ca58adb\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        160,\n        -240\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 300,\n        \"height\": 360,\n        \"content\": \"## Write Reminder\\nAfter getting the same reminder, we tend to ignore it. This is to generate variations of reminder by setting the temperature of the model at 0.9\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"66b865a1-0a6c-4a3c-abb3-024ec7ff8b40\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        500,\n        -240\n      ],\n      \"parameters\": {\n        \"color\": 6,\n        \"width\": 300,\n        \"height\": 360,\n        \"content\": \"## Reformatted \\nThis is to reformat text to be able to send in Line Push API properly.\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"adb8cf4e-de77-4490-a8da-b32122c3a730\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        840,\n        -240\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 300,\n        \"height\": 360,\n        \"content\": \"## Push Message\\nSend push message via LINE\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"6562967a-fae7-400a-913a-4cf68e70b40a\",\n      \"name\": \"Reformat Output from Chat Model\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        600,\n        -100\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"90abc5a6-c9b9-4b0d-b433-c6f90816dba3\",\n              \"name\": \"posestoday\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.text.replaceAll(\\\"\\\\n\\\",\\\"\\\\\\\\n\\\").replaceAll(\\\"\\\\n\\\",\\\"\\\").removeMarkdown().removeTags().replaceAll('\\\"',\\\"\\\") }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"d2ab000a-6f3a-494f-807f-829cbb124685\",\n      \"name\": \"Azure OpenAI Chat Model\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatAzureOpenAi\",\n      \"position\": [\n        280,\n        -20\n      ],\n      \"parameters\": {\n        \"model\": \"4o\",\n        \"options\": {\n          \"temperature\": 0.9\n        }\n      },\n      \"credentials\": {\n        \"azureOpenAiApi\": {\n          \"id\": \"5AjoWhww5SQi2VXd\",\n          \"name\": \"Azure Open AI account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"c548df75-dc6c-472f-8992-77f0f57d4732\",\n      \"name\": \"Line Push Message\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        940,\n        -100\n      ],\n      \"parameters\": {\n        \"url\": \"https://api.line.me/v2/bot/message/push\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"jsonBody\": \"={\\n    \\\"to\\\": \\\"YOUR ID HERE\\\",\\n    \\\"messages\\\":[\\n        {\\n            \\\"type\\\":\\\"text\\\",\\n            \\\"text\\\":\\\"{{ $json.posestoday }}\\\"\\n        }\\n    ]\\n} \",\n        \"sendBody\": true,\n        \"specifyBody\": \"json\",\n        \"authentication\": \"genericCredentialType\",\n        \"genericAuthType\": \"httpHeaderAuth\"\n      },\n      \"credentials\": {\n        \"httpHeaderAuth\": {\n          \"id\": \"yiPG7xPwvDzsY0Qd\",\n          \"name\": \"Line @511dizji\"\n        }\n      },\n      \"typeVersion\": 4.2\n    }\n  ],\n  \"active\": true,\n  \"pinData\": {},\n  \"settings\": {\n    \"timezone\": \"Asia/Bangkok\",\n    \"callerPolicy\": \"workflowsFromSameOwner\",\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"19321d28-e96d-4f97-94a9-604b59b5b651\",\n  \"connections\": {\n    \"WriteReminder\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Reformat Output from Chat Model\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Azure OpenAI Chat Model\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"WriteReminder\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Reformat Output from Chat Model\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Line Push Message\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Trigger 2100 Bear Gratitude Jar Notice\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"WriteReminder\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.scheduleTrigger",
      "@n8n/n8n-nodes-langchain.chainLlm",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.set",
      "@n8n/n8n-nodes-langchain.lmChatAzureOpenAi",
      "n8n-nodes-base.httpRequest"
    ],
    "trigger": "trigger 2100 bear gratitude jar notice"
  }
}