{
  "source": "1458_HTTP_Stickynote_Import_Webhook.json",
  "index": 1,
  "content": "{\n  \"id\": \"FpZJ8jaNQ3j2DO1L\",\n  \"meta\": {\n    \"instanceId\": \"cb484ba7b742928a2048bf8829668bed5b5ad9787579adea888f05980292a4a7\"\n  },\n  \"name\": \"Optimise images uploaded to GDrive\",\n  \"nodes\": [\n    {\n      \"id\": \"a6fac2bb-4079-4872-9cc9-17b1016d2fcc\",\n      \"name\": \"Check GDrive for new images\",\n      \"type\": \"n8n-nodes-base.googleDriveTrigger\",\n      \"position\": [\n        500,\n        160\n      ],\n      \"parameters\": {\n        \"event\": \"fileCreated\",\n        \"options\": {},\n        \"pollTimes\": {\n          \"item\": [\n            {\n              \"mode\": \"everyMinute\"\n            }\n          ]\n        },\n        \"triggerOn\": \"specificFolder\",\n        \"folderToWatch\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"\",\n          \"cachedResultUrl\": \"\",\n          \"cachedResultName\": \"\"\n        }\n      },\n      \"credentials\": {\n        \"googleDriveOAuth2Api\": {\n          \"id\": \"\",\n          \"name\": \"\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"a0cae553-e4c1-408b-b11a-ceda4ff1aaa4\",\n      \"name\": \"Download image\",\n      \"type\": \"n8n-nodes-base.googleDrive\",\n      \"position\": [\n        700,\n        160\n      ],\n      \"parameters\": {\n        \"fileId\": {\n          \"__rl\": true,\n          \"mode\": \"id\",\n          \"value\": \"={{ $json.id }}\"\n        },\n        \"options\": {},\n        \"operation\": \"download\"\n      },\n      \"credentials\": {\n        \"googleDriveOAuth2Api\": {\n          \"id\": \"\",\n          \"name\": \"\"\n        }\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"006ba31a-f42b-460c-87e1-66c5345fb6d7\",\n      \"name\": \"Optimise - Send image to TinyPNG\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        940,\n        320\n      ],\n      \"parameters\": {\n        \"url\": \"https://api.tinify.com/shrink\",\n        \"method\": \"POST\",\n        \"options\": {\n          \"response\": {\n            \"response\": {\n              \"fullResponse\": true\n            }\n          }\n        },\n        \"sendBody\": true,\n        \"contentType\": \"binaryData\",\n        \"sendHeaders\": true,\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"Authorization\",\n              \"value\": \"Basic \"\n            }\n          ]\n        },\n        \"inputDataFieldName\": \"data\"\n      },\n      \"typeVersion\": 4.1\n    },\n    {\n      \"id\": \"e380304e-1c94-4841-bc1c-73047e4c2501\",\n      \"name\": \"Get optimised image from tinyPNG\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1140,\n        320\n      ],\n      \"parameters\": {\n        \"url\": \"={{ $json.headers.location }}\",\n        \"options\": {}\n      },\n      \"typeVersion\": 4.1\n    },\n    {\n      \"id\": \"f4db56cf-e362-41da-b2c2-da59b71a103f\",\n      \"name\": \"Sticky Note4\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -60,\n        -60\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 459.2991776576996,\n        \"height\": 146.4269155371431,\n        \"content\": \"## Automatically optimise images uploaded to Google drive folder\\nEach time an image is added to a google drive folder, this workflow will send it to tinypng.com to optimise the size and resave it to a google drive location of your choice.\\n\\n\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"b9e2dd81-245d-4328-adbc-a1f17100d590\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -60,\n        120\n      ],\n      \"parameters\": {\n        \"color\": 6,\n        \"width\": 463.09809221779403,\n        \"height\": 176.7894351639415,\n        \"content\": \"### 1. Pre-setup: Google Drive credentials\\n\\n**a.** Firstly you'll need to setup Google Drive credentials. Best thing is to [read n8n docs](https://docs.n8n.io/integrations/builtin/credentials/google/oauth-single-service/) to to do that.\\n**b.** Once you're successfully connecting to your GDrive account, set all 3 of the Drive nodes to connect using that credential.\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"285b5324-07d5-4f17-b6cc-9013e60644ad\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        480,\n        -60\n      ],\n      \"parameters\": {\n        \"color\": 6,\n        \"width\": 411.49840818526235,\n        \"height\": 189.2115813199212,\n        \"content\": \"### 2. Choose the Google Drive folder n8n is going to watch for new files\\n\\n**a.** Go to Google Drive and create the folder you want n8n to watch for new images\\n**b.** Then you need to select that folder in the Google Drive trigger node\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"8b574c32-baec-48ec-9cab-41d9f9813c6f\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        940,\n        100\n      ],\n      \"parameters\": {\n        \"color\": 6,\n        \"width\": 322.632285684791,\n        \"height\": 189.2115813199212,\n        \"content\": \"### 3. Create an API key for tinypng.com\\n\\n**a.** Visit [tinypng.com](https://tinypng.com/developers) and request an API key\\n**b.** Update the \\\"Authorisation\\\" parameter value with your api key. It will be in the format of \\\"Basic YOUR_API_KEY_IN_BASE_64\\\"\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"d3740bb8-f296-4b81-816e-ebc6e42927ad\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1380,\n        240\n      ],\n      \"parameters\": {\n        \"color\": 6,\n        \"width\": 322.632285684791,\n        \"height\": 239.85571564814694,\n        \"content\": \"### 4. Choose your Google Drive folder to save your upload your optimised images to\\n\\n**a.** Finally, create and select the folder that you want your optimised images to be saved to\\n**b.** OPTIONAL: You can also change the formatting of the name that you set. By default it will use the original file name then -optimised\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"b69a925f-9938-4672-9329-4f8895ea9c79\",\n      \"name\": \"Google Drive\",\n      \"type\": \"n8n-nodes-base.googleDrive\",\n      \"position\": [\n        1480,\n        520\n      ],\n      \"parameters\": {\n        \"name\": \"name.png\",\n        \"driveId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"\"\n        },\n        \"options\": {},\n        \"folderId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"\",\n          \"cachedResultUrl\": \"\",\n          \"cachedResultName\": \"\"\n        }\n      },\n      \"credentials\": {\n        \"googleDriveOAuth2Api\": {\n          \"id\": \"\",\n          \"name\": \"\"\n        }\n      },\n      \"typeVersion\": 3\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"7cdfcaa5-cbce-4582-9563-c72ba8d425b9\",\n  \"connections\": {\n    \"Download image\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Optimise - Send image to TinyPNG\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Check GDrive for new images\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Download image\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get optimised image from tinyPNG\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Google Drive\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Optimise - Send image to TinyPNG\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get optimised image from tinyPNG\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.googleDriveTrigger",
      "n8n-nodes-base.googleDrive",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.googleDrive"
    ],
    "trigger": null
  }
}