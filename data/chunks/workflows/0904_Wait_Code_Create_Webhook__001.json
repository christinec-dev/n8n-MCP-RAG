{
  "source": "0904_Wait_Code_Create_Webhook.json",
  "index": 1,
  "content": "{\n  \"meta\": {\n    \"instanceId\": \"2e4938c532d5f4536554a31b1fe1b04df825b7a8238ff0fb3c5eaaa749e140bd\"\n  },\n  \"nodes\": [\n    {\n      \"id\": \"04b7d4d7-6639-4559-9a7a-7eb7b83e16fa\",\n      \"name\": \"Generate A-Z Queries\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"notes\": \"This code adds \\n- a blank space\\n- and a letter, starting from a, b, c... up to z\\nIt processes all the 26 possible letters.\\n\\nEx :\\nn8n a\\nn8n b\\nn8n c\\n...\\nn8n z\",\n      \"position\": [\n        180,\n        0\n      ],\n      \"parameters\": {\n        \"jsCode\": \"const keyword = $input.first().json.chatInput;\\nconst alphabet = \\\"abcdefghijklmnopqrstuvwxyz\\\".split(\\\"\\\");\\n\\nreturn alphabet.map(letter => ({\\n  json: { query: `${keyword} ${letter}` }\\n}));\"\n      },\n      \"notesInFlow\": false,\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"0c6ae163-3d08-4a40-aaa9-921f583940df\",\n      \"name\": \"Google Autocomplete\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        560,\n        100\n      ],\n      \"parameters\": {\n        \"url\": \"=https://suggestqueries.google.com/complete/search?client=firefox&hl=en&oe=utf-8&q={{ $json.query }}\",\n        \"options\": {}\n      },\n      \"typeVersion\": 4\n    },\n    {\n      \"id\": \"21f0aeaa-2d64-497c-a890-6bd84ade624f\",\n      \"name\": \"Loop Over Items\",\n      \"type\": \"n8n-nodes-base.splitInBatches\",\n      \"notes\": \"The 26 items (one for each alphabet letter) are treated by batches of 10.\\nThis setting + the wait time help not to be blocked by Google's API.\",\n      \"position\": [\n        360,\n        0\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"batchSize\": 10\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"6fca90c9-c8f0-4a86-b746-2eedd670404a\",\n      \"name\": \"Wait 1s\",\n      \"type\": \"n8n-nodes-base.wait\",\n      \"notes\": \"This wait time is necessary, otherwise Google API might block the call and make an error.\",\n      \"position\": [\n        920,\n        100\n      ],\n      \"webhookId\": \"844dc802-f7d5-47f0-a389-ad60c4970aa0\",\n      \"parameters\": {\n        \"unit\": \"seconds\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"1a1a1a69-736b-4353-9353-bf80b4082f2c\",\n      \"name\": \"Code\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        740,\n        100\n      ],\n      \"parameters\": {\n        \"jsCode\": \"const data = JSON.parse($json.data);\\nreturn {\\n  json: {\\n    keywords: data[1]\\n  }\\n};\\n\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"6af6e3e1-85b7-49a7-8589-bf49d34ff429\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -40,\n        -340\n      ],\n      \"parameters\": {\n        \"width\": 400,\n        \"height\": 320,\n        \"content\": \"## Type a Keyword and Discover What People Search on Google\\n\\nThis workflow scrapes Google autocomplete results by combining **your keyword** with every letter from **A to Z**.\\n\\n**Example:**  \\nKeyword: `n8n`  \\nResults:  \\n- n8n agent  \\n- n8n automation  \\n- n8n api  \\n- ...and so on\\n\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"87673f0f-19ef-4bf7-a2bb-6d7e823a4f57\",\n      \"name\": \"Get Keyword\",\n      \"type\": \"@n8n/n8n-nodes-langchain.chatTrigger\",\n      \"notes\": \"You could also get this initial keyword from :\\n- a line in a Google Sheet\\n- a webhook and a form on a website\\n- a messaging app like Telegram or Whatsapp\",\n      \"position\": [\n        0,\n        0\n      ],\n      \"webhookId\": \"add903d6-ee86-435a-b876-12b2f6264631\",\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"notesInFlow\": false,\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"ce6f882e-69dc-41a4-a9bf-b4fd6c55b87f\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        740,\n        -360\n      ],\n      \"parameters\": {\n        \"width\": 480,\n        \"height\": 240,\n        \"content\": \"## Exporting the Keywords\\n\\nYou can easily add a node to export the keywords in various ways:\\n\\n- via a webhook\\n- by email\\n- as a file (e.g., saved to Google Drive)\\n- directly to a website\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"2675a52d-1018-4d33-914d-fc46225a3cc5\",\n      \"name\": \"Extract Keywords\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"notes\": \"This code gathers all the keywords in one list.\",\n      \"position\": [\n        560,\n        -100\n      ],\n      \"parameters\": {\n        \"jsCode\": \"let mergedKeywords = [];\\n\\nfor (const item of $input.all()) {\\n  mergedKeywords.push(...item.json.keywords);\\n}\\n\\nreturn { json: { keywords: mergedKeywords } };\\n\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"95376c0e-43a8-408d-9542-ca9c0c4999c7\",\n      \"name\": \"Return Keywords\",\n      \"type\": \"n8n-nodes-base.respondToWebhook\",\n      \"notes\": \"Use this node\",\n      \"position\": [\n        740,\n        -100\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"9355b89b-5366-4bbb-a06b-081ced4c2134\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        540,\n        280\n      ],\n      \"parameters\": {\n        \"width\": 560,\n        \"height\": 280,\n        \"content\": \"## Adapt the Language\\n\\nAutocomplete results depend on the selected language.\\n\\nYou can change the `&hl=en` parameter in the **Google Autocomplete** node.  \\nReplace the `\\\"en\\\"` part with the language code of your choice.\\n\\n**Examples:**  \\n- `&hl=fr` → French  \\n- `&hl=es` → Spanish  \\n- `&hl=de` → German\\n\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"pinData\": {},\n  \"connections\": {\n    \"Code\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Wait 1s\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Wait 1s\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Loop Over Items\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get Keyword\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Generate A-Z Queries\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Loop Over Items\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Extract Keywords\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Google Autocomplete\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Extract Keywords\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Return Keywords\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Google Autocomplete\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Code\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Generate A-Z Queries\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Loop Over Items\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.code",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.splitInBatches",
      "n8n-nodes-base.wait",
      "n8n-nodes-base.code",
      "n8n-nodes-base.stickyNote",
      "@n8n/n8n-nodes-langchain.chatTrigger",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.code",
      "n8n-nodes-base.respondToWebhook",
      "n8n-nodes-base.stickyNote"
    ],
    "trigger": null
  }
}