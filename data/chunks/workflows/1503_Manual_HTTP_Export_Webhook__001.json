{
  "source": "1503_Manual_HTTP_Export_Webhook.json",
  "index": 1,
  "content": "{\n  \"id\": \"IXumIzS9WtPAhKFX\",\n  \"meta\": {\n    \"instanceId\": \"494d0146a0f47676ad70a44a32086b466621f62da855e3eaf0ee51dee1f76753\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"name\": \"Export Zammad Objects Users, Roles, Groups and Organizations to Excel\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"59b12a25-d90f-47f0-a043-a51f71f5761e\",\n      \"name\": \"When clicking ‘Test workflow’\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        -120,\n        -80\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"259acda6-75be-4011-b021-56321ab10478\",\n      \"name\": \"Zammad Univeral User Object\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        600,\n        -80\n      ],\n      \"parameters\": {\n        \"values\": {\n          \"number\": [\n            {\n              \"name\": \"user_id\",\n              \"value\": \"={{ $json.id }}\"\n            },\n            {\n              \"name\": \"organization_id\",\n              \"value\": \"={{ $json.organization_id }}\"\n            }\n          ],\n          \"string\": [\n            {\n              \"name\": \"email\",\n              \"value\": \"={{ $json.email }}\"\n            },\n            {\n              \"name\": \"firstname\",\n              \"value\": \"={{ $json.firstname }}\"\n            },\n            {\n              \"name\": \"lastname\",\n              \"value\": \"={{ $json.lastname }}\"\n            },\n            {\n              \"name\": \"role_ids\",\n              \"value\": \"={{ $json.role_ids.join() }}\\n\"\n            },\n            {\n              \"name\": \"groups\",\n              \"value\": \"={{ $json.group_ids }}\"\n            }\n          ]\n        },\n        \"options\": {},\n        \"keepOnlySet\": true\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"57c68cc2-f5d6-4425-9dc2-b2d6b21f0026\",\n      \"name\": \"Zammad Univeral Organization Object\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        600,\n        160\n      ],\n      \"parameters\": {\n        \"values\": {\n          \"number\": [\n            {\n              \"name\": \"organization_id\",\n              \"value\": \"={{ $json.id }}\"\n            },\n            {\n              \"name\": \"name\",\n              \"value\": \"={{ $json.name }}\"\n            }\n          ]\n        },\n        \"options\": {},\n        \"keepOnlySet\": true\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"c40b275c-1d33-4604-8073-3651641c94ed\",\n      \"name\": \"Zammad Univeral Role Object\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        600,\n        400\n      ],\n      \"parameters\": {\n        \"values\": {\n          \"number\": [\n            {\n              \"name\": \"role_id\",\n              \"value\": \"={{ $json.id }}\"\n            },\n            {\n              \"name\": \"name\",\n              \"value\": \"={{ $json.name }}\"\n            }\n          ]\n        },\n        \"options\": {},\n        \"keepOnlySet\": true\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"29a257db-955d-4ff3-a7bb-f9a888f96e78\",\n      \"name\": \"Get all Organizations\",\n      \"type\": \"n8n-nodes-base.zammad\",\n      \"position\": [\n        340,\n        160\n      ],\n      \"parameters\": {\n        \"resource\": \"organization\",\n        \"operation\": \"getAll\",\n        \"returnAll\": true\n      },\n      \"credentials\": {\n        \"zammadTokenAuthApi\": {\n          \"id\": \"fj5GuzcJuNLQeMxz\",\n          \"name\": \"Zammad Token Auth account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"b4a9c2ca-b110-46ba-b5b9-2e8d8e357dfb\",\n      \"name\": \"Get all Roles\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        340,\n        400\n      ],\n      \"parameters\": {\n        \"url\": \"={{ $json.zammad_base_url }}/api/v1/roles\",\n        \"options\": {},\n        \"sendHeaders\": true,\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"Authorization\",\n              \"value\": \"=Bearer {{ $json.zammad_api_key }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"9f5049cc-37ca-4069-86a1-75dffa9c2c96\",\n      \"name\": \"Convert to Excel Organizations\",\n      \"type\": \"n8n-nodes-base.convertToFile\",\n      \"position\": [\n        1320,\n        140\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"fileName\": \"Zammad_Organizations.xlsx\"\n        },\n        \"operation\": \"xlsx\"\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"1a05b494-919c-4e53-8772-8c504e667f1c\",\n      \"name\": \"Convert to Excel Roles\",\n      \"type\": \"n8n-nodes-base.convertToFile\",\n      \"position\": [\n        1340,\n        380\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"fileName\": \"Zammad_Roles.xlsx\"\n        },\n        \"operation\": \"xlsx\"\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"f1160af5-fcee-421d-9ede-b6f56ac0ce8d\",\n      \"name\": \"Convert to Excel Users\",\n      \"type\": \"n8n-nodes-base.convertToFile\",\n      \"position\": [\n        1300,\n        -100\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"fileName\": \"Zammad_Users.xslx\"\n        },\n        \"operation\": \"xlsx\"\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"192c5342-5140-48f9-acb0-d14a41064fa3\",\n      \"name\": \"Get all Users\",\n      \"type\": \"n8n-nodes-base.zammad\",\n      \"position\": [\n        340,\n        -80\n      ],\n      \"parameters\": {\n        \"filters\": {},\n        \"operation\": \"getAll\",\n        \"returnAll\": true\n      },\n      \"credentials\": {\n        \"zammadTokenAuthApi\": {\n          \"id\": \"fj5GuzcJuNLQeMxz\",\n          \"name\": \"Zammad Token Auth account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"ae687777-c1cb-4a23-ae1e-aa34febc27d6\",\n      \"name\": \"Zammad Univeral Group Object\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        620,\n        620\n      ],\n      \"parameters\": {\n        \"values\": {\n          \"number\": [\n            {\n              \"name\": \"group_id\",\n              \"value\": \"={{ $json.id }}\"\n            },\n            {\n              \"name\": \"name\",\n              \"value\": \"={{ $json.name }}\"\n            }\n          ]\n        },\n        \"options\": {},\n        \"keepOnlySet\": true\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"0d38e0b3-1a59-4a8f-9a04-8526aba91fd5\",\n      \"name\": \"Get all Groups\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        340,\n        620\n      ],\n      \"parameters\": {\n        \"url\": \"={{ $json.zammad_base_url }}/api/v1/groups\",\n        \"options\": {},\n        \"sendHeaders\": true,\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"Authorization\",\n              \"value\": \"=Bearer {{ $json.zammad_api_key }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"e30bd0ad-9772-4af7-9012-99199fee65b2\",\n      \"name\": \"If\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        900,\n        -80\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"0ca9d3a3-b726-4396-8cec-4a74c8e3949b\",\n              \"operator\": {\n                \"type\": \"object\",\n                \"operation\": \"exists\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $json }}\",\n              \"rightValue\": 1781\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"2a83536e-e250-425a-aac7-f26ede0caf54\",\n      \"name\": \"Basic Variables\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        60,\n        400\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"68b32087-5e23-4590-8042-0061234ce479\",\n              \"name\": \"zammad_base_url\",\n              \"type\": \"string\",\n              \"value\": \"-put-your-zammad-base-url-\"\n            },\n            {\n              \"id\": \"7db7572e-2524-4f2a-a1d6-b44330662c30\",\n              \"name\": \"zammad_api_key\",\n              \"type\": \"string\",\n              \"value\": \"-put-your-api-key-\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"db6a3024-9778-4d1e-8b25-34f2ee3ec26f\",\n      \"name\": \"Convert to Excel Groups\",\n      \"type\": \"n8n-nodes-base.convertToFile\",\n      \"position\": [\n        1340,\n        600\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"fileName\": \"Zammad_Groups.xlsx\"\n        },\n        \"operation\": \"xlsx\"\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"bd191e0d-927d-44ca-afe6-fa6c7f3d59a2\",\n      \"name\": \"Filter Groups if needed\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        900,\n        620\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"0ca9d3a3-b726-4396-8cec-4a74c8e3949b\",\n              \"operator\": {\n                \"type\": \"object\",\n                \"operation\": \"exists\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $json }}\",\n              \"rightValue\": {}\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"c7c7b6b4-7faa-48b4-b7d8-6782dd1e4187\",\n      \"name\": \"Filter Roles if needed\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        900,\n        400\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"0ca9d3a3-b726-4396-8cec-4a74c8e3949b\",\n              \"operator\": {\n                \"type\": \"object\",\n                \"operation\": \"exists\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $json }}\",\n              \"rightValue\": 1781\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"a255bc7b-5d35-4671-852e-53f2b0980c26\",\n      \"name\": \"Filter Organizations if needed\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        900,\n        160\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"0ca9d3a3-b726-4396-8cec-4a74c8e3949b\",\n              \"operator\": {\n                \"type\": \"object\",\n                \"operation\": \"exists\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $json }}\",\n              \"rightValue\": 1781\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"8282fc5a-1ed4-4730-8e08-3d9f279dc3b5\",\n  \"connections\": {\n    \"If\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Convert to Excel Users\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get all Roles\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Zammad Univeral Role Object\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get all Users\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Zammad Univeral User Object\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get all Groups\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Zammad Univeral Group Object\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Basic Variables\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get all Roles\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Get all Groups\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get all Organizations\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Zammad Univeral Organization Object\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Filter Roles if needed\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Convert to Excel Roles\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Filter Groups if needed\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Convert to Excel Groups\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Zammad Univeral Role Object\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Filter Roles if needed\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Zammad Univeral User Object\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"If\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Zammad Univeral Group Object\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Filter Groups if needed\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Filter Organizations if needed\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Convert to Excel Organizations\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When clicking ‘Test workflow’\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get all Users\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Basic Variables\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Get all Organizations\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Zammad Univeral Organization Object\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Filter Organizations if needed\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.manualTrigger",
      "n8n-nodes-base.set",
      "n8n-nodes-base.set",
      "n8n-nodes-base.set",
      "n8n-nodes-base.zammad",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.convertToFile",
      "n8n-nodes-base.convertToFile",
      "n8n-nodes-base.convertToFile",
      "n8n-nodes-base.zammad",
      "n8n-nodes-base.set",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.if",
      "n8n-nodes-base.set",
      "n8n-nodes-base.convertToFile",
      "n8n-nodes-base.if",
      "n8n-nodes-base.if",
      "n8n-nodes-base.if"
    ],
    "trigger": null
  }
}