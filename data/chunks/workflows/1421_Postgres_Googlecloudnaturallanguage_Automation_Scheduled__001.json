{
  "source": "1421_Postgres_Googlecloudnaturallanguage_Automation_Scheduled.json",
  "index": 1,
  "content": "{\n  \"id\": \"6\",\n  \"name\": \"ETL pipeline\",\n  \"nodes\": [\n    {\n      \"name\": \"Twitter\",\n      \"type\": \"n8n-nodes-base.twitter\",\n      \"position\": [\n        300,\n        300\n      ],\n      \"parameters\": {\n        \"limit\": 3,\n        \"operation\": \"search\",\n        \"searchText\": \"=#OnThisDay\",\n        \"additionalFields\": {}\n      },\n      \"credentials\": {\n        \"twitterOAuth1Api\": \"twitter_api\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Postgres\",\n      \"type\": \"n8n-nodes-base.postgres\",\n      \"position\": [\n        1100,\n        300\n      ],\n      \"parameters\": {\n        \"table\": \"tweets\",\n        \"columns\": \"text, score, magnitude\",\n        \"returnFields\": \"=*\"\n      },\n      \"credentials\": {\n        \"postgres\": \"postgres\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"MongoDB\",\n      \"type\": \"n8n-nodes-base.mongoDb\",\n      \"position\": [\n        500,\n        300\n      ],\n      \"parameters\": {\n        \"fields\": \"text\",\n        \"options\": {},\n        \"operation\": \"insert\",\n        \"collection\": \"tweets\"\n      },\n      \"credentials\": {\n        \"mongoDb\": \"mongodb\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Slack\",\n      \"type\": \"n8n-nodes-base.slack\",\n      \"position\": [\n        1500,\n        200\n      ],\n      \"parameters\": {\n        \"text\": \"=\\ud83d\\udc26 NEW TWEET with sentiment score {{$json[\\\"score\\\"]}} and magnitude {{$json[\\\"magnitude\\\"]}} \\u2b07\\ufe0f\\n{{$json[\\\"text\\\"]}}\",\n        \"channel\": \"tweets\",\n        \"attachments\": [],\n        \"otherOptions\": {}\n      },\n      \"credentials\": {\n        \"slackApi\": \"slack\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"IF\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        1300,\n        300\n      ],\n      \"parameters\": {\n        \"conditions\": {\n          \"number\": [\n            {\n              \"value1\": \"={{$json[\\\"score\\\"]}}\",\n              \"operation\": \"larger\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"NoOp\",\n      \"type\": \"n8n-nodes-base.noOp\",\n      \"position\": [\n        1500,\n        400\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Google Cloud Natural Language\",\n      \"type\": \"n8n-nodes-base.googleCloudNaturalLanguage\",\n      \"position\": [\n        700,\n        300\n      ],\n      \"parameters\": {\n        \"content\": \"={{$node[\\\"MongoDB\\\"].json[\\\"text\\\"]}}\",\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"googleCloudNaturalLanguageOAuth2Api\": \"google_nlp\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Set\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        900,\n        300\n      ],\n      \"parameters\": {\n        \"values\": {\n          \"number\": [\n            {\n              \"name\": \"score\",\n              \"value\": \"={{$json[\\\"documentSentiment\\\"][\\\"score\\\"]}}\"\n            },\n            {\n              \"name\": \"magnitude\",\n              \"value\": \"={{$json[\\\"documentSentiment\\\"][\\\"magnitude\\\"]}}\"\n            }\n          ],\n          \"string\": [\n            {\n              \"name\": \"text\",\n              \"value\": \"={{$node[\\\"Twitter\\\"].json[\\\"text\\\"]}}\"\n            }\n          ]\n        },\n        \"options\": {}\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Cron\",\n      \"type\": \"n8n-nodes-base.cron\",\n      \"position\": [\n        100,\n        300\n      ],\n      \"parameters\": {\n        \"triggerTimes\": {\n          \"item\": [\n            {\n              \"hour\": 6\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": false,\n  \"settings\": {},\n  \"connections\": {\n    \"IF\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Slack\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"NoOp\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Set\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Postgres\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Cron\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Twitter\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"MongoDB\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Google Cloud Natural Language\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Twitter\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"MongoDB\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Postgres\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"IF\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Google Cloud Natural Language\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.twitter",
      "n8n-nodes-base.postgres",
      "n8n-nodes-base.mongoDb",
      "n8n-nodes-base.slack",
      "n8n-nodes-base.if",
      "n8n-nodes-base.noOp",
      "n8n-nodes-base.googleCloudNaturalLanguage",
      "n8n-nodes-base.set",
      "n8n-nodes-base.cron"
    ],
    "trigger": null
  }
}