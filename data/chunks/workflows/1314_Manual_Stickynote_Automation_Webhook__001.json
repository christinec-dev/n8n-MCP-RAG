{
  "source": "1314_Manual_Stickynote_Automation_Webhook.json",
  "index": 1,
  "content": "{\n  \"id\": \"AnbedV2Ntx97sfed\",\n  \"meta\": {\n    \"instanceId\": \"885b4fb4a6a9c2cb5621429a7b972df0d05bb724c20ac7dac7171b62f1c7ef40\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"name\": \"Extract & Summarize Bing Copilot Search Results with Gemini AI and Bright Data\",\n  \"tags\": [\n    {\n      \"id\": \"Kujft2FOjmOVQAmJ\",\n      \"name\": \"Engineering\",\n      \"createdAt\": \"2025-04-09T01:31:00.558Z\",\n      \"updatedAt\": \"2025-04-09T01:31:00.558Z\"\n    },\n    {\n      \"id\": \"ddPkw7Hg5dZhQu2w\",\n      \"name\": \"AI\",\n      \"createdAt\": \"2025-04-13T05:38:08.053Z\",\n      \"updatedAt\": \"2025-04-13T05:38:08.053Z\"\n    }\n  ],\n  \"nodes\": [\n    {\n      \"id\": \"5f358132-63bd-4c66-80da-4fb9911f607f\",\n      \"name\": \"When clicking ‘Test workflow’\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        -1140,\n        400\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"43a157f6-2fb8-4c90-bf5d-92fc64c9df10\",\n      \"name\": \"Google Gemini Chat Model\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatGoogleGemini\",\n      \"notes\": \"Gemini Experimental Model\",\n      \"position\": [\n        760,\n        580\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"modelName\": \"models/gemini-2.0-flash-thinking-exp-01-21\"\n      },\n      \"credentials\": {\n        \"googlePalmApi\": {\n          \"id\": \"YeO7dHZnuGBVQKVZ\",\n          \"name\": \"Google Gemini(PaLM) Api account\"\n        }\n      },\n      \"notesInFlow\": true,\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"f2d34617-ea34-4163-b9d5-a35fed807dbb\",\n      \"name\": \"Default Data Loader\",\n      \"type\": \"@n8n/n8n-nodes-langchain.documentDefaultDataLoader\",\n      \"position\": [\n        940,\n        580\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"707fdb4a-f534-4984-b97d-1839db1afc03\",\n      \"name\": \"Recursive Character Text Splitter\",\n      \"type\": \"@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter\",\n      \"position\": [\n        1040,\n        800\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"chunkOverlap\": 100\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"0440b1dd-ca72-467c-a27a-76609ae08fcf\",\n      \"name\": \"If\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        -220,\n        400\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"6a7e5360-4cb5-4806-892e-5c85037fa71c\",\n              \"operator\": {\n                \"type\": \"string\",\n                \"operation\": \"equals\"\n              },\n              \"leftValue\": \"={{ $('Check Snapshot Status').item.json.status }}\",\n              \"rightValue\": \"ready\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"a23f3c86-200a-4d3c-a762-51cce158c4dd\",\n      \"name\": \"Set Snapshot Id\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        -700,\n        400\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"2c3369c6-9206-45d7-9349-f577baeaf189\",\n              \"name\": \"snapshot_id\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.snapshot_id }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"cee238ff-f725-4a24-8117-540be1c66a56\",\n      \"name\": \"Download Snapshot\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        140,\n        200\n      ],\n      \"parameters\": {\n        \"url\": \"=https://api.brightdata.com/datasets/v3/snapshot/{{ $json.snapshot_id }}\",\n        \"options\": {\n          \"timeout\": 10000\n        },\n        \"sendQuery\": true,\n        \"authentication\": \"genericCredentialType\",\n        \"genericAuthType\": \"httpHeaderAuth\",\n        \"queryParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"format\",\n              \"value\": \"json\"\n            }\n          ]\n        }\n      },\n      \"credentials\": {\n        \"httpHeaderAuth\": {\n          \"id\": \"kdbqXuxIR8qIxF7y\",\n          \"name\": \"Header Auth account\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"6bb33d11-7176-4dc7-89fe-1ee794793d3e\",\n      \"name\": \"Google Gemini Chat Model1\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatGoogleGemini\",\n      \"position\": [\n        380,\n        380\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"modelName\": \"models/gemini-2.0-flash-exp\"\n      },\n      \"credentials\": {\n        \"googlePalmApi\": {\n          \"id\": \"YeO7dHZnuGBVQKVZ\",\n          \"name\": \"Google Gemini(PaLM) Api account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"b2309938-eaaf-4d63-b8c8-53666cd57dac\",\n      \"name\": \"Structured Output Parser\",\n      \"type\": \"@n8n/n8n-nodes-langchain.outputParserStructured\",\n      \"position\": [\n        540,\n        380\n      ],\n      \"parameters\": {\n        \"jsonSchemaExample\": \"[{\\n  \\\"city\\\": \\\"string\\\",\\n  \\\"hotels\\\": [\\n    {\\n      \\\"name\\\": \\\"string\\\",\\n      \\\"address\\\": \\\"string\\\",\\n      \\\"description\\\": \\\"string\\\",\\n      \\\"website\\\": \\\"string\\\",\\n      \\\"area\\\": \\\"string (optional)\\\"\\n    }\\n  ]\\n}\\n]\\n\"\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"747b1e50-1cae-4efb-86d3-9221438701cd\",\n      \"name\": \"Check on the errors\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        -20,\n        20\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"b267071c-7102-407b-a98d-f613bcb1a106\",\n              \"operator\": {\n                \"type\": \"string\",\n                \"operation\": \"equals\"\n              },\n              \"leftValue\": \"={{ $json.errors.toString() }}\",\n              \"rightValue\": \"0\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"0bf63795-1f1d-4d6b-90c1-1effae83fd40\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -1140,\n        80\n      ],\n      \"parameters\": {\n        \"width\": 400,\n        \"height\": 220,\n        \"content\": \"## Note\\n\\nDeals with the Bing Copilot Search using the Bright Data Web Scraper API.\\n\\nThe Basic LLM Chain and summarization is done to demonstrate the usage of the N8N AI capabilities.\\n\\n**Please make sure to update the Webhook Notification URL**\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"3872fb7a-382a-446d-8cb0-6ac5a282a801\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -620,\n        80\n      ],\n      \"parameters\": {\n        \"width\": 420,\n        \"height\": 220,\n        \"content\": \"## LLM Usages\\n\\nGoogle Gemini Flash Exp model is being used.\\n\\nBasic LLM Chain makes use of the Output formatter for formatting the response\\n\\nSummarization Chain is being used for summarization of the content\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"a1453c72-fef3-4cec-967a-858b28ba31d8\",\n      \"name\": \"Check Snapshot Status\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        -460,\n        400\n      ],\n      \"parameters\": {\n        \"url\": \"=https://api.brightdata.com/datasets/v3/progress/{{ $json.snapshot_id }}\",\n        \"options\": {},\n        \"sendHeaders\": true,\n        \"authentication\": \"genericCredentialType\",\n        \"genericAuthType\": \"httpHeaderAuth\"\n      },\n      \"credentials\": {\n        \"httpHeaderAuth\": {\n          \"id\": \"kdbqXuxIR8qIxF7y\",\n          \"name\": \"Header Auth account\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"5750853b-a07d-455e-b630-977dd733613e\",\n      \"name\": \"Structured Data Extractor\",\n      \"type\": \"@n8n/n8n-nodes-langchain.chainLlm\",\n      \"position\": [\n        360,\n        200\n      ],\n      \"parameters\": {\n        \"text\": \"=Extract the content as a structured JSON.\\n\\nHere's the content - {{ $json.answer_text }}\",\n        \"messages\": {\n          \"messageValues\": [\n            {\n              \"message\": \"You are an expert data formatter\"\n            }\n          ]\n        },\n        \"promptType\": \"define\",\n        \"hasOutputParser\": true\n      },\n      \"typeVersion\": 1.6\n    },\n    {\n      \"id\": \"a86f935f-fe57-40ea-9197-5f20e3002899\",\n      \"name\": \"Concise Summary Creator\",\n      \"type\": \"@n8n/n8n-nodes-langchain.chainSummarization\",\n      \"position\": [\n        760,\n        200\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"summarizationMethodAndPrompts\": {\n            \"values\": {\n              \"prompt\": \"=Write a concise summary of the following:\\n\\n\\n{{ $('Download Snapshot').item.json.answer_text }}\\n\\n\",\n              \"combineMapPrompt\": \"=Write a concise summary of the following:\\n\\n\\n\\n\\n\\nCONCISE SUMMARY: {{ $('Download Snapshot').item.json.answer_text }}\"\n            }\n          }\n        },\n        \"operationMode\": \"documentLoader\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"848ce4b1-0aed-4af2-bf55-bcdb30bbc88a\",\n      \"name\": \"Wait for 30 seconds\",\n      \"type\": \"n8n-nodes-base.wait\",\n      \"position\": [\n        -280,\n        660\n      ],\n      \"webhookId\": \"f2aafd71-61f2-4aa4-8290-fa3bbe3d46b9\",\n      \"parameters\": {\n        \"amount\": 30\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"5467a870-0734-457b-909e-be425a432ebf\",\n      \"name\": \"Structured Data Webhook Notifier\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        760,\n        0\n      ],\n      \"parameters\": {\n        \"url\": \"https://webhook.site/bc804ce5-4a45-4177-a68a-99c80e5c86e6\",\n        \"options\": {},\n        \"sendBody\": true,\n        \"bodyParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"response\",\n              \"value\": \"={{ $json.output }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"bf8a4868-ead7-411e-97ba-9faea308d836\",\n      \"name\": \"Summary Webhook Notifier\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1140,\n        200\n      ],\n      \"parameters\": {\n        \"url\": \"https://webhook.site/bc804ce5-4a45-4177-a68a-99c80e5c86e6\",\n        \"options\": {},\n        \"sendBody\": true,\n        \"bodyParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"response\",\n              \"value\": \"={{ $json.output }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"60a59b93-9a7c-4d22-ab66-2249fb9ed27e\",\n      \"name\": \"Perform a Bing Copilot Request\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        -920,\n        400\n      ],\n      \"parameters\": {\n        \"url\": \"https://api.brightdata.com/datasets/v3/trigger\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"jsonBody\": \"[\\n  {\\n    \\\"url\\\": \\\"https://copilot.microsoft.com/chats\\\",\\n    \\\"prompt\\\": \\\"Top hotels in New York\\\"\\n  }\\n]\",\n        \"sendBody\": true,\n        \"sendQuery\": true,\n        \"sendHeaders\": true,\n        \"specifyBody\": \"json\",\n        \"authentication\": \"genericCredentialType\",\n        \"genericAuthType\": \"httpHeaderAuth\",\n        \"queryParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"dataset_id\",\n              \"value\": \"gd_m7di5jy6s9geokz8w\"\n            },\n            {\n              \"name\": \"include_errors\",\n              \"value\": \"true\"\n            }\n          ]\n        },\n        \"headerParameters\": {\n          \"parameters\": [\n            {}\n          ]\n        }\n      },\n      \"credentials\": {\n        \"httpHeaderAuth\": {\n          \"id\": \"kdbqXuxIR8qIxF7y\",\n          \"name\": \"Header Auth account\"\n        }\n      },\n      \"typeVersion\": 4.2\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"4462ae6e-4ecd-4f64-aad8-4aa9e65982b6\",\n  \"connections\": {\n    \"If\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Check on the errors\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Wait for 30 seconds\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Set Snapshot Id\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Check Snapshot Status\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Download Snapshot\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Structured Data Extractor\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Check on the errors\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Download Snapshot\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Default Data Loader\": {\n      \"ai_document\": [\n        [\n          {\n            \"node\": \"Concise Summary Creator\",\n            \"type\": \"ai_document\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Wait for 30 seconds\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Check Snapshot Status\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Check Snapshot Status\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"If\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Concise Summary Creator\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Summary Webhook Notifier\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Google Gemini Chat Model\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Concise Summary Creator\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Structured Output Parser\": {\n      \"ai_outputParser\": [\n        [\n          {\n            \"node\": \"Structured Data Extractor\",\n            \"type\": \"ai_outputParser\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Google Gemini Chat Model1\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Structured Data Extractor\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Structured Data Extractor\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Concise Summary Creator\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Structured Data Webhook Notifier\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Perform a Bing Copilot Request\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set Snapshot Id\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Recursive Character Text Splitter\": {\n      \"ai_textSplitter\": [\n        [\n          {\n            \"node\": \"Default Data Loader\",\n            \"type\": \"ai_textSplitter\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When clicking ‘Test workflow’\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Perform a Bing Copilot Request\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.manualTrigger",
      "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "@n8n/n8n-nodes-langchain.documentDefaultDataLoader",
      "@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter",
      "n8n-nodes-base.if",
      "n8n-nodes-base.set",
      "n8n-nodes-base.httpRequest",
      "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "@n8n/n8n-nodes-langchain.outputParserStructured",
      "n8n-nodes-base.if",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.httpRequest",
      "@n8n/n8n-nodes-langchain.chainLlm",
      "@n8n/n8n-nodes-langchain.chainSummarization",
      "n8n-nodes-base.wait",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.httpRequest"
    ],
    "trigger": null
  }
}