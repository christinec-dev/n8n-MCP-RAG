{
  "source": "0535_Localfile_Manual_Create_Webhook.json",
  "index": 1,
  "content": "{\n  \"meta\": {\n    \"instanceId\": \"26ba763460b97c249b82942b23b6384876dfeb9327513332e743c5f6219c2b8e\"\n  },\n  \"nodes\": [\n    {\n      \"id\": \"c5525f47-4d91-4b98-87bb-566b90da64a1\",\n      \"name\": \"Local File Trigger\",\n      \"type\": \"n8n-nodes-base.localFileTrigger\",\n      \"position\": [\n        660,\n        700\n      ],\n      \"parameters\": {\n        \"path\": \"/home/node/host_mount/local_file_search\",\n        \"events\": [\n          \"add\",\n          \"change\",\n          \"unlink\"\n        ],\n        \"options\": {\n          \"awaitWriteFinish\": true\n        },\n        \"triggerOn\": \"folder\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"804334d6-e34d-40d1-9555-b331ffe66f6f\",\n      \"name\": \"When clicking \\\"Test workflow\\\"\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        664.5766613599001,\n        881.8474780113352\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"7ab0e284-b667-4d1f-8ceb-fb05e4081a06\",\n      \"name\": \"Set Variables\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        840,\n        700\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"35ea70c4-8669-4975-a68d-bbaa094713c0\",\n              \"name\": \"directory\",\n              \"type\": \"string\",\n              \"value\": \"/home/node/BankStatements\"\n            },\n            {\n              \"id\": \"1d081d19-ff4e-462a-9cbe-7af2244bf87f\",\n              \"name\": \"file_added\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.event === 'add' && $json.path || ''}}\"\n            },\n            {\n              \"id\": \"18f8dc03-51ca-48c7-947f-87ce8e1979bf\",\n              \"name\": \"file_changed\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.event === 'change' && $json.path || '' }}\"\n            },\n            {\n              \"id\": \"65074ff7-037b-4b3b-b2c3-8a61755ab43b\",\n              \"name\": \"file_deleted\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.event === 'unlink' && $json.path || '' }}\"\n            },\n            {\n              \"id\": \"9a1902e7-f94d-4d1f-9006-91c67354d3e8\",\n              \"name\": \"qdrant_collection\",\n              \"type\": \"string\",\n              \"value\": \"local_file_search\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.3\n    },\n    {\n      \"id\": \"76173972-ceca-43a4-b85f-00b41f774304\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        580,\n        460\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 665.0909497859384,\n        \"height\": 596.8351502261468,\n        \"content\": \"## Step 1. Select the target folder\\n[Read more about local file trigger](https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.localfiletrigger)\\n\\nIn this workflow, we'll monitor a specific folder on disk that n8n has access to. Since we're using docker, we can either use the n8n volume or mount a folder from the host machine.\\n\\nThe local file trigger is useful to execute the workflow whenever changes are made to our target folder.\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"eda839f7-dde4-4d1f-9fe6-692df4ac7282\",\n      \"name\": \"Sticky Note4\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        184.57666135990007,\n        461.84747801133517\n      ],\n      \"parameters\": {\n        \"width\": 372.51107341403605,\n        \"height\": 356.540665091993,\n        \"content\": \"## Try It Out!\\n### This workflow does the following:\\n* Monitors a target folder for changes using the local file trigger\\n* Synchronises files in the target folder with their vectors in Qdrant\\n* Mistral AI is used to create a Q&A AI agent on all files in the target folder\\n\\n### Need Help?\\nJoin the [Discord](https://discord.com/invite/XPKeKXeB7d) or ask in the [Forum](https://community.n8n.io/)!\\n\\nHappy Hacking!\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"f82f6de0-af8f-4fdf-a733-f59ba4fed02f\",\n      \"name\": \"Read File\",\n      \"type\": \"n8n-nodes-base.readWriteFile\",\n      \"position\": [\n        1340,\n        1120\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"fileSelector\": \"={{ $json.file_added }}\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"7354a080-051b-479f-97b1-49cc0c14c9d8\",\n      \"name\": \"Embeddings Mistral Cloud\",\n      \"type\": \"@n8n/n8n-nodes-langchain.embeddingsMistralCloud\",\n      \"position\": [\n        1720,\n        1280\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"mistralCloudApi\": {\n          \"id\": \"EIl2QxhXAS9Hkg37\",\n          \"name\": \"Mistral Cloud account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"a1ad45ff-a882-4aed-82e2-cad2483cf4e8\",\n      \"name\": \"Default Data Loader\",\n      \"type\": \"@n8n/n8n-nodes-langchain.documentDefaultDataLoader\",\n      \"position\": [\n        1820,\n        1280\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"metadata\": {\n            \"metadataValues\": [\n              {\n                \"name\": \"filter_by_filename\",\n                \"value\": \"={{ $json.file_location }}\"\n              },\n              {\n                \"name\": \"filter_by_created_month\",\n                \"value\": \"={{ $now.year + '-' + $now.monthShort }}\"\n              },\n              {\n                \"name\": \"filter_by_created_week\",\n                \"value\": \"={{ $now.year + '-' + $now.monthShort + '-W' + $now.weekNumber }}\"\n              }\n            ]\n          }\n        },\n        \"jsonData\": \"={{ $json.data }}\",\n        \"jsonMode\": \"expressionData\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"0b0e29b9-8873-4074-94dc-9f0364c28835\",\n      \"name\": \"Recursive Character Text Splitter\",\n      \"type\": \"@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter\",\n      \"position\": [\n        1840,\n        1400\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"c0555ba6-a1bd-4aa9-a340-a9c617f8e6db\",\n      \"name\": \"Prepare Embedding Document\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        1520,\n        1120\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"41a1d4ca-e5a5-4fb9-b249-8796ae759b33\",\n              \"name\": \"data\",\n              \"type\": \"string\",\n              \"value\": \"=## file location\\n{{ [$json.directory, $json.fileName].join('/') }}\\n## file created\\n{{ $now.toISO() }}\\n## file contents\\n{{ $input.item.binary.data.data.base64Decode() }}\"\n            },\n            {\n              \"id\": \"c091704d-b81c-448b-8c90-156ef568b871\",\n              \"name\": \"file_location\",\n              \"type\": \"string\",\n              \"value\": \"={{ [$json.directory, $json.fileName].join('/') }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.3\n    },\n    {\n      \"id\": \"ffe8c363-0809-4d21-aa8f-34b0fc2dc57f\",\n      \"name\": \"Chat Trigger\",\n      \"type\": \"@n8n/n8n-nodes-langchain.chatTrigger\",\n      \"position\": [\n        2280,\n        680\n      ],\n      \"webhookId\": \"37587fe0-b8db-4012-90a7-1f65b9bfd0df\",\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"8d958669-60be-4bb2-80fc-2a6c7c7bfae6\",\n      \"name\": \"Question and Answer Chain\",\n      \"type\": \"@n8n/n8n-nodes-langchain.chainRetrievalQa\",\n      \"position\": [\n        2500,\n        680\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1.3\n    },\n    {\n      \"id\": \"f143e438-8176-4923-a866-3f9a2a16793d\",\n      \"name\": \"Mistral Cloud Chat Model\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatMistralCloud\",\n      \"position\": [\n        2500,\n        840\n      ],\n      \"parameters\": {\n        \"model\": \"mistral-small-2402\",\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"mistralCloudApi\": {\n          \"id\": \"EIl2QxhXAS9Hkg37\",\n          \"name\": \"Mistral Cloud account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"06dd8f4c-3b66-43e0-85c8-ec222e275f87\",\n      \"name\": \"Vector Store Retriever\",\n      \"type\": \"@n8n/n8n-nodes-langchain.retrieverVectorStore\",\n      \"position\": [\n        2620,\n        840\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"2fdabcb5-a7a7-4e02-8c1b-9190e2e52385\",\n      \"name\": \"Embeddings Mistral Cloud1\",\n      \"type\": \"@n8n/n8n-nodes-langchain.embeddingsMistralCloud\",\n      \"position\": [\n        2620,\n        1080\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"mistralCloudApi\": {\n          \"id\": \"EIl2QxhXAS9Hkg37\",\n          \"name\": \"Mistral Cloud account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"e5664534-de07-481f-87dd-68d7d0715baa\",\n      \"name\": \"Remap for File_Added Flow\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        1920,\n        700\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"840219e1-ed47-4b00-83fd-6b3c0bd71650\",\n              \"name\": \"file_added\",\n              \"type\": \"string\",\n              \"value\": \"={{ $('Set Variables').item.json.file_changed }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.3\n    },\n    {\n      \"id\": \"1fd14832-aafe-4d72-b4f2-7afc72df97dc\",\n      \"name\": \"Search For Existing Point\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1340,\n        280\n      ],\n      \"parameters\": {\n        \"url\": \"=http://qdrant:6333/collections/{{ $('Set Variables').item.json.qdrant_collection }}/points/scroll\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"jsonBody\": \"={\\n    \\\"filter\\\": {\\n        \\\"must\\\": [\\n            {\\n                \\\"key\\\": \\\"metadata.filter_by_filename\\\",\\n                \\\"match\\\": {\\n                    \\\"value\\\": \\\"{{ $json.file_changed }}\\\"\\n                }\\n            }\\n        ]\\n    },\\n    \\\"limit\\\": 1,\\n    \\\"with_payload\\\": false,\\n    \\\"with_vector\\\": false\\n}\",\n        \"sendBody\": true,\n        \"specifyBody\": \"json\",\n        \"authentication\": \"predefinedCredentialType\",\n        \"nodeCredentialType\": \"qdrantApi\"\n      },\n      \"credentials\": {\n        \"qdrantApi\": {\n          \"id\": \"NyinAS3Pgfik66w5\",\n          \"name\": \"QdrantApi account\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"b5fa817f-82d6-41dd-9817-4c1dd9137b76\",\n      \"name\": \"Has Existing Point?\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        1520,\n        280\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"0392bac0-8fb5-406b-b59f-575edf5ab30d\",\n              \"operator\": {\n                \"type\": \"array\",\n                \"operation\": \"notEmpty\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $json.result.points }}\",\n              \"rightValue\": \"\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"b0fa4fa4-5d1b-4a12-b8ba-a10d71f31f94\",\n      \"name\": \"Delete Existing Point\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1720,\n        700\n      ],\n      \"parameters\": {\n        \"url\": \"=http://qdrant:6333/collections/{{ $('Set Variables').item.json.qdrant_collection }}/points/delete\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"sendBody\": true,\n        \"authentication\": \"predefinedCredentialType\",\n        \"bodyParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"points\",\n              \"value\": \"={{ $json.result.points.map(point => point.id) }}\"\n            }\n          ]\n        },\n        \"nodeCredentialType\": \"qdrantApi\"\n      },\n      \"credentials\": {\n        \"qdrantApi\": {\n          \"id\": \"NyinAS3Pgfik66w5\",\n          \"name\": \"QdrantApi account\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"5408adfe-4d6b-407c-aac7-e87c9b1a1592\",\n      \"name\": \"Search For Existing Point1\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1340,\n        700\n      ],\n      \"parameters\": {\n        \"url\": \"=http://qdrant:6333/collections/{{ $('Set Variables').item.json.qdrant_collection }}/points/scroll\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"jsonBody\": \"={\\n    \\\"filter\\\": {\\n        \\\"must\\\": [\\n            {\\n                \\\"key\\\": \\\"metadata.filter_by_filename\\\",\\n                \\\"match\\\": {\\n                    \\\"value\\\": \\\"{{ $json.file_changed }}\\\"\\n                }\\n            }\\n        ]\\n    },\\n    \\\"limit\\\": 1,\\n    \\\"with_payload\\\": false,\\n    \\\"with_vector\\\": false\\n}\",\n        \"sendBody\": true,\n        \"specifyBody\": \"json\",\n        \"authentication\": \"predefinedCredentialType\",\n        \"nodeCredentialType\": \"qdrantApi\"\n      },\n      \"credentials\": {\n        \"qdrantApi\": {\n          \"id\": \"NyinAS3Pgfik66w5\",\n          \"name\": \"QdrantApi account\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"fac43587-0d24-4d6e-a0d5-8cc8f9615967\",\n      \"name\": \"Has Existing Point?1\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        1520,\n        700\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"0392bac0-8fb5-406b-b59f-575edf5ab30d\",\n              \"operator\": {\n                \"type\": \"array\",\n                \"operation\": \"notEmpty\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $json.result.points }}\",\n              \"rightValue\": \"\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"010baacd-fac1-4cc1-86bf-9d6ef11916fe\",\n      \"name\": \"Delete Existing Point1\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1700,\n        280\n      ],\n      \"parameters\": {\n        \"url\": \"=http://qdrant:6333/collections/{{ $('Set Variables').item.json.qdrant_collection }}/points/delete\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"sendBody\": true,\n        \"authentication\": \"predefinedCredentialType\",\n        \"bodyParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"points\",\n              \"value\": \"={{ $json.result.points.map(point => point.id) }}\"\n            }\n          ]\n        },\n        \"nodeCredentialType\": \"qdrantApi\"\n      },\n      \"credentials\": {\n        \"qdrantApi\": {\n          \"id\": \"NyinAS3Pgfik66w5\",\n          \"name\": \"QdrantApi account\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"2d6fb29c-2fac-41de-9ad0-cc781b246378\",\n      \"name\": \"Handle File Event\",\n      \"type\": \"n8n-nodes-base.switch\",\n      \"position\": [\n        1000,\n        700\n      ],\n      \"parameters\": {\n        \"rules\": {\n          \"values\": [\n            {\n              \"outputKey\": \"file_deleted\",\n              \"conditions\": {\n                \"options\": {\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"id\": \"a1f6d86a-9805-4d0e-ac70-90c9cf0ad339\",\n                    \"operator\": {\n                      \"type\": \"string\",\n                      \"operation\": \"notEmpty\",\n                      \"singleValue\": true\n                    },\n                    \"leftValue\": \"={{ $json.file_deleted }}\",\n                    \"rightValue\": \"\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            },\n            {\n              \"outputKey\": \"file_changed\",\n              \"conditions\": {\n                \"options\": {\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"id\": \"d15cde67-b5b0-4676-b4fb-ead749147392\",\n                    \"operator\": {\n                      \"type\": \"string\",\n                      \"operation\": \"notEmpty\",\n                      \"singleValue\": true\n                    },\n                    \"leftValue\": \"={{ $json.file_changed }}\",\n                    \"rightValue\": \"\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            },\n            {\n              \"outputKey\": \"file_added\",\n              \"conditions\": {\n                \"options\": {\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"operator\": {\n                      \"type\": \"string\",\n                      \"operation\": \"notEmpty\",\n                      \"singleValue\": true\n                    },\n                    \"leftValue\": \"={{ $json.file_added }}\",\n                    \"rightValue\": \"\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            }\n          ]\n        },\n        \"options\": {}\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"da91b2aa-613c-4e3e-af83-fbd3bb7e922e\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1280,\n        123.92779403575491\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 847.032584995578,\n        \"height\": 335.8400964393443,\n        \"content\": \"## Step 2. When files are removed, the vector point is cleared.\\n[Learn how to delete points using the Qdrant API](https://qdrant.tech/documentation/concepts/points/#delete-points)\\n\\nTo keep our vectorstore relevant, we'll implement a simple synchronisation system whereby documents deleted from the local file folder are also purged from Qdrant. This can be simply achieved using Qdrant APIs.\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"2f9f5b2b-6504-4b27-a0c4-f3373df352df\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1280,\n        480\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 855.9952607674757,\n        \"height\": 433.01782147687817,\n        \"content\": \"## Step 3. When files are updated, the vector point is updated.\\n[Learn how to delete points using the Qdrant API](https://qdrant.tech/documentation/concepts/points/#delete-points)\\n\\nSimilarly to the files deleted branch, when we encounter a change in a file we'll update the matching vector point in Qdrant to ensure our vector store stays relevant. Here, we can achieve this my deleting the existing vector point and creating it anew with the updated bank statement.\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"38128b7f-d0f2-405c-a7de-662df812c344\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1280,\n        940\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 846.8204626627492,\n        \"height\": 629.9714759033081,\n        \"content\": \"## Step 4. When new files are added, add them to Qdrant Vectorstore.\\n[Read more about the Qdrant node](https://docs.n8n.io/integrations/builtin/cluster-nodes/root-nodes/n8n-nodes-langchain.vectorstoreqdrant)\\n\\nUsing Qdrant, we'll able to create a simple yet powerful RAG based application for our bank statements. One of Qdrant's most powerful features is its filtering system, we'll use it to manage the synchronisation of our local file system and Qdrant.\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"e85e2a30-e775-42fe-a12a-ac5de4eb4673\",\n      \"name\": \"Sticky Note5\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        2180,\n        491.43199269284935\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 744.4578330639196,\n        \"height\": 759.7908149448928,\n        \"content\": \"## Step 5. Create AI Agent expert on historic bank statements \\n[Read more about the Question & Answer Chain](https://docs.n8n.io/integrations/builtin/cluster-nodes/root-nodes/n8n-nodes-langchain.chainretrievalqa)\\n\\nFinally, let's use a Question & Answer AI node to combine the Mistral AI model and Qdrant as the vector store retriever to create a local expert for all our bank statements questions. \"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"7b29b0b9-ffee-4456-b036-9b39400d2b31\",\n      \"name\": \"Qdrant Vector Store\",\n      \"type\": \"@n8n/n8n-nodes-langchain.vectorStoreQdrant\",\n      \"position\": [\n        1700,\n        1120\n      ],\n      \"parameters\": {\n        \"mode\": \"insert\",\n        \"options\": {},\n        \"qdrantCollection\": {\n          \"__rl\": true,\n          \"mode\": \"id\",\n          \"value\": \"={{ $('Set Variables').item.json.qdrant_collection }}\"\n        }\n      },\n      \"credentials\": {\n        \"qdrantApi\": {\n          \"id\": \"NyinAS3Pgfik66w5\",\n          \"name\": \"QdrantApi account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"1857bebb-b492-415e-96c8-235329bfd28a\",\n      \"name\": \"Qdrant Vector Store1\",\n      \"type\": \"@n8n/n8n-nodes-langchain.vectorStoreQdrant\",\n      \"position\": [\n        2620,\n        960\n      ],\n      \"parameters\": {\n        \"qdrantCollection\": {\n          \"__rl\": true,\n          \"mode\": \"id\",\n          \"value\": \"BankStatements\"\n        }\n      },\n      \"credentials\": {\n        \"qdrantApi\": {\n          \"id\": \"NyinAS3Pgfik66w5\",\n          \"name\": \"QdrantApi account\"\n        }\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"pinData\": {},\n  \"connections\": {\n    \"Read File\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Prepare Embedding Document\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Chat Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Question and Answer Chain\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Set Variables\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Handle File Event\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Handle File Event\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Search For Existing Point\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Search For Existing Point1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Read File\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Local File Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set Variables\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Default Data Loader\": {\n      \"ai_document\": [\n        [\n          {\n            \"node\": \"Qdrant Vector Store\",\n            \"type\": \"ai_document\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Has Existing Point?\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Delete Existing Point1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Has Existing Point?1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Delete Existing Point\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Qdrant Vector Store1\": {\n      \"ai_vectorStore\": [\n        [\n          {\n            \"node\": \"Vector Store Retriever\",\n            \"type\": \"ai_vectorStore\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Delete Existing Point\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Remap for File_Added Flow\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Vector Store Retriever\": {\n      \"ai_retriever\": [\n        [\n          {\n            \"node\": \"Question and Answer Chain\",\n            \"type\": \"ai_retriever\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Embeddings Mistral Cloud\": {\n      \"ai_embedding\": [\n        [\n          {\n            \"node\": \"Qdrant Vector Store\",\n            \"type\": \"ai_embedding\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Mistral Cloud Chat Model\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Question and Answer Chain\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Embeddings Mistral Cloud1\": {\n      \"ai_embedding\": [\n        [\n          {\n            \"node\": \"Qdrant Vector Store1\",\n            \"type\": \"ai_embedding\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Remap for File_Added Flow\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Read File\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Search For Existing Point\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Has Existing Point?\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Prepare Embedding Document\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Qdrant Vector Store\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Search For Existing Point1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Has Existing Point?1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When clicking \\\"Test workflow\\\"\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set Variables\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Recursive Character Text Splitter\": {\n      \"ai_textSplitter\": [\n        [\n          {\n            \"node\": \"Default Data Loader\",\n            \"type\": \"ai_textSplitter\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.localFileTrigger",
      "n8n-nodes-base.manualTrigger",
      "n8n-nodes-base.set",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.readWriteFile",
      "@n8n/n8n-nodes-langchain.embeddingsMistralCloud",
      "@n8n/n8n-nodes-langchain.documentDefaultDataLoader",
      "@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter",
      "n8n-nodes-base.set",
      "@n8n/n8n-nodes-langchain.chatTrigger",
      "@n8n/n8n-nodes-langchain.chainRetrievalQa",
      "@n8n/n8n-nodes-langchain.lmChatMistralCloud",
      "@n8n/n8n-nodes-langchain.retrieverVectorStore",
      "@n8n/n8n-nodes-langchain.embeddingsMistralCloud",
      "n8n-nodes-base.set",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.if",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.if",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.switch",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "@n8n/n8n-nodes-langchain.vectorStoreQdrant",
      "@n8n/n8n-nodes-langchain.vectorStoreQdrant"
    ],
    "trigger": "local file trigger"
  }
}