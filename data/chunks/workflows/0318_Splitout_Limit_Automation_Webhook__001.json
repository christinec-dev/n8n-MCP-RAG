{
  "source": "0318_Splitout_Limit_Automation_Webhook.json",
  "index": 1,
  "content": "{\n  \"meta\": {\n    \"instanceId\": \"408f9fb9940c3cb18ffdef0e0150fe342d6e655c3a9fac21f0f644e8bedabcd9\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"nodes\": [\n    {\n      \"id\": \"a9048293-787d-44d6-b995-d329b2495048\",\n      \"name\": \"When clicking \\\"Execute Workflow\\\"\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        -1920,\n        1380\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"56017e8b-2f2e-4f40-9325-184ea01a18be\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -1720,\n        1260\n      ],\n      \"parameters\": {\n        \"width\": 1071.752021563343,\n        \"height\": 285.66037735849045,\n        \"content\": \"## Scrape latest Paul Graham essays\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"aa855d7c-6602-4242-bc84-56fed7c27c26\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -600,\n        1260\n      ],\n      \"parameters\": {\n        \"width\": 625,\n        \"height\": 607,\n        \"content\": \"## Summarize them with GPT\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"1a38e545-6d3b-40b2-a3ff-6f91fdd772de\",\n      \"name\": \"Fetch Essay List\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        -1640,\n        1380\n      ],\n      \"parameters\": {\n        \"url\": \"http://www.paulgraham.com/articles.html\",\n        \"options\": {}\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"bd713892-356b-4a9c-b076-000bd4f1f1ba\",\n      \"name\": \"OpenAI Chat Model\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\n      \"position\": [\n        -380,\n        1600\n      ],\n      \"parameters\": {\n        \"model\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gpt-4o-mini\"\n        },\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"8gccIjcuf3gvaoEr\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"4d7359ab-ba87-4756-8168-f2b987aac2fc\",\n      \"name\": \"Extract essay names\",\n      \"type\": \"n8n-nodes-base.html\",\n      \"position\": [\n        -1440,\n        1380\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"operation\": \"extractHtmlContent\",\n        \"extractionValues\": {\n          \"values\": [\n            {\n              \"key\": \"essay\",\n              \"attribute\": \"href\",\n              \"cssSelector\": \"table table a\",\n              \"returnArray\": true,\n              \"returnValue\": \"attribute\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"8342d13f-879d-426b-ba28-ab696dd7f155\",\n      \"name\": \"Split out into items\",\n      \"type\": \"n8n-nodes-base.splitOut\",\n      \"position\": [\n        -1240,\n        1380\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"fieldToSplitOut\": \"essay\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"a057d3cb-b7fb-4b4d-810a-e4de3ac10702\",\n      \"name\": \"Fetch essay texts\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        -840,\n        1380\n      ],\n      \"parameters\": {\n        \"url\": \"=http://www.paulgraham.com/{{ $json.essay }}\",\n        \"options\": {}\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"98164d8c-3d6f-485d-93b6-1da3e8ae7ca8\",\n      \"name\": \"Extract title\",\n      \"type\": \"n8n-nodes-base.html\",\n      \"position\": [\n        -340,\n        1080\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"operation\": \"extractHtmlContent\",\n        \"extractionValues\": {\n          \"values\": [\n            {\n              \"key\": \"title\",\n              \"cssSelector\": \"title\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"fc0b6230-d169-4b20-803b-1896982c37c3\",\n      \"name\": \"Summarization Chain\",\n      \"type\": \"@n8n/n8n-nodes-langchain.chainSummarization\",\n      \"position\": [\n        -340,\n        1380\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"operationMode\": \"documentLoader\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"a656524a-9f77-4922-9de7-e2221ac82b70\",\n      \"name\": \"Clean up\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        360,\n        1380\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"7b337b47-a1c6-470e-881f-0c038b4917e5\",\n              \"name\": \"title\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.title }}\"\n            },\n            {\n              \"id\": \"ca820521-4fff-4971-84b5-e6e2dbd8bb7a\",\n              \"name\": \"summary\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.response.text }}\"\n            },\n            {\n              \"id\": \"0fd9b5e3-44dd-49a3-82c1-3a4aa4698376\",\n              \"name\": \"url\",\n              \"type\": \"string\",\n              \"value\": \"=http://www.paulgraham.com/{{ $('Limit to first 3').first().json.essay }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"da738af0-7302-442d-bdc8-c9771be10794\",\n      \"name\": \"Merge\",\n      \"type\": \"n8n-nodes-base.merge\",\n      \"position\": [\n        160,\n        1380\n      ],\n      \"parameters\": {\n        \"mode\": \"combine\",\n        \"options\": {},\n        \"combineBy\": \"combineByPosition\"\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"adf51f27-8d3e-49a8-b850-7990d355dc81\",\n      \"name\": \"Default Data Loader\",\n      \"type\": \"@n8n/n8n-nodes-langchain.documentDefaultDataLoader\",\n      \"position\": [\n        -260,\n        1600\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"jsonData\": \"={{ $('Extract Text Only').item.json.data }}\",\n        \"jsonMode\": \"expressionData\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"f57c5908-4ae3-4ce1-a74b-0fc393792c21\",\n      \"name\": \"Recursive Character Text Splitter\",\n      \"type\": \"@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter\",\n      \"position\": [\n        -180,\n        1720\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"chunkSize\": 6000\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"278eed78-3489-41e3-b4d2-a2de788fcd21\",\n      \"name\": \"Limit to first 3\",\n      \"type\": \"n8n-nodes-base.limit\",\n      \"position\": [\n        -1040,\n        1380\n      ],\n      \"parameters\": {\n        \"maxItems\": 3\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"028147d1-2a45-416d-91d0-40a0af2747f5\",\n      \"name\": \"Extract Text Only\",\n      \"type\": \"n8n-nodes-base.html\",\n      \"position\": [\n        -520,\n        1380\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"operation\": \"extractHtmlContent\",\n        \"extractionValues\": {\n          \"values\": [\n            {\n              \"key\": \"data\",\n              \"cssSelector\": \"body\",\n              \"skipSelectors\": \"img,nav\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1.2\n    }\n  ],\n  \"pinData\": {},\n  \"connections\": {\n    \"Merge\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Clean up\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Extract title\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Merge\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Fetch Essay List\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Extract essay names\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Limit to first 3\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Fetch essay texts\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Extract Text Only\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Summarization Chain\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Fetch essay texts\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Extract title\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Extract Text Only\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"OpenAI Chat Model\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Summarization Chain\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Default Data Loader\": {\n      \"ai_document\": [\n        [\n          {\n            \"node\": \"Summarization Chain\",\n            \"type\": \"ai_document\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Extract essay names\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Split out into items\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Summarization Chain\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Merge\",\n            \"type\": \"main\",\n            \"index\": 1\n          }\n        ]\n      ]\n    },\n    \"Split out into items\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Limit to first 3\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When clicking \\\"Execute Workflow\\\"\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Fetch Essay List\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Recursive Character Text Splitter\": {\n      \"ai_textSplitter\": [\n        [\n          {\n            \"node\": \"Default Data Loader\",\n            \"type\": \"ai_textSplitter\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.manualTrigger",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.httpRequest",
      "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "n8n-nodes-base.html",
      "n8n-nodes-base.splitOut",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.html",
      "@n8n/n8n-nodes-langchain.chainSummarization",
      "n8n-nodes-base.set",
      "n8n-nodes-base.merge",
      "@n8n/n8n-nodes-langchain.documentDefaultDataLoader",
      "@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter",
      "n8n-nodes-base.limit",
      "n8n-nodes-base.html"
    ],
    "trigger": null
  }
}