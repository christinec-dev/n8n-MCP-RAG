{
  "source": "0053_Trello_GoogleCalendar_Create_Scheduled.json",
  "index": 1,
  "content": "{\n  \"nodes\": [\n    {\n      \"name\": \"Get Start & End of day\",\n      \"type\": \"n8n-nodes-base.function\",\n      \"position\": [\n        850,\n        450\n      ],\n      \"parameters\": {\n        \"functionCode\": \"var curr = new Date;\\nvar first = (curr.getDate());\\nvar last = first;\\n\\nvar firstday = new Date(curr.setDate(first));\\nvar lastday = new Date(curr.setDate(last));\\n\\nbeginning = new Date(firstday.setHours(0,0,0,0));\\nending = new Date(lastday.setHours(23,59,59,99));\\n\\nitems[0].json.from = beginning.toISOString();\\nitems[0].json.to = ending.toISOString();\\n\\nreturn items;items[0].json.myVariable = 1;\\nreturn items;\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Set Trello Card Details\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        1460,\n        640\n      ],\n      \"parameters\": {\n        \"values\": {\n          \"string\": [\n            {\n              \"name\": \"name\",\n              \"value\": \"={{$node[\\\"Split Events In Batches\\\"].json[\\\"summary\\\"]}}\"\n            },\n            {\n              \"name\": \"description\",\n              \"value\": \"={{$node[\\\"Split Events In Batches\\\"].json[\\\"description\\\"]}}\"\n            },\n            {\n              \"name\": \"duedate\",\n              \"value\": \"={{$node[\\\"Split Events In Batches\\\"].json[\\\"start\\\"][\\\"dateTime\\\"]}}\"\n            },\n            {\n              \"name\": \"URL\",\n              \"value\": \"={{$node[\\\"Split Events In Batches\\\"].json[\\\"htmlLink\\\"]}}\"\n            }\n          ]\n        },\n        \"options\": {}\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Remove Recurring Tasks\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        1650,\n        640\n      ],\n      \"parameters\": {\n        \"conditions\": {\n          \"string\": [\n            {\n              \"value1\": \"={{$node[\\\"Split Events In Batches\\\"].json[\\\"summary\\\"]}}\",\n              \"value2\": \"Check email and start day\"\n            },\n            {\n              \"value1\": \"={{$node[\\\"Split Events In Batches\\\"].json[\\\"summary\\\"]}}\",\n              \"value2\": \"Lunch\"\n            },\n            {\n              \"value1\": \"={{$node[\\\"Split Events In Batches\\\"].json[\\\"summary\\\"]}}\",\n              \"value2\": \"Wrap Up & Clear Desk\"\n            },\n            {\n              \"value1\": \"={{$node[\\\"Split Events In Batches\\\"].json[\\\"summary\\\"]}}\",\n              \"value2\": \"Beers and Griping\"\n            }\n          ],\n          \"boolean\": []\n        },\n        \"combineOperation\": \"any\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Get Todays Events\",\n      \"type\": \"n8n-nodes-base.googleCalendar\",\n      \"position\": [\n        1060,\n        450\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"timeMax\": \"={{$node[\\\"Get Start & End of day\\\"].json[\\\"to\\\"]}}\",\n          \"timeMin\": \"={{$node[\\\"Get Start & End of day\\\"].json[\\\"from\\\"]}}\",\n          \"singleEvents\": true\n        },\n        \"calendar\": \"amenendez@threatconnect.com\",\n        \"operation\": \"getAll\"\n      },\n      \"credentials\": {\n        \"googleCalendarOAuth2Api\": \"Angel TC Calendar API\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Split Events In Batches\",\n      \"type\": \"n8n-nodes-base.splitInBatches\",\n      \"position\": [\n        1260,\n        640\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"batchSize\": 1\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Create Trello Cards\",\n      \"type\": \"n8n-nodes-base.trello\",\n      \"position\": [\n        1830,\n        730\n      ],\n      \"parameters\": {\n        \"name\": \"={{$node[\\\"Set Trello Card Details\\\"].json[\\\"name\\\"]}}\",\n        \"description\": \"=**Meeting purpose (*Integrations, Playbooks, UI Issues, Project*):**\\n\\n- Task\\n\\n**Next Steps (*Task, Assigned to, Checkpoint Date*):**\\n\\n- Task\\n\\n**Decisions Made: (*What, Why, Impacts*):**\\n\\n- Task\\n\\n**Discussion: (*Items/Knowledge Shared*):**\\n\\n- Task\",\n        \"additionalFields\": {\n          \"due\": \"={{$node[\\\"Set Trello Card Details\\\"].json[\\\"duedate\\\"]}}\",\n          \"idLabels\": \"\",\n          \"urlSource\": \"={{$node[\\\"Set Trello Card Details\\\"].json[\\\"URL\\\"]}}\"\n        }\n      },\n      \"credentials\": {\n        \"trelloApi\": \"Angel Work Trello\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Delete Task\",\n      \"type\": \"n8n-nodes-base.noOp\",\n      \"position\": [\n        1830,\n        560\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Trigger Every Day at 8am\",\n      \"type\": \"n8n-nodes-base.cron\",\n      \"position\": [\n        650,\n        450\n      ],\n      \"parameters\": {\n        \"triggerTimes\": {\n          \"item\": [\n            {\n              \"hour\": 8\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"connections\": {\n    \"Get Todays Events\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Split Events In Batches\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get Start & End of day\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get Todays Events\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Remove Recurring Tasks\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Delete Task\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Create Trello Cards\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Set Trello Card Details\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Remove Recurring Tasks\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Split Events In Batches\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set Trello Card Details\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Get Todays Events\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Trigger Every Day at 8am\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get Start & End of day\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.function",
      "n8n-nodes-base.set",
      "n8n-nodes-base.if",
      "n8n-nodes-base.googleCalendar",
      "n8n-nodes-base.splitInBatches",
      "n8n-nodes-base.trello",
      "n8n-nodes-base.noOp",
      "n8n-nodes-base.cron"
    ],
    "trigger": "trigger every day at 8am"
  }
}