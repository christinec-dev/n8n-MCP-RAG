{
  "source": "0372_Executeworkflow_Hackernews_Create_Triggered.json",
  "index": 1,
  "content": "{\n  \"meta\": {\n    \"instanceId\": \"408f9fb9940c3cb18ffdef0e0150fe342d6e655c3a9fac21f0f644e8bedabcd9\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"nodes\": [\n    {\n      \"id\": \"b6836974-0d4b-482b-8a8a-c00f229f1136\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        100,\n        500\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 150,\n        \"height\": 293,\n        \"content\": \"### Replace me\\nwith any other service, e.g. fetching your own data\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"c0b8b657-24b8-4c0b-bfe9-d4fe2075dbe5\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -180,\n        420\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 927.5,\n        \"height\": 406.875,\n        \"content\": \"### Sub-workflow: Custom tool\\nThis can be called by the agent above. This example fetches the top 50 posts ever on Hacker News\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"a1dab7b1-b028-44a2-ab55-d8edee62e261\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -180,\n        -120\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 927.5,\n        \"height\": 486.5625,\n        \"content\": \"### Main workflow: AI agent using custom tool\\nTry it out by clicking 'Chat' and entering 'What is the 5th most popular post ever on Hacker News?'\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"84d91346-6b1d-4808-a6b3-ce212cd122d0\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -340,\n        -20\n      ],\n      \"parameters\": {\n        \"width\": 185.9375,\n        \"height\": 218,\n        \"content\": \"## Try me out\\n\\nClick the 'Chat' button and enter:\\n\\n_What is the 5th most popular post ever on Hacker News?_\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"50c7208d-d2dc-4380-9f81-6d7f4dee40b3\",\n      \"name\": \"When chat message received\",\n      \"type\": \"@n8n/n8n-nodes-langchain.chatTrigger\",\n      \"position\": [\n        -40,\n        20\n      ],\n      \"webhookId\": \"34a31e43-46b8-4c4b-a47e-ef5ad6e66af0\",\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"6170523b-ac2d-4541-9186-0f2932829a36\",\n      \"name\": \"Custom tool to call the wf below1\",\n      \"type\": \"@n8n/n8n-nodes-langchain.toolWorkflow\",\n      \"position\": [\n        480,\n        220\n      ],\n      \"parameters\": {\n        \"name\": \"hn_tool\",\n        \"workflowId\": {\n          \"__rl\": true,\n          \"mode\": \"id\",\n          \"value\": \"={{ $workflow.id }}\"\n        },\n        \"description\": \"Returns a list of the most popular posts ever on Hacker News, in json format\",\n        \"workflowInputs\": {\n          \"value\": {},\n          \"schema\": [],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": [],\n          \"attemptToConvertTypes\": false,\n          \"convertFieldsToString\": false\n        }\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"3f40434e-4055-4d8f-be26-051da2911aa1\",\n      \"name\": \"When Executed by Another Workflow\",\n      \"type\": \"n8n-nodes-base.executeWorkflowTrigger\",\n      \"position\": [\n        -120,\n        640\n      ],\n      \"parameters\": {\n        \"inputSource\": \"passthrough\"\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"4a6cf195-6862-4007-b791-d021583a771e\",\n      \"name\": \"Hacker News\",\n      \"type\": \"n8n-nodes-base.hackerNews\",\n      \"position\": [\n        120,\n        640\n      ],\n      \"parameters\": {\n        \"limit\": 50,\n        \"resource\": \"all\",\n        \"additionalFields\": {}\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"03095e43-0d6e-47c0-8936-dceb2fb0dfb1\",\n      \"name\": \"Clean up data\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        340,\n        640\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"171d5a66-fc72-42ab-9f6c-0c137f6b3415\",\n              \"name\": \"title\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json._highlightResult.title.value }}\"\n            },\n            {\n              \"id\": \"e6662f7e-8e44-43d6-8e8b-6162bfec34bc\",\n              \"name\": \"points\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.points }}\"\n            },\n            {\n              \"id\": \"7415a9f0-7cd4-4bad-bbcf-1903520af155\",\n              \"name\": \"url\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.url }}\"\n            },\n            {\n              \"id\": \"8b0c67a6-89b0-40de-85f2-b80c9298d81f\",\n              \"name\": \"created_at\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.created_at }}\"\n            },\n            {\n              \"id\": \"b7847fbb-4428-4a5b-980e-08e6069b0ac4\",\n              \"name\": \"author\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.author }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"50ee96c0-36d6-4774-b5cf-b653f5b56868\",\n      \"name\": \"Stringify\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        560,\n        640\n      ],\n      \"parameters\": {\n        \"jsCode\": \"return {\\n  'response': JSON.stringify($input.all().map(x => x.json))\\n}\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"ba221fc3-5249-4295-b64e-2c7370c6dad4\",\n      \"name\": \"AI Agent\",\n      \"type\": \"@n8n/n8n-nodes-langchain.agent\",\n      \"position\": [\n        260,\n        20\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"typeVersion\": 1.8\n    },\n    {\n      \"id\": \"e8c45847-cc26-47b3-898c-8063b9c4b3a9\",\n      \"name\": \"OpenAI Chat Model\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\n      \"position\": [\n        220,\n        200\n      ],\n      \"parameters\": {\n        \"model\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gpt-4o-mini\"\n        },\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"8gccIjcuf3gvaoEr\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 1.2\n    }\n  ],\n  \"pinData\": {},\n  \"connections\": {\n    \"Hacker News\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Clean up data\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Clean up data\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Stringify\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"OpenAI Chat Model\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"AI Agent\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When chat message received\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"AI Agent\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Custom tool to call the wf below1\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"AI Agent\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When Executed by Another Workflow\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Hacker News\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "@n8n/n8n-nodes-langchain.chatTrigger",
      "@n8n/n8n-nodes-langchain.toolWorkflow",
      "n8n-nodes-base.executeWorkflowTrigger",
      "n8n-nodes-base.hackerNews",
      "n8n-nodes-base.set",
      "n8n-nodes-base.code",
      "@n8n/n8n-nodes-langchain.agent",
      "@n8n/n8n-nodes-langchain.lmChatOpenAi"
    ],
    "trigger": null
  }
}