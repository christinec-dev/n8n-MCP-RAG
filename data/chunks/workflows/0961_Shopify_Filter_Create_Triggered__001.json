{
  "source": "0961_Shopify_Filter_Create_Triggered.json",
  "index": 1,
  "content": "{\n  \"id\": \"44PIIGwPzUe9dGfb\",\n  \"meta\": {\n    \"instanceId\": \"6b3e8c6c30cdfbf06283a3fa57016932c6b4ec959896c5c546ef5865ff697ff1\"\n  },\n  \"name\": \"Sync New Shopify Products to Odoo Product\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"5ad7f941-4146-4897-ad30-dcdccab85e82\",\n      \"name\": \"Odoo6\",\n      \"type\": \"n8n-nodes-base.odoo\",\n      \"position\": [\n        320,\n        0\n      ],\n      \"parameters\": {\n        \"limit\": 1,\n        \"options\": {},\n        \"resource\": \"custom\",\n        \"operation\": \"getAll\",\n        \"filterRequest\": {\n          \"filter\": [\n            {\n              \"value\": \"={{ $('Shopify Trigger').all()[0].json.variants[0].product_id }}\",\n              \"fieldName\": \"default_code\"\n            }\n          ]\n        },\n        \"customResource\": \"product.product\"\n      },\n      \"credentials\": {\n        \"odooApi\": {\n          \"id\": \"0qIK4Cq1BwOSbxT8\",\n          \"name\": \"Odoo 148.66.157.208:8069\"\n        }\n      },\n      \"typeVersion\": 1,\n      \"alwaysOutputData\": true\n    },\n    {\n      \"id\": \"1b1a3753-e645-465c-8155-ad8c006f3e13\",\n      \"name\": \"Filter2\",\n      \"type\": \"n8n-nodes-base.filter\",\n      \"position\": [\n        740,\n        0\n      ],\n      \"parameters\": {\n        \"conditions\": {\n          \"boolean\": [\n            {\n              \"value1\": \"={{ $json.existing }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"5b388afc-de9a-4246-85a8-0ef4ec8ac0bc\",\n      \"name\": \"Odoo7\",\n      \"type\": \"n8n-nodes-base.odoo\",\n      \"position\": [\n        920,\n        0\n      ],\n      \"parameters\": {\n        \"resource\": \"custom\",\n        \"customResource\": \"product.product\",\n        \"fieldsToCreateOrUpdate\": {\n          \"fields\": [\n            {\n              \"fieldName\": \"name\",\n              \"fieldValue\": \"={{ $json.product_detail.title }}\"\n            },\n            {\n              \"fieldName\": \"default_code\",\n              \"fieldValue\": \"={{ $json.product_detail.variants[0].product_id }}\"\n            },\n            {\n              \"fieldName\": \"description\",\n              \"fieldValue\": \"={{ $json.product_detail.body_html }}\"\n            },\n            {\n              \"fieldName\": \"list_price\",\n              \"fieldValue\": \"={{ $json.product_detail.variants[0].price }}\"\n            }\n          ]\n        }\n      },\n      \"credentials\": {\n        \"odooApi\": {\n          \"id\": \"0qIK4Cq1BwOSbxT8\",\n          \"name\": \"Odoo 148.66.157.208:8069\"\n        }\n      },\n      \"typeVersion\": 1,\n      \"alwaysOutputData\": false\n    },\n    {\n      \"id\": \"765aeea5-bfe8-4d6c-96a4-ebbc192a9d60\",\n      \"name\": \"Shopify Trigger\",\n      \"type\": \"n8n-nodes-base.shopifyTrigger\",\n      \"position\": [\n        80,\n        0\n      ],\n      \"webhookId\": \"30b89f06-e54c-4461-9e1e-9ef7f221e08b\",\n      \"parameters\": {\n        \"topic\": \"products/create\",\n        \"authentication\": \"accessToken\"\n      },\n      \"credentials\": {\n        \"shopifyAccessTokenApi\": {\n          \"id\": \"zkXzZzc97XyALfN8\",\n          \"name\": \"Evozard - Shopify\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"e1b2f842-0b54-4f55-9c69-a4d40777fd0c\",\n      \"name\": \"Code\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        560,\n        0\n      ],\n      \"parameters\": {\n        \"mode\": \"runOnceForEachItem\",\n        \"jsCode\": \"var product_detail = $('Shopify Trigger').first().json\\nconsole.log('-------product_detail--------',product_detail)\\nvar existing_product = $('Odoo6').item.json\\nreturn {existing:existing_product.id ? true:false,product_detail:product_detail}\\n\"\n      },\n      \"typeVersion\": 2\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"5dc6f917-daa8-4819-b8ff-1c46ab75b680\",\n  \"connections\": {\n    \"Code\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Filter2\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Odoo6\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Code\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Filter2\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Odoo7\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Shopify Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Odoo6\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.odoo",
      "n8n-nodes-base.filter",
      "n8n-nodes-base.odoo",
      "n8n-nodes-base.shopifyTrigger",
      "n8n-nodes-base.code"
    ],
    "trigger": "shopify trigger"
  }
}