{
  "source": "0471_HTTP_Form_Create_Webhook.json",
  "index": 1,
  "content": "{\n  \"meta\": {\n    \"instanceId\": \"8418cffce8d48086ec0a73fd90aca708aa07591f2fefa6034d87fe12a09de26e\"\n  },\n  \"nodes\": [\n    {\n      \"id\": \"4503cef2-4882-43c6-bdb9-b94c75da5776\",\n      \"name\": \"Create Stripe Product\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        780,\n        300\n      ],\n      \"parameters\": {\n        \"url\": \"https://api.stripe.com/v1/products\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"sendBody\": true,\n        \"contentType\": \"form-urlencoded\",\n        \"authentication\": \"predefinedCredentialType\",\n        \"bodyParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"name\",\n              \"value\": \"={{ $json.title }}\"\n            },\n            {\n              \"name\": \"default_price_data[unit_amount]\",\n              \"value\": \"={{ $json.price }}\"\n            },\n            {\n              \"name\": \"default_price_data[currency]\",\n              \"value\": \"={{ $json.currency }}\"\n            }\n          ]\n        },\n        \"nodeCredentialType\": \"stripeApi\"\n      },\n      \"credentials\": {\n        \"stripeApi\": {\n          \"id\": \"qjose8z3RR7Xzm7b\",\n          \"name\": \"Stripe Dev\"\n        }\n      },\n      \"typeVersion\": 4.1\n    },\n    {\n      \"id\": \"80306e70-b57f-4697-9a9f-1835d2525c2f\",\n      \"name\": \"Create payment link\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        980,\n        300\n      ],\n      \"parameters\": {\n        \"url\": \"https://api.stripe.com/v1/payment_links\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"sendBody\": true,\n        \"contentType\": \"form-urlencoded\",\n        \"authentication\": \"predefinedCredentialType\",\n        \"bodyParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"line_items[0][price]\",\n              \"value\": \"={{ $json.default_price }}\"\n            },\n            {\n              \"name\": \"line_items[0][quantity]\",\n              \"value\": \"1\"\n            }\n          ]\n        },\n        \"nodeCredentialType\": \"stripeApi\"\n      },\n      \"credentials\": {\n        \"stripeApi\": {\n          \"id\": \"qjose8z3RR7Xzm7b\",\n          \"name\": \"Stripe Dev\"\n        }\n      },\n      \"typeVersion\": 4.1\n    },\n    {\n      \"id\": \"31d7450e-0f44-4c16-aec4-fe9213ff7c83\",\n      \"name\": \"Config\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"notes\": \"Setup your flow\",\n      \"position\": [\n        580,\n        300\n      ],\n      \"parameters\": {\n        \"include\": \"selected\",\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"038b54b7-9559-444e-8653-c5256a5b784e\",\n              \"name\": \"currency\",\n              \"type\": \"string\",\n              \"value\": \"EUR\"\n            },\n            {\n              \"id\": \"e86962bb-7af4-41be-94f6-6ee6b8569eef\",\n              \"name\": \"price\",\n              \"type\": \"number\",\n              \"value\": \"={{ $json.price * 100}}\"\n            }\n          ]\n        },\n        \"includeFields\": \"title\",\n        \"includeOtherFields\": true\n      },\n      \"notesInFlow\": true,\n      \"typeVersion\": 3.3\n    },\n    {\n      \"id\": \"10fb462a-8302-4281-9cd3-68bc00e69177\",\n      \"name\": \"Creation Form\",\n      \"type\": \"n8n-nodes-base.formTrigger\",\n      \"position\": [\n        380,\n        300\n      ],\n      \"webhookId\": \"1c6fe52c-48ab-4688-b5ae-7e24361aa603\",\n      \"parameters\": {\n        \"path\": \"my-form-id\",\n        \"formTitle\": \"Create a payment link\",\n        \"formFields\": {\n          \"values\": [\n            {\n              \"fieldLabel\": \"title\",\n              \"requiredField\": true\n            },\n            {\n              \"fieldType\": \"number\",\n              \"fieldLabel\": \"price\",\n              \"requiredField\": true\n            }\n          ]\n        },\n        \"responseMode\": \"responseNode\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"daf2d495-f31f-45e0-945a-a6e94be43b25\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        580,\n        0\n      ],\n      \"parameters\": {\n        \"color\": 6,\n        \"width\": 275.01592825011585,\n        \"height\": 261.76027109756643,\n        \"content\": \"# Setup\\n### 1/ Add Your credentials\\n[Stripe](https://docs.n8n.io/integrations/builtin/credentials/stripe/)\\n\\n### 2/ And fill the config node\\n# ðŸ‘‡\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"9d298026-d858-4613-97c1-ac0cbd895ece\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        880,\n        160\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 202.64787116404852,\n        \"height\": 85.79488430601403,\n        \"content\": \"### Crafted by the\\n## [ðŸ¥· n8n.ninja](https://n8n.ninja)\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"5c8a17a3-7b2c-4760-a48a-02549f766967\",\n      \"name\": \"Respond to Webhook\",\n      \"type\": \"n8n-nodes-base.respondToWebhook\",\n      \"position\": [\n        1200,\n        300\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"redirectURL\": \"={{ $json.url }}\",\n        \"respondWith\": \"redirect\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"pinData\": {},\n  \"connections\": {\n    \"Config\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Create Stripe Product\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Creation Form\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Config\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Create payment link\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Respond to Webhook\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Create Stripe Product\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Create payment link\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.set",
      "n8n-nodes-base.formTrigger",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.respondToWebhook"
    ],
    "trigger": null
  }
}