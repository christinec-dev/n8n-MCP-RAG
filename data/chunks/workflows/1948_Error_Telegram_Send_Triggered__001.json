{
  "source": "1948_Error_Telegram_Send_Triggered.json",
  "index": 1,
  "content": "{\n  \"id\": \"ozo5jlbwPHgaMnVt\",\n  \"meta\": {\n    \"instanceId\": \"2c69a61055797162319204105e5a124e409f0c7fbfaba08ee106324374f4ae73\"\n  },\n  \"name\": \"Error Handler send Telegram\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"3968e71e-d9fb-4810-81bb-18ecf073b3ee\",\n      \"name\": \"Telegram\",\n      \"type\": \"n8n-nodes-base.telegram\",\n      \"position\": [\n        520,\n        -200\n      ],\n      \"webhookId\": \"b3f6e388-8313-4bc1-8077-d81471b2f95d\",\n      \"parameters\": {\n        \"text\": \"=Workflow: {{ $('Error Trigger').first().json.workflow.name }}\\nData & Time: {{ $now }}\\nURL: {{ $('Error Trigger').first().json.execution.url }}\\nLast Node: {{ $('Error Trigger').first().json.execution.lastNodeExecuted }}\\nError Detal: {{ $('Error Trigger').first().json.execution.error.message }}\\n\",\n        \"chatId\": \"={{ $('Config').item.json.telegramChatId }}\",\n        \"additionalFields\": {\n          \"parse_mode\": \"HTML\",\n          \"appendAttribution\": false\n        }\n      },\n      \"credentials\": {\n        \"telegramApi\": {\n          \"id\": \"BCYwPAl9pdnRqKeR\",\n          \"name\": \"Telegram n8n Log Test\"\n        }\n      },\n      \"retryOnFail\": true,\n      \"typeVersion\": 1.2,\n      \"waitBetweenTries\": 3000\n    },\n    {\n      \"id\": \"bbb54150-b749-49e2-9c49-720341691151\",\n      \"name\": \"Error Trigger\",\n      \"type\": \"n8n-nodes-base.errorTrigger\",\n      \"position\": [\n        60,\n        -200\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"68bc359d-4c7f-4027-8e76-c2bc6b612ede\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -520,\n        -820\n      ],\n      \"parameters\": {\n        \"width\": 1420,\n        \"height\": 1240,\n        \"content\": \"### **How to Use Telegram Error Notifier**\\n\\n### **Step 1: Prerequisites**\\n1. **Telegram Bot:**\\n   - Create a bot using [BotFather](https://core.telegram.org/bots#botfather) and get the bot token.\\n   - Add the bot to your Telegram group/channel and note the `chatId`.\\n\\n2. **n8n Setup:**\\n   - Ensure the **Telegram** and **Error Trigger** nodes are installed.\\n---\\n### **Step 2: Configure the Workflow**\\n1. **Update Telegram Chat ID:**\\n   - Open the **Config** node.\\n   - Replace `telegramChatId` with your actual Telegram group/channel ID:\\n     ```json\\n     return [\\n       {\\n         \\\"telegramChatId\\\": 123456789, // Replace with your chat ID, format 123456789 or -123456789\\n       }\\n     ];\\n     ```\\n\\n2. **Set Telegram Bot Credentials:**\\n   - Open the **Telegram** node.\\n   - Add your bot token in the **Credentials** section.\\n\\n3. **Activate the Workflow:**\\n   - Toggle the **Active** switch to enable the workflow.\\n---\\n### **Step 3: Set Up Error Workflow**\\n1. Open the workflow where you want error notifications.\\n2. Go to **Settings** > **Error Workflow**.\\n3. Select **Telegram Error Notifier** from the dropdown.\\n4. Save the changes.\\n---\\n### **Step 4: Test the Workflow**\\n1. Trigger an error in the workflow.\\n2. Check your Telegram for the error notification, which includes:\\n   - Workflow name\\n   - Date and time\\n   - Execution URL\\n   - Last node executed\\n   - Error details\\n---\\n### **Example Notification**\\n```\\nWorkflow: My Workflow 1\\nData & Time: 2023-10-27T12:34:56Z\\nURL: https://n8n.example.com/execution/12345\\nLast Node: HTTP Request\\nError Detail: Failed to connect to the server.\\n```\\n---\\n### **Troubleshooting**\\n- **No Notifications:**  \\n  Ensure the workflow is active, and the bot token/chat ID is correct.\\n- **Permission Issues:**  \\n  Ensure the bot can send messages in your Telegram group/channel.\\n---\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"6bcf5a24-643d-4fbe-81c9-c8830dc8f1b6\",\n      \"name\": \"Config\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        300,\n        -200\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"bf7b1294-b50d-49f7-a5f1-76b0d6845aea\",\n              \"name\": \"telegramChatId\",\n              \"type\": \"string\",\n              \"value\": \"123456789\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"e3a6d588-a83c-4d4e-afdc-232624479723\",\n  \"connections\": {\n    \"Config\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Telegram\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Error Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Config\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.telegram",
      "n8n-nodes-base.errorTrigger",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.set"
    ],
    "trigger": "error trigger"
  }
}