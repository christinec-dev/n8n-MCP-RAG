{
  "source": "0479_Grist_Stickynote_Create_Webhook.json",
  "index": 1,
  "content": "{\n  \"meta\": {\n    \"instanceId\": \"11cdc3de0458a725de3bc4f700573556888270388b4b36af8a7651aaafd542a8\"\n  },\n  \"nodes\": [\n    {\n      \"id\": \"93eba4f0-218d-47d3-a55f-09d490d5e0bb\",\n      \"name\": \"Webhook\",\n      \"type\": \"n8n-nodes-base.webhook\",\n      \"position\": [\n        100,\n        320\n      ],\n      \"webhookId\": \"03e24572-a381-455e-a5b8-ae697647f7d4\",\n      \"parameters\": {\n        \"path\": \"03e24572-a381-455e-a5b8-ae697647f7d4\",\n        \"options\": {},\n        \"httpMethod\": \"POST\"\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"e2c8d43e-79f9-45a4-9d6d-37e8768e7f81\",\n      \"name\": \"Create Row\",\n      \"type\": \"n8n-nodes-base.grist\",\n      \"position\": [\n        940,\n        240\n      ],\n      \"parameters\": {\n        \"docId\": \"\",\n        \"tableId\": \"\",\n        \"operation\": \"create\",\n        \"fieldsToSend\": {\n          \"properties\": [\n            {\n              \"fieldId\": \"Source\",\n              \"fieldValue\": \"={{ $json.body[0].id }}\"\n            }\n          ]\n        }\n      },\n      \"credentials\": {\n        \"gristApi\": {\n          \"id\": \"2\",\n          \"name\": \"Grist\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"1e6e741e-2890-4e08-a97a-efae1812d507\",\n      \"name\": \"Confirmed?\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        300,\n        320\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"df1c1dba-dc96-42e9-86ee-8ccd4c82b048\",\n              \"operator\": {\n                \"type\": \"boolean\",\n                \"operation\": \"true\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $json.body[0].Confirmed }}\",\n              \"rightValue\": \"\"\n            }\n          ]\n        }\n      },\n      \"notesInFlow\": true,\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"c6b1b482-6121-4484-b524-bc3e7e175fe8\",\n      \"name\": \"get existing\",\n      \"type\": \"n8n-nodes-base.grist\",\n      \"position\": [\n        560,\n        160\n      ],\n      \"parameters\": {\n        \"docId\": \"\",\n        \"tableId\": \"\",\n        \"additionalOptions\": {\n          \"filter\": {\n            \"filterProperties\": [\n              {\n                \"field\": \"Source\",\n                \"values\": \"={{ $json.body[0].id }}\"\n              }\n            ]\n          }\n        }\n      },\n      \"credentials\": {\n        \"gristApi\": {\n          \"id\": \"2\",\n          \"name\": \"Grist\"\n        }\n      },\n      \"typeVersion\": 1,\n      \"alwaysOutputData\": true\n    },\n    {\n      \"id\": \"a52e000c-73ef-4f2d-811d-cbcaf45e2b75\",\n      \"name\": \"has existing?\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        700,\n        160\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"6f08b500-956e-493c-abbe-845b5352110c\",\n              \"operator\": {\n                \"type\": \"object\",\n                \"operation\": \"notEmpty\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $json }}\",\n              \"rightValue\": \"\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"fe609754-3dd6-4bbd-932a-a30f7d100911\",\n      \"name\": \"Confirmation-based\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        460,\n        420\n      ],\n      \"parameters\": {\n        \"width\": 346.820338983051,\n        \"height\": 144.13559322033893,\n        \"content\": \"## Confirmation-based\\nIn the source table there is a boolean column \\\"Confirmed\\\" that will trigger the transfer.\\nThis way there is a manual check involved & it's a conscious step to trigger the workflow.\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"edb074f6-b264-45ec-87e2-cf91063ca63b\",\n      \"name\": \"Runs once\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        900,\n        60\n      ],\n      \"parameters\": {\n        \"width\": 253.74915254237288,\n        \"height\": 139.9050847457627,\n        \"content\": \"## Runs once\\nIf the destination table already contains an entry, **we will not re-create/update** it (as it might've already been changed manually)\\n\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"pinData\": {\n    \"Webhook\": [\n      {\n        \"body\": [\n          {\n            \"id\": 2,\n            \"Datum\": 1712275200,\n            \"Confirmed\": true,\n            \"manualSort\": 2\n          }\n        ],\n        \"query\": {},\n        \"params\": {},\n        \"headers\": {\n          \"host\": \"wh.n8n.zt.ax\",\n          \"accept\": \"*/*\",\n          \"x-real-ip\": \"52.2.246.35\",\n          \"user-agent\": \"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)\",\n          \"content-type\": \"application/json\",\n          \"content-length\": \"1097\",\n          \"accept-encoding\": \"gzip,deflate\",\n          \"x-forwarded-for\": \"52.2.246.35\",\n          \"x-forwarded-host\": \"wh.n8n.zt.ax\",\n          \"x-forwarded-port\": \"443\",\n          \"x-forwarded-proto\": \"https\",\n          \"x-forwarded-server\": \"5d1c8421e216\"\n        }\n      }\n    ]\n  },\n  \"connections\": {\n    \"Webhook\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Confirmed?\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Confirmed?\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"get existing\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"get existing\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"has existing?\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"has existing?\": {\n      \"main\": [\n        null,\n        [\n          {\n            \"node\": \"Create Row\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.webhook",
      "n8n-nodes-base.grist",
      "n8n-nodes-base.if",
      "n8n-nodes-base.grist",
      "n8n-nodes-base.if",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote"
    ],
    "trigger": null
  }
}