{
  "source": "2036_Readbinaryfiles_Filter_Import_Triggered.json",
  "index": 1,
  "content": "{\n  \"id\": \"zic2ZEHvxHR4UAYI\",\n  \"meta\": {\n    \"instanceId\": \"fb924c73af8f703905bc09c9ee8076f48c17b596ed05b18c0ff86915ef8a7c4a\"\n  },\n  \"name\": \"Import multiple CSV to GoogleSheet\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"cd5adfcc-5b92-4a75-8e78-c2c1218d946a\",\n      \"name\": \"When clicking \\\"Execute Workflow\\\"\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        920,\n        380\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"17305629-bb19-4b55-964e-689ab5f4d557\",\n      \"name\": \"Read Binary Files\",\n      \"type\": \"n8n-nodes-base.readBinaryFiles\",\n      \"position\": [\n        1120,\n        380\n      ],\n      \"parameters\": {\n        \"fileSelector\": \"=./.n8n/*.csv\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"d3055f63-67fa-4dcd-886d-fe6f56fb7058\",\n      \"name\": \"Split In Batches\",\n      \"type\": \"n8n-nodes-base.splitInBatches\",\n      \"position\": [\n        1320,\n        380\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"batchSize\": 1\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"597e9b14-1a8c-4fbb-b5df-c965db1e0e16\",\n      \"name\": \"Read CSV\",\n      \"type\": \"n8n-nodes-base.spreadsheetFile\",\n      \"position\": [\n        1520,\n        360\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"rawData\": true,\n          \"headerRow\": true,\n          \"readAsString\": true,\n          \"includeEmptyCells\": false\n        },\n        \"fileFormat\": \"csv\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"90d5ccac-f2a3-42b6-8fa3-d05450ffa67b\",\n      \"name\": \"Remove duplicates\",\n      \"type\": \"n8n-nodes-base.itemLists\",\n      \"position\": [\n        1520,\n        600\n      ],\n      \"parameters\": {\n        \"compare\": \"selectedFields\",\n        \"options\": {},\n        \"operation\": \"removeDuplicates\",\n        \"fieldsToCompare\": \"user_name\"\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"2bddcd85-1c99-41ec-8e16-ab75631c3fb9\",\n      \"name\": \"Keep only subscribers\",\n      \"type\": \"n8n-nodes-base.filter\",\n      \"position\": [\n        1720,\n        600\n      ],\n      \"parameters\": {\n        \"conditions\": {\n          \"string\": [\n            {\n              \"value1\": \"={{ $json.subscribed }}\",\n              \"value2\": \"TRUE\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"4ac13e9d-8523-4ff3-b778-1d9f0dc744e3\",\n      \"name\": \"Sort by date\",\n      \"type\": \"n8n-nodes-base.itemLists\",\n      \"position\": [\n        1920,\n        600\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"operation\": \"sort\",\n        \"sortFieldsUi\": {\n          \"sortField\": [\n            {\n              \"fieldName\": \"date_subscribed\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"862a7ded-0199-48bb-8183-10f9ae06724b\",\n      \"name\": \"Upload to spreadsheet\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        2120,\n        600\n      ],\n      \"parameters\": {\n        \"columns\": {\n          \"value\": {},\n          \"schema\": [\n            {\n              \"id\": \"user_name\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"user_name\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"user_email\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": true,\n              \"required\": false,\n              \"displayName\": \"user_email\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"subscribed\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": true,\n              \"required\": false,\n              \"displayName\": \"subscribed\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"date_subscribed\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": true,\n              \"required\": false,\n              \"displayName\": \"date_subscribed\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"autoMapInputData\",\n          \"matchingColumns\": [\n            \"user_name\"\n          ]\n        },\n        \"options\": {},\n        \"operation\": \"appendOrUpdate\",\n        \"sheetName\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": 2042396108,\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/13YYuEJ1cDf-t8P2MSTFWnnNHCreQ6Zo8oPSp7WeNnbY/edit#gid=2042396108\",\n          \"cachedResultName\": \"n8n-sheet\"\n        },\n        \"documentId\": {\n          \"__rl\": true,\n          \"mode\": \"url\",\n          \"value\": \"https://docs.google.com/spreadsheets/d/13YYuEJ1cDf-t8P2MSTFWnnNHCreQ6Zo8oPSp7WeNnbY\"\n        }\n      },\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"54\",\n          \"name\": \"Google Sheets account\"\n        }\n      },\n      \"typeVersion\": 4\n    },\n    {\n      \"id\": \"95b499b4-024d-49a5-887f-f2f74bd1b9a1\",\n      \"name\": \"Assign source file name\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        1720,\n        360\n      ],\n      \"parameters\": {\n        \"fields\": {\n          \"values\": [\n            {\n              \"name\": \"Source\",\n              \"stringValue\": \"={{ $('Split In Batches').item.binary.data.fileName }}\"\n            }\n          ]\n        },\n        \"options\": {}\n      },\n      \"typeVersion\": 3\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"a6ccb0b8-04bd-407d-b5ca-010c68bb2128\",\n  \"connections\": {\n    \"Read CSV\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Assign source file name\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Sort by date\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Upload to spreadsheet\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Split In Batches\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Read CSV\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Remove duplicates\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Read Binary Files\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Split In Batches\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Remove duplicates\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Keep only subscribers\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Keep only subscribers\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Sort by date\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Assign source file name\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Split In Batches\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When clicking \\\"Execute Workflow\\\"\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Read Binary Files\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.manualTrigger",
      "n8n-nodes-base.readBinaryFiles",
      "n8n-nodes-base.splitInBatches",
      "n8n-nodes-base.spreadsheetFile",
      "n8n-nodes-base.itemLists",
      "n8n-nodes-base.filter",
      "n8n-nodes-base.itemLists",
      "n8n-nodes-base.googleSheets",
      "n8n-nodes-base.set"
    ],
    "trigger": null
  }
}