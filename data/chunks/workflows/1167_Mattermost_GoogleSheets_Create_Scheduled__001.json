{
  "source": "1167_Mattermost_GoogleSheets_Create_Scheduled.json",
  "index": 1,
  "content": "{\n  \"nodes\": [\n    {\n      \"name\": \"Send message\",\n      \"type\": \"n8n-nodes-base.mattermost\",\n      \"position\": [\n        910,\n        260\n      ],\n      \"parameters\": {\n        \"message\": \"=New information was added to your Google Sheet.\\nID: {{$json[\\\"id\\\"]}}\\nName: {{$json[\\\"name\\\"]}}\\nEmail: {{$json[\\\"email\\\"]}}\",\n        \"attachments\": [],\n        \"otherOptions\": {}\n      },\n      \"credentials\": {\n        \"mattermostApi\": \"Mattermost Credentials\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Check if new data\",\n      \"type\": \"n8n-nodes-base.function\",\n      \"position\": [\n        710,\n        260\n      ],\n      \"parameters\": {\n        \"functionCode\": \"const new_items = [];\\n// Get static data stored with the workflow\\n\\nconst data = this.getWorkflowStaticData(\\\"node\\\");\\ndata.ids = data.ids || [];\\nfor (let i = items.length - 1; i >= 0; i--) {\\n\\n// Check if data is already present\\n  if (data.ids.includes(items[i].json.ID)) {\\n    break;\\n  } else {\\n\\n// if new data then add it to an array\\n    new_items.push({\\n      json: {\\n        id: items[i].json.ID,\\n        name: items[i].json.Name,\\n        email: items[i].json.Email\\n      },\\n    });\\n  }\\n}\\ndata.ids = items.map((item) => item.json.ID);\\n\\n// return new items\\nreturn new_items;\\n\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Read data\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        510,\n        260\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"sheetId\": \"1PyC-U1lXSCbxVmHuwFbkKDF9e3PW_iUn8T-iAd_MYjQ\",\n        \"authentication\": \"oAuth2\"\n      },\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": \"google-sheets\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Execute every 45 mins\",\n      \"type\": \"n8n-nodes-base.interval\",\n      \"position\": [\n        310,\n        260\n      ],\n      \"parameters\": {\n        \"unit\": \"minutes\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"connections\": {\n    \"Read data\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Check if new data\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Check if new data\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Send message\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Execute every 45 mins\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Read data\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.mattermost",
      "n8n-nodes-base.function",
      "n8n-nodes-base.googleSheets",
      "n8n-nodes-base.interval"
    ],
    "trigger": null
  }
}