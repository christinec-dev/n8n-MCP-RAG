{
  "source": "0757_Manual_Wordpress_Create_Webhook.json",
  "index": 1,
  "content": "{\n  \"meta\": {\n    \"instanceId\": \"c911aed9995230b93fd0d9bc41c258d697c2fe97a3bab8c02baf85963eeda618\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"nodes\": [\n    {\n      \"id\": \"468084ed-ce7d-45c5-bf27-ea9c91d5898a\",\n      \"name\": \"When clicking ‚ÄòTest workflow‚Äô\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        0,\n        0\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"fbde6cfe-9fac-46d2-958a-f42c9ef383a3\",\n      \"name\": \"Retrieve WordPress Article\",\n      \"type\": \"n8n-nodes-base.wordpress\",\n      \"position\": [\n        440,\n        0\n      ],\n      \"parameters\": {\n        \"postId\": \"1032\",\n        \"options\": {},\n        \"operation\": \"get\"\n      },\n      \"credentials\": {\n        \"wordpressApi\": {\n          \"id\": \"T0ygUN7hNFQVztP2\",\n          \"name\": \"Wordpress account 2\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"54241e39-7a5f-45f4-9dab-72b5424f4061\",\n      \"name\": \"Generate Summary or Transcription\",\n      \"type\": \"@n8n/n8n-nodes-langchain.chainLlm\",\n      \"position\": [\n        680,\n        0\n      ],\n      \"parameters\": {\n        \"text\": \"={{ $json.content }}\",\n        \"messages\": {\n          \"messageValues\": [\n            {\n              \"message\": \"Summarize or transcribe this article, depending on the workflow setting.\"\n            }\n          ]\n        },\n        \"promptType\": \"define\",\n        \"hasOutputParser\": true\n      },\n      \"typeVersion\": 1.5\n    },\n    {\n      \"id\": \"49cfaab6-a0c1-4319-904d-c1e0a2c6aa91\",\n      \"name\": \"Generate Speech\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1120,\n        0\n      ],\n      \"parameters\": {\n        \"url\": \"https://api.elevenlabs.io/v1/text-to-speech/voice_id\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"sendBody\": true,\n        \"authentication\": \"genericCredentialType\",\n        \"bodyParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"text\",\n              \"value\": \"={{ $json.text }}\"\n            },\n            {\n              \"name\": \"model_id\",\n              \"value\": \"eleven_multilingual_v2\"\n            },\n            {\n              \"name\": \"output_format\",\n              \"value\": \"mp3_44100_128\"\n            }\n          ]\n        },\n        \"genericAuthType\": \"httpCustomAuth\"\n      },\n      \"credentials\": {\n        \"httpCustomAuth\": {\n          \"id\": \"wUJksQ68RUH0XuTO\",\n          \"name\": \"Custom Auth account\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"899abf3f-4ab6-48bd-90ba-0502cb23348e\",\n      \"name\": \"Upload MP3\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        2060,\n        0\n      ],\n      \"parameters\": {\n        \"url\": \"={{ $('settings').item.json['site_url'] }}wp-json/wp/v2/media\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"sendBody\": true,\n        \"contentType\": \"binaryData\",\n        \"sendHeaders\": true,\n        \"authentication\": \"predefinedCredentialType\",\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"Content-Disposition\",\n              \"value\": \"=attachment; filename=\\\"{{ $('Retrieve WordPress Article').item.json.slug }}.mp3\\\"\"\n            }\n          ]\n        },\n        \"inputDataFieldName\": \"data\",\n        \"nodeCredentialType\": \"wordpressApi\"\n      },\n      \"credentials\": {\n        \"wordpressApi\": {\n          \"id\": \"T0ygUN7hNFQVztP2\",\n          \"name\": \"Wordpress account 2\"\n        }\n      },\n      \"retryOnFail\": true,\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"590297c9-1f66-4071-8b47-230b08c379d4\",\n      \"name\": \"Update WordPress Post\",\n      \"type\": \"n8n-nodes-base.wordpress\",\n      \"position\": [\n        2300,\n        0\n      ],\n      \"parameters\": {\n        \"postId\": \"={{ $('Retrieve WordPress Article').item.json.id }}\",\n        \"operation\": \"update\",\n        \"updateFields\": {\n          \"content\": \"=<!-- wp:audio {\\\"id\\\":{{ $json.id }}} -->\\n<figure class=\\\"wp-block-audio\\\"><audio controls src=\\\"{{ $json.guid.rendered }}\\\"></audio><figcaption class=\\\"wp-element-caption\\\">üó£Ô∏è Listen to the summary or transcription. üëÜ</figcaption></figure>\\n<!-- /wp:audio --><br>{{ $('Retrieve WordPress Article').item.json.content.rendered }}\"\n        }\n      },\n      \"credentials\": {\n        \"wordpressApi\": {\n          \"id\": \"T0ygUN7hNFQVztP2\",\n          \"name\": \"Wordpress account 2\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"5297d517-5dd9-4d4d-b201-0822af030c95\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1320,\n        -340\n      ],\n      \"parameters\": {\n        \"color\": 6,\n        \"width\": 660,\n        \"height\": 1000,\n        \"content\": \"## üéôÔ∏è Generate Text-to-Speech Using Eleven Labs via API\\n\\nSince there is no predefined node for Eleven Labs in n8n, we will use the **HTTP Request** module.\\n\\n### üõ†Ô∏è Prerequisites:\\n1. **Get an API Key**: Visit [Eleven Labs](https://try.elevenlabs.io/text-audio) to obtain your API key.\\n2. **Choose a Suitable Voice**: Test different voices on [this demo page](https://try.elevenlabs.io/text-audio) to find the best fit for your use case.\\n3. **Select the Right Model**: For multilingual usage, use:  \\n   ~~~json\\n   \\\"model_id\\\": \\\"eleven_multilingual_v2\\\"\\n   ~~~\\n4. **Set Output Format**: You can adjust the quality by modifying `output_format`, for example:  \\n   ~~~json\\n   \\\"output_format\\\": \\\"mp3_44100_128\\\"\\n   ~~~\\n\\nüìñ Refer to the full API documentation: [API Reference - Eleven Labs](https://try.elevenlabs.io/api-reference-text-to-speech)\\n\\n---\\n## üöÄ Step 1: Configure API Credentials in n8n\\n\\nAdd a custom authentication entry in n8n with the following structure: \\n\\n(Replace `\\\"your-elevenlabs-api-key\\\"` with your **actual API key**)\\n\\n~~~json\\n{\\n  \\\"headers\\\": {\\n    \\\"xi-api-key\\\": \\\"your-elevenlabs-api-key\\\"\\n  }\\n}\\n~~~\\n---\\n\\n## üì© Step 2: Send a POST Request to the API\\n\\nMake an HTTP POST request to the **webhook** of your workflow with the following parameters:\\n\\n- **`voice_id`**: The ID of the selected voice.\\n- **`text`**: The text to convert into speech.\\n\\n---\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"8fecbb98-8120-4d94-82ce-15efa063394b\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        640,\n        -340\n      ],\n      \"parameters\": {\n        \"width\": 460,\n        \"height\": 280,\n        \"content\": \"# Modify This Prompt\\n\\nHere you can modify this prompt. It is interesting because the neutral node might return HTML, and using a ChatGPT node allows you to clean or customize the output before sending it to text-to-speech.\\n\\nIn the example provided, I requested a summary. However, you could ask for the benefits or product advantages when using it for e-commerce or affiliate marketing. You could also request the full transcription of the article.\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"06e66119-2b95-416b-8167-41dccbbd8612\",\n      \"name\": \"OpenAI Chat Model\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\n      \"position\": [\n        640,\n        220\n      ],\n      \"parameters\": {\n        \"model\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gpt-4o-mini\"\n        },\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"yekgKa01FVKc8Etr\",\n          \"name\": \"OpenAi account 2\"\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"47821853-b8f5-45f3-8e37-66365ba62422\",\n      \"name\": \"settings\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        220,\n        0\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"10c07d50-1310-4dd7-a143-b0c0e5cf1b70\",\n              \"name\": \"site_url\",\n              \"type\": \"string\",\n              \"value\": \"https://mydomain.com/\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    }\n  ],\n  \"pinData\": {},\n  \"connections\": {\n    \"settings\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Retrieve WordPress Article\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Upload MP3\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Update WordPress Post\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Generate Speech\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Upload MP3\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"OpenAI Chat Model\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Generate Summary or Transcription\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Retrieve WordPress Article\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Generate Summary or Transcription\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Generate Summary or Transcription\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Generate Speech\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When clicking ‚ÄòTest workflow‚Äô\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"settings\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.manualTrigger",
      "n8n-nodes-base.wordpress",
      "@n8n/n8n-nodes-langchain.chainLlm",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.wordpress",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "n8n-nodes-base.set"
    ],
    "trigger": null
  }
}