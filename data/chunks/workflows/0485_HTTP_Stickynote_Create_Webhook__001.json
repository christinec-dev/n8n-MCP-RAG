{
  "source": "0485_HTTP_Stickynote_Create_Webhook.json",
  "index": 1,
  "content": "{\n  \"meta\": {\n    \"instanceId\": \"041bccf206a3546a759ec4c0a3bf1256e62051945bb270c48f91f3acb13dc080\"\n  },\n  \"nodes\": [\n    {\n      \"id\": \"8a22d40f-5b09-485a-8d58-70f36821ee9f\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        340,\n        -260\n      ],\n      \"parameters\": {\n        \"width\": 747,\n        \"height\": 428,\n        \"content\": \"## Purpose \\nTo verify the mailing address for new contacts in Groundhogg CRM. \\n\\nWhenever I add a new contact to Groundhogg CRM, I run this automation to ensure I have a valid mailing address. It also helps me check for misspellings if the contact address was manually entered.\\n\\nQuick Video Overview:\\n\\nhttps://www.youtube.com/watch?v=nrV0P0Yz8FI\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"d59b4ac3-5b41-4913-8b41-401a4eac8cc0\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1480,\n        -180\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 561.9462602626872,\n        \"height\": 763,\n        \"content\": \"Update Groundhogg CRM to indicate if the address is deliverable.\\n\\nPossible Options: \\n- Add Tag\\n- Add Note\\n- Start Automation\\n- Update a Field\\n\\nFor Deliverable Addresses - I apply a tag that the address was verified.\\n\\nFor Non Deliverable Addresses - I apply a tag, which triggers an automation for my team to manually verify the address. You could also trigger an automation to reach out to the contact to verify their address.\\n\\n\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"6a5d3833-a256-4b57-96dc-6a08886b65ee\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        520,\n        200\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"height\": 339,\n        \"content\": \"Receive a webhook from your CRM with the contact address fields\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"4fe1597b-ea03-439a-898b-a968cbd84511\",\n      \"name\": \"Set Address Fields\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        840,\n        280\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"8216105e-23ad-4c5c-8f4a-4f97658e0947\",\n              \"name\": \"address\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.address }}\"\n            },\n            {\n              \"id\": \"111da971-2473-4c5e-a106-22589cf47daf\",\n              \"name\": \"address2\",\n              \"type\": \"string\",\n              \"value\": \"\"\n            },\n            {\n              \"id\": \"ed62cf39-10f1-42f6-b18f-bfa58b4fe646\",\n              \"name\": \"city\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.city }}\"\n            },\n            {\n              \"id\": \"d9550200-04ac-4cf4-b7e6-cd40b793ce97\",\n              \"name\": \"state\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.state }}\"\n            },\n            {\n              \"id\": \"62269d11-c98c-4016-83ef-291176f2fc12\",\n              \"name\": \"zip\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.zip_code }}\"\n            }\n          ]\n        },\n        \"includeOtherFields\": true\n      },\n      \"typeVersion\": 3.3\n    },\n    {\n      \"id\": \"ac13a2be-07fa-4861-99ab-9af8fe797db3\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1000,\n        480\n      ],\n      \"parameters\": {\n        \"color\": 3,\n        \"width\": 430,\n        \"height\": 216,\n        \"content\": \"1. Create an Account a LOB.com\\n2. Create API Key (https://help.lob.com/account-management/api-keys)\\n3. Update Node with your Credentials (Basic Auth)\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"04c286c0-8862-40f9-960d-902b3c89a6ee\",\n      \"name\": \"CRM Webhook Trigger\",\n      \"type\": \"n8n-nodes-base.webhook\",\n      \"position\": [\n        600,\n        280\n      ],\n      \"webhookId\": \"a2df5279-0c49-49c1-83a3-cb1179930e91\",\n      \"parameters\": {\n        \"path\": \"727deb6f-9d10-4492-92e6-38f3292510b0\",\n        \"options\": {},\n        \"httpMethod\": \"POST\"\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"c091dc5f-5527-43ca-b257-c977d654c13b\",\n      \"name\": \"Update Groundhogg - Deliverable\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1800,\n        140\n      ],\n      \"parameters\": {\n        \"url\": \"=webhook listener from Groundhogg funnel\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"sendBody\": true,\n        \"bodyParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"tag\",\n              \"value\": \"Mailing Address Deliverable\"\n            },\n            {\n              \"name\": \"id\",\n              \"value\": \"={{ $('CRM Webhook Trigger').item.json.id }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 4.1\n    },\n    {\n      \"id\": \"1449b6e2-1c4f-4f75-8280-aab3c993f0ac\",\n      \"name\": \"Update Groundhogg - NOT Deliverable\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1800,\n        360\n      ],\n      \"parameters\": {\n        \"url\": \"=webhook listener from Groundhogg funnel\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"sendBody\": true,\n        \"bodyParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"tag\",\n              \"value\": \"Mailing Address NOT Deliverable\"\n            },\n            {\n              \"name\": \"id\",\n              \"value\": \"={{ $('CRM Webhook Trigger').item.json.id }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 4.1\n    },\n    {\n      \"id\": \"a79eb361-7dc8-4838-bb40-b34bf35c3102\",\n      \"name\": \"Address Verification\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1140,\n        280\n      ],\n      \"parameters\": {\n        \"url\": \"https://api.lob.com/v1/us_verifications\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"sendBody\": true,\n        \"bodyParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"primary_line\",\n              \"value\": \"={{ $json.address }}\"\n            },\n            {\n              \"name\": \"secondary_line\",\n              \"value\": \"={{ $json.address2 }}\"\n            },\n            {\n              \"name\": \"city\",\n              \"value\": \"={{ $json.city }}\"\n            },\n            {\n              \"name\": \"state\",\n              \"value\": \"={{ $json.state }}\"\n            },\n            {\n              \"name\": \"zip_code\",\n              \"value\": \"={{ $json.zip_code }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 4.1\n    },\n    {\n      \"id\": \"71c9199f-823c-451b-baf5-a2b5de1697c1\",\n      \"name\": \"Switch\",\n      \"type\": \"n8n-nodes-base.switch\",\n      \"position\": [\n        1500,\n        280\n      ],\n      \"parameters\": {\n        \"rules\": {\n          \"rules\": [\n            {\n              \"value2\": \"=deliverable\",\n              \"outputKey\": \"deliverable\"\n            },\n            {\n              \"value2\": \"deliverable\",\n              \"operation\": \"notEqual\",\n              \"outputKey\": \"NOT deliverable\"\n            }\n          ]\n        },\n        \"value1\": \"={{ $json.deliverability }}\",\n        \"dataType\": \"string\"\n      },\n      \"typeVersion\": 2\n    }\n  ],\n  \"pinData\": {\n    \"CRM Webhook Trigger\": [\n      {\n        \"id\": \"5551212\",\n        \"city\": \"Washington\",\n        \"email\": \"mr.president@gmail.com\",\n        \"phone\": \"877-555-1212\",\n        \"state\": \"DC\",\n        \"address\": \"1600 Pennsylvania Avenue NW\",\n        \"zip_code\": \"20500\"\n      }\n    ]\n  },\n  \"connections\": {\n    \"Switch\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Update Groundhogg - Deliverable\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Update Groundhogg - NOT Deliverable\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Set Address Fields\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Address Verification\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"CRM Webhook Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set Address Fields\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Address Verification\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Switch\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.set",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.webhook",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.switch"
    ],
    "trigger": "crm webhook trigger"
  }
}