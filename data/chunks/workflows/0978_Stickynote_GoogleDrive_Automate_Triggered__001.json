{
  "source": "0978_Stickynote_GoogleDrive_Automate_Triggered.json",
  "index": 1,
  "content": "{\n  \"id\": \"4nBQyhwqDqmXY2AL\",\n  \"meta\": {\n    \"instanceId\": \"558d88703fb65b2d0e44613bc35916258b0f0bf983c5d4730c00c424b77ca36a\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"name\": \"Automated Image Metadata Tagging (Community Node)\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"b0b030f5-8a8c-4254-bc18-a2790748248e\",\n      \"name\": \"Trigger: New file added to Google Drive Folder\",\n      \"type\": \"n8n-nodes-base.googleDriveTrigger\",\n      \"position\": [\n        -760,\n        120\n      ],\n      \"parameters\": {\n        \"event\": \"fileCreated\",\n        \"options\": {},\n        \"pollTimes\": {\n          \"item\": [\n            {\n              \"mode\": \"everyMinute\"\n            }\n          ]\n        },\n        \"triggerOn\": \"specificFolder\",\n        \"folderToWatch\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"1WaIRWXcaeNViKmpW5IyQ3YGARWYdMg47\",\n          \"cachedResultUrl\": \"https://drive.google.com/drive/folders/1WaIRWXcaeNViKmpW5IyQ3YGARWYdMg47\",\n          \"cachedResultName\": \"EXIF\"\n        }\n      },\n      \"credentials\": {\n        \"googleDriveOAuth2Api\": {\n          \"id\": \"L47XiMFzcjUgBp2i\",\n          \"name\": \"Google Drive account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"1df51279-b3bd-49bd-9711-951eb4164290\",\n      \"name\": \"Download Image File\",\n      \"type\": \"n8n-nodes-base.googleDrive\",\n      \"position\": [\n        -540,\n        120\n      ],\n      \"parameters\": {\n        \"fileId\": {\n          \"__rl\": true,\n          \"mode\": \"id\",\n          \"value\": \"={{ $json.id }}\"\n        },\n        \"options\": {},\n        \"operation\": \"download\"\n      },\n      \"credentials\": {\n        \"googleDriveOAuth2Api\": {\n          \"id\": \"L47XiMFzcjUgBp2i\",\n          \"name\": \"Google Drive account\"\n        }\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"50a59e8e-ca95-4594-b8a9-0ba709795d42\",\n      \"name\": \"Analyze Image Content\",\n      \"type\": \"@n8n/n8n-nodes-langchain.openAi\",\n      \"position\": [\n        -340,\n        200\n      ],\n      \"parameters\": {\n        \"text\": \"=Deliver a comma separated list describing the content of this image.\",\n        \"modelId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"chatgpt-4o-latest\",\n          \"cachedResultName\": \"CHATGPT-4O-LATEST\"\n        },\n        \"options\": {},\n        \"resource\": \"image\",\n        \"inputType\": \"base64\",\n        \"operation\": \"analyze\"\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"niikB3HA4fT5WAqt\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 1.8\n    },\n    {\n      \"id\": \"456164cc-ed41-4482-adb4-4ed00682153d\",\n      \"name\": \"Merge Metadata and Image File\",\n      \"type\": \"n8n-nodes-base.merge\",\n      \"position\": [\n        -140,\n        120\n      ],\n      \"parameters\": {\n        \"mode\": \"combine\",\n        \"options\": {},\n        \"combineBy\": \"combineByPosition\"\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"ddd6aef5-4dae-48e3-a806-3c58adea6552\",\n      \"name\": \"Write Metadata into Image\",\n      \"type\": \"n8n-nodes-exif-data.exifData\",\n      \"position\": [\n        40,\n        120\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"operation\": \"write\",\n        \"exifMetadata\": {\n          \"metadataValues\": [\n            {\n              \"name\": \"Subject\",\n              \"value\": \"={{$json.content}}\"\n            },\n            {\n              \"name\": \"Keywords\",\n              \"value\": \"={{$json.content}}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"9c531288-7fca-4cca-9717-6dd059266f47\",\n      \"name\": \"Update Image File\",\n      \"type\": \"n8n-nodes-base.googleDrive\",\n      \"position\": [\n        220,\n        120\n      ],\n      \"parameters\": {\n        \"fileId\": {\n          \"__rl\": true,\n          \"mode\": \"id\",\n          \"value\": \"={{ $('Download Image File').item.json.id }}\"\n        },\n        \"options\": {},\n        \"operation\": \"update\",\n        \"changeFileContent\": true,\n        \"newUpdatedFileName\": \"={{ $('Download Image File').item.json.name }}\"\n      },\n      \"credentials\": {\n        \"googleDriveOAuth2Api\": {\n          \"id\": \"L47XiMFzcjUgBp2i\",\n          \"name\": \"Google Drive account\"\n        }\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"70b6bb63-fedf-42eb-a6a0-30faae883f2c\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -1080,\n        320\n      ],\n      \"parameters\": {\n        \"width\": 660,\n        \"height\": 680,\n        \"content\": \"# Welcome to my Automated Image Metadata Tagging Workflow!\\n\\nThis workflow automatically analyzes the image content with the help of AI and writes it directly back into the image file as keywords.\\n\\n## This workflow has the following sequence:\\n\\n1. Google Drive trigger (scan for new files added in a specific folder)\\n2. Download the added image file\\n3. Analyse the content of the image\\n4. Merge Metadata and image file\\n5. Write the Keywords into the Metadata (dc:subject/keywords) and create new image file\\n6. Update the original file in the Google Drive folder\\n\\n## The following accesses are required for the workflow:\\n- You have to install the [n8n-nodes-exif-data Community Node](https://www.npmjs.com/package/n8n-nodes-exif-data)\\n- Google Drive: [Documentation](https://docs.n8n.io/integrations/builtin/credentials/google)\\n- AI API access (e.g. via OpenAI, Anthropic, Google or Ollama)\\n\\nYou can contact me via LinkedIn, if you have any questions: https://www.linkedin.com/in/friedemann-schuetz\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"c4d1520b-6df4-4e76-98ba-4d7555aec35d\",\n  \"connections\": {\n    \"Download Image File\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Analyze Image Content\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Merge Metadata and Image File\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Analyze Image Content\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Merge Metadata and Image File\",\n            \"type\": \"main\",\n            \"index\": 1\n          }\n        ]\n      ]\n    },\n    \"Write Metadata into Image\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Update Image File\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Merge Metadata and Image File\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Write Metadata into Image\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Trigger: New file added to Google Drive Folder\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Download Image File\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.googleDriveTrigger",
      "n8n-nodes-base.googleDrive",
      "@n8n/n8n-nodes-langchain.openAi",
      "n8n-nodes-base.merge",
      "n8n-nodes-exif-data.exifData",
      "n8n-nodes-base.googleDrive",
      "n8n-nodes-base.stickyNote"
    ],
    "trigger": "trigger: new file added to google drive folder"
  }
}