{
  "source": "0756_Airtable_Create_Triggered.json",
  "index": 1,
  "content": "{\n  \"meta\": {\n    \"instanceId\": \"db80165df40cb07c0377167c050b3f9ab0b0fb04f0e8cae0dc53f5a8527103ca\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"nodes\": [\n    {\n      \"id\": \"ed5363cf-1fb6-4662-b12c-073b2b3a3576\",\n      \"name\": \"When chat message received\",\n      \"type\": \"@n8n/n8n-nodes-langchain.chatTrigger\",\n      \"position\": [\n        -240,\n        140\n      ],\n      \"webhookId\": \"ebe97b63-ae4b-40e7-9738-b7cf7ffbc8b6\",\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"e47a166f-3e70-433e-ad0d-2100309cac92\",\n      \"name\": \"Google Gemini Chat Model\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatGoogleGemini\",\n      \"position\": [\n        -60,\n        500\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"topP\": 1\n        },\n        \"modelName\": \"models/gemini-2.0-flash-lite\"\n      },\n      \"credentials\": {\n        \"googlePalmApi\": {\n          \"id\": \"Xp5T9q3YYxBIw2nd\",\n          \"name\": \"Google Gemini(PaLM) Api account✅\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"5474805f-8d18-4a09-a3ea-5602af97a5de\",\n      \"name\": \"Auto-fixing Output Parser\",\n      \"type\": \"@n8n/n8n-nodes-langchain.outputParserAutofixing\",\n      \"position\": [\n        500,\n        360\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"d9a0eadc-54c7-4980-b4f8-79fd77627c32\",\n      \"name\": \"Structured Output Parser\",\n      \"type\": \"@n8n/n8n-nodes-langchain.outputParserStructured\",\n      \"position\": [\n        600,\n        520\n      ],\n      \"parameters\": {\n        \"jsonSchemaExample\": \"{\\n\\t\\\"name\\\": \\\"Name of the prompt\\\",\\n    \\\"category\\\" : \\\"the prompt category\\\"\\n}\"\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"898f64cd-2332-42ad-9bac-a817dd9bf3d7\",\n      \"name\": \"Edit Fields\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        220,\n        140\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"9c5fec90-b7f0-45f3-81a3-22e0956fc3bf\",\n              \"name\": \"text\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.text }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"4bbd160a-98bd-4622-a54e-77b61ff91b46\",\n      \"name\": \"Google Gemini Chat Model1\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatGoogleGemini\",\n      \"position\": [\n        380,\n        540\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"topP\": 1\n        },\n        \"modelName\": \"models/gemini-2.0-flash-lite\"\n      },\n      \"credentials\": {\n        \"googlePalmApi\": {\n          \"id\": \"Xp5T9q3YYxBIw2nd\",\n          \"name\": \"Google Gemini(PaLM) Api account✅\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"f45cbed4-c2b8-4f1b-8026-4686324a714a\",\n      \"name\": \"Return results\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        960,\n        140\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"40aba86b-57b7-4c74-8e9f-d09cd2f344c5\",\n              \"name\": \"text\",\n              \"type\": \"string\",\n              \"value\": \"={{ $('Generate a new prompt').item.json.text }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"25650ec5-b559-4bfc-a95a-f81c674bc680\",\n      \"name\": \"Categorize and name Prompt\",\n      \"type\": \"@n8n/n8n-nodes-langchain.chainLlm\",\n      \"position\": [\n        360,\n        140\n      ],\n      \"parameters\": {\n        \"text\": \"={{ $json.text }}\",\n        \"messages\": {\n          \"messageValues\": [\n            {\n              \"message\": \"=Categorize the above prompt into a category that it can fall into\"\n            }\n          ]\n        },\n        \"promptType\": \"define\",\n        \"hasOutputParser\": true\n      },\n      \"typeVersion\": 1.5\n    },\n    {\n      \"id\": \"c324d952-0722-40aa-981c-fcb2007b43b9\",\n      \"name\": \"set prompt fields\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        660,\n        140\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"cbf3b587-67fd-4f08-b50f-53561e869827\",\n              \"name\": \"name\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.output.name }}\"\n            },\n            {\n              \"id\": \"7fda5833-9a3b-4c8a-b18d-4c31b35dae94\",\n              \"name\": \"category\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.output.category }}\"\n            },\n            {\n              \"id\": \"50f06ab3-97d5-43cb-83ff-1a6aac45251b\",\n              \"name\": \"Prompt\",\n              \"type\": \"string\",\n              \"value\": \"={{ $('Edit Fields').item.json.text }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"97ad8d84-141e-4c21-8ce4-930dbe921f76\",\n      \"name\": \"add to airtable\",\n      \"type\": \"n8n-nodes-base.airtable\",\n      \"position\": [\n        800,\n        140\n      ],\n      \"parameters\": {\n        \"base\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"app994hU3fOw0ssrx\",\n          \"cachedResultUrl\": \"https://airtable.com/app994hU3fOw0ssrx\",\n          \"cachedResultName\": \"Prompt Library\"\n        },\n        \"table\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"tbldwJrCK2HmAeknA\",\n          \"cachedResultUrl\": \"https://airtable.com/app994hU3fOw0ssrx/tbldwJrCK2HmAeknA\",\n          \"cachedResultName\": \"Prompt Library\"\n        },\n        \"columns\": {\n          \"value\": {\n            \"Name\": \"={{ $json.name }}\",\n            \"Prompt\": \"={{ $json.Prompt }}\",\n            \"Category\": \"={{ $json.category }}\"\n          },\n          \"schema\": [\n            {\n              \"id\": \"Name\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"readOnly\": false,\n              \"required\": false,\n              \"displayName\": \"Name\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Prompt\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"readOnly\": false,\n              \"required\": false,\n              \"displayName\": \"Prompt\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Created ON\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": true,\n              \"readOnly\": true,\n              \"required\": false,\n              \"displayName\": \"Created ON\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Updated\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": true,\n              \"readOnly\": true,\n              \"required\": false,\n              \"displayName\": \"Updated\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Category\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"readOnly\": false,\n              \"required\": false,\n              \"displayName\": \"Category\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": [],\n          \"attemptToConvertTypes\": false,\n          \"convertFieldsToString\": false\n        },\n        \"options\": {},\n        \"operation\": \"create\"\n      },\n      \"credentials\": {\n        \"airtableTokenApi\": {\n          \"id\": \"CAa937hASXcJZWTv\",\n          \"name\": \"Airtable Personal Access Token account✅\"\n        }\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"516dc434-25d9-4011-9453-bb28521823ca\",\n      \"name\": \"Generate a new prompt\",\n      \"type\": \"@n8n/n8n-nodes-langchain.chainLlm\",\n      \"position\": [\n        -80,\n        140\n      ],\n      \"parameters\": {\n        \"messages\": {\n          \"messageValues\": [\n            {\n              \"message\": \"=You are an **expert n8n prompt engineer**, specializing in creating highly optimized, context-aware prompts for AI agents in n8n workflows. Your primary goal is to ensure AI agents execute well-defined tasks **accurately, autonomously, and efficiently**.  \\n\\n### Instructions  \\n1. **Define the AI Agent's Role and Rules**  \\n   - Use a structured role definition format:  \\n     `\\\"You are a [SPECIFIC ROLE] working for [SPECIFIC BUSINESS CONTEXT].\\\"`  \\n   - Clearly specify the agent's responsibilities and scope.  \\n\\n2. **Provide Task Instructions**  \\n   - Use a **step-by-step** numbered list to outline the process.  \\n   - Ensure the instructions allow for flexibility but prevent errors.  \\n\\n3. **Set Rules to Guide AI Behavior**  \\n   - Enumerate key constraints such as:  \\n     - Timezone requirements  \\n     - Prohibitions on making assumptions  \\n     - Required formatting for responses  \\n\\n4. **Use Few-Shot Prompting**  \\n   - Provide clear examples of desired outputs inside `<example>` tags.  \\n\\n5. **Include Additional Context**  \\n   - Define relevant business details, the current date/time, and any required environmental context.  \\n\\n---\\n\\n## Input Layer  \\n### Structuring User Inputs  \\n1. **Define Input Type**  \\n   - Specify whether inputs come from a human user (chat-based) or an external system (API calls).  \\n\\n2. **Handle Dynamic Inputs**  \\n   - Use placeholders (e.g., `{customer_name}`, `{appointment_date}`) for adaptable prompts.  \\n\\n3. **Ensure Personalization**  \\n   - Format prompts naturally while maintaining clarity and specificity.  \\n\\n4. **Merge Static & Dynamic Data**  \\n   - Concatenate fixed prompt structures with real-time system data from n8n.  \\n\\n---\\n## Action Layer  \\n### Tool and Function Calling  \\n1. **Standardized Tool Naming**  \\n   - Use `snake_case` names for tools (e.g., `check_calendar_availability`).  \\n\\n2. **Provide Clear Tool Descriptions**  \\n   - Example:  \\n     `\\\"Use the `fetch_customer_data` tool to retrieve details about a specific user based on their email address.\\\"`  \\n\\n3. **Specify Tool Parameters & Expected Responses**  \\n   - Define required inputs, expected formats, and error handling strategies.  \\n\\n4. **Avoid Hallucinations**  \\n   - AI should **only** use tools for their defined purposes. If information is missing, request clarification instead of guessing.  \\n\\n---\\n## Example Prompt for an AI Agent in n8n  \\n\\n```yaml\\n# System Layer\\n## Role\\nYou are a **Scheduling Assistant** working for a **beauty salon**. Your role is to help customers book appointments.  \\n\\n## Instructions\\n1. Ask the user for their preferred appointment date.  \\n2. Use `check_calendar_availability` to find open slots.  \\n3. If no slots are available, ask the user to select another day.  \\n4. Capture the user’s **full name** and **email**.  \\n5. Use `create_calendar_appointment` to confirm the booking.  \\n6. Notify the user with appointment details.  \\n\\n## Rules\\n- Always use **UTC+1 timezone**.  \\n- Do not assume details—ask if unsure.  \\n- If asked about non-scheduling topics, respond: `\\\"I can only assist with booking appointments.\\\"`  \\n\\n## Few-shot Example  \\n<example>\\n\\\"I have successfully booked your appointment:\\n- Date & Time: **Wednesday, 15 March 2025, 14:00 (UTC+1)**\\n- Booking Email: **jane.doe@example.com**\\nIf you need to cancel, please call +49 123 456 789.\\\"\\n</example>\\n```\\n---\\n## Key Considerations  \\n✅ **Avoid vague roles** (e.g., \\\"You are an assistant\\\"). Always specify **business context**.  \\n✅ **Keep task steps structured** but flexible.  \\n✅ **Provide explicit tool instructions** in a separate section.  \\n✅ **Enable AI to ask clarifying questions** instead of making assumptions.  \\n✅ **Use examples to guide expected outputs.**  \\n\\n\\n\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1.5\n    }\n  ],\n  \"pinData\": {},\n  \"connections\": {\n    \"Edit Fields\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Categorize and name Prompt\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"add to airtable\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Return results\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"set prompt fields\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"add to airtable\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Generate a new prompt\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Edit Fields\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Google Gemini Chat Model\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Generate a new prompt\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Structured Output Parser\": {\n      \"ai_outputParser\": [\n        [\n          {\n            \"node\": \"Auto-fixing Output Parser\",\n            \"type\": \"ai_outputParser\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Auto-fixing Output Parser\": {\n      \"ai_outputParser\": [\n        [\n          {\n            \"node\": \"Categorize and name Prompt\",\n            \"type\": \"ai_outputParser\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Google Gemini Chat Model1\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Categorize and name Prompt\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Auto-fixing Output Parser\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Categorize and name Prompt\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"set prompt fields\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When chat message received\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Generate a new prompt\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "@n8n/n8n-nodes-langchain.chatTrigger",
      "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "@n8n/n8n-nodes-langchain.outputParserAutofixing",
      "@n8n/n8n-nodes-langchain.outputParserStructured",
      "n8n-nodes-base.set",
      "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "n8n-nodes-base.set",
      "@n8n/n8n-nodes-langchain.chainLlm",
      "n8n-nodes-base.set",
      "n8n-nodes-base.airtable",
      "@n8n/n8n-nodes-langchain.chainLlm"
    ],
    "trigger": null
  }
}