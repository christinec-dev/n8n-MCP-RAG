{
  "source": "0194_Respondtowebhook_Webhook_Import_Webhook.json",
  "index": 1,
  "content": "{\n  \"nodes\": [\n    {\n      \"name\": \"Function\",\n      \"type\": \"n8n-nodes-base.function\",\n      \"position\": [\n        -280,\n        -80\n      ],\n      \"parameters\": {\n        \"functionCode\": \"// Code here will run only once, no matter how many input items there are.\\n// More info and help: https://docs.n8n.io/nodes/n8n-nodes-base.function\\n\\n// Loop over inputs and add a new field called 'myNewField' to the JSON of each one\\nc_id = items[0].json.headers['x-adobesign-clientid'];\\n\\nfor (item of items) {\\n  item.json.myNewField = 1;\\n  item.json.clientID = c_id;\\n}\\n\\nreturn items;\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"POST\",\n      \"type\": \"n8n-nodes-base.webhook\",\n      \"position\": [\n        -540,\n        -160\n      ],\n      \"webhookId\": \"dfe2a7a8-c0f7-41e1-9bf7-15e2b6e98741\",\n      \"parameters\": {\n        \"path\": \"test1\",\n        \"options\": {},\n        \"httpMethod\": \"POST\",\n        \"responseMode\": \"responseNode\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"reg-GET\",\n      \"type\": \"n8n-nodes-base.webhook\",\n      \"position\": [\n        -540,\n        20\n      ],\n      \"webhookId\": \"5356a36b-1090-4470-ad87-7cfdb6c18daf\",\n      \"parameters\": {\n        \"path\": \"test1\",\n        \"options\": {},\n        \"responseMode\": \"responseNode\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"webhook-response\",\n      \"type\": \"n8n-nodes-base.respondToWebhook\",\n      \"position\": [\n        -100,\n        -80\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"responseHeaders\": {\n            \"entries\": [\n              {\n                \"name\": \"x-adobesign-clientid\",\n                \"value\": \"={{$node[\\\"Function\\\"].json[\\\"clientID\\\"]}}\"\n              }\n            ]\n          }\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"SetWebhookData\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        60,\n        -80\n      ],\n      \"parameters\": {\n        \"values\": {\n          \"string\": [\n            {\n              \"name\": \"webhookData\",\n              \"value\": \"={{ $item(\\\"0\\\").$node[\\\"webhook-response\\\"].json[\\\"body\\\"] }}\"\n            },\n            {\n              \"name\": \"agreement_ID\",\n              \"value\": \"={{ $item(\\\"0\\\").$node[\\\"webhook-response\\\"].json[\\\"body\\\"][\\\"agreement\\\"][\\\"id\\\"] }}\"\n            },\n            {\n              \"name\": \"all_participants\",\n              \"value\": \"={{ $item(\\\"0\\\").$node[\\\"webhook-response\\\"].json[\\\"body\\\"][\\\"agreement\\\"][\\\"participantSetsInfo\\\"] }}\"\n            },\n            {\n              \"name\": \"agreement_status\",\n              \"value\": \"={{ $item(\\\"0\\\").$node[\\\"webhook-response\\\"].json[\\\"body\\\"][\\\"agreement\\\"][\\\"status\\\"] }}\"\n            }\n          ]\n        },\n        \"options\": {},\n        \"keepOnlySet\": true\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"connections\": {\n    \"POST\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Function\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"reg-GET\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Function\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Function\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"webhook-response\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"webhook-response\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"SetWebhookData\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.function",
      "n8n-nodes-base.webhook",
      "n8n-nodes-base.webhook",
      "n8n-nodes-base.respondToWebhook",
      "n8n-nodes-base.set"
    ],
    "trigger": null
  }
}