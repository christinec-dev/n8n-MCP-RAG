{
  "source": "1536_Rssfeedread_Extractfromfile_Automation_Webhook.json",
  "index": 1,
  "content": "{\n  \"id\": \"LF8gz3iz74u45a5i\",\n  \"meta\": {\n    \"instanceId\": \"889f0d7d968f3b02a88433e2529a399907d2ca89e329934b608193beaa2301f8\"\n  },\n  \"name\": \"YouTube Videos with AI Summaries on Discord\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"48c87027-7eea-40b9-a73c-4e002b748783\",\n      \"name\": \"YouTube Video Trigger\",\n      \"type\": \"n8n-nodes-base.rssFeedReadTrigger\",\n      \"position\": [\n        560,\n        220\n      ],\n      \"parameters\": {\n        \"feedUrl\": \"https://www.youtube.com/feeds/videos.xml?channel_id=UC08Fah8EIryeOZRkjBRohcQ\",\n        \"pollTimes\": {\n          \"item\": [\n            {\n              \"mode\": \"everyMinute\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"56166228-b365-4043-b48c-098b4de71f6f\",\n      \"name\": \"Retrieve Caption Data\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        780,\n        220\n      ],\n      \"parameters\": {\n        \"url\": \"https://www.googleapis.com/youtube/v3/captions\",\n        \"options\": {},\n        \"sendQuery\": true,\n        \"authentication\": \"predefinedCredentialType\",\n        \"queryParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"videoId\",\n              \"value\": \"={{ $json.id.match(/(?:[^:]*:){2}\\\\s*(.*)/)[1] }}\"\n            },\n            {\n              \"name\": \"part\",\n              \"value\": \"snippet\"\n            }\n          ]\n        },\n        \"nodeCredentialType\": \"youTubeOAuth2Api\"\n      },\n      \"credentials\": {\n        \"youTubeOAuth2Api\": {\n          \"id\": \"uy3xy1Ks2ATwRGr4\",\n          \"name\": \"Creator Magic - YouTube account\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"c029ac6f-3071-4045-83f6-2dede0c1f358\",\n      \"name\": \"Download Captions\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1220,\n        220\n      ],\n      \"parameters\": {\n        \"url\": \"=https://www.googleapis.com/youtube/v3/captions/{{ $json.caption.id }}\",\n        \"options\": {},\n        \"authentication\": \"predefinedCredentialType\",\n        \"nodeCredentialType\": \"youTubeOAuth2Api\"\n      },\n      \"credentials\": {\n        \"youTubeOAuth2Api\": {\n          \"id\": \"uy3xy1Ks2ATwRGr4\",\n          \"name\": \"Creator Magic - YouTube account\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"8b45dc14-f10f-4b50-8ca6-a9d0ccfee4dc\",\n      \"name\": \"Caption File Conversion\",\n      \"type\": \"n8n-nodes-base.extractFromFile\",\n      \"position\": [\n        1440,\n        220\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"operation\": \"text\",\n        \"destinationKey\": \"content\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"6527adb4-9087-40eb-b63a-8c4cdf5d0a40\",\n      \"name\": \"Caption Summary with ChatGPT\",\n      \"type\": \"@n8n/n8n-nodes-langchain.openAi\",\n      \"position\": [\n        1660,\n        220\n      ],\n      \"parameters\": {\n        \"modelId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gpt-3.5-turbo\",\n          \"cachedResultName\": \"GPT-3.5-TURBO\"\n        },\n        \"options\": {},\n        \"messages\": {\n          \"values\": [\n            {\n              \"content\": \"=Summarise this transcript into three bullet points to sum up what the video is about and why someone should watch it: {{ $json[\\\"content\\\"] }}\"\n            }\n          ]\n        }\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"QpdCHVaJVRd9NNYl\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 1.3\n    },\n    {\n      \"id\": \"2c83f230-bc37-4efb-9ee9-842bcefa0ef4\",\n      \"name\": \"Post to Discord\",\n      \"type\": \"n8n-nodes-base.discord\",\n      \"position\": [\n        2000,\n        220\n      ],\n      \"parameters\": {\n        \"content\": \"=üåü New Video Alert! üåü\\n\\n**{{ $('YouTube Video Trigger').item.json[\\\"title\\\"] }}**\\n\\n*What‚Äôs it about?*\\n\\n{{ $json[\\\"message\\\"][\\\"content\\\"] }}\\n\\n[Watch NOW]({{ $('YouTube Video Trigger').item.json[\\\"link\\\"] }}) and remember to share your thoughts!\",\n        \"options\": {},\n        \"authentication\": \"webhook\"\n      },\n      \"credentials\": {\n        \"discordWebhookApi\": {\n          \"id\": \"QQxpAIskycvb8fIE\",\n          \"name\": \"Discord Webhook account\"\n        }\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"8408887e-1d89-402c-b350-93d5f96f4dea\",\n      \"name\": \"Find English Captions\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        1000,\n        220\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"eaf7dcb5-91cf-4405-917b-38845f0ef78d\",\n              \"name\": \"caption\",\n              \"type\": \"object\",\n              \"value\": \"={{ $jmespath( $json.items, \\\"[?snippet.language == 'en'] | [0]\\\" ) }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.3\n    },\n    {\n      \"id\": \"71cc0977-1695-4797-9df2-b0a98e41d3de\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        500,\n        -20\n      ],\n      \"parameters\": {\n        \"width\": 448.11859838274916,\n        \"height\": 417.2722371967648,\n        \"content\": \"### Summarise Your YouTube Videos with AI for Discord\\n\\nüìΩÔ∏è [Watch the Video Tutorial](https://mrc.fm/ai2d)\\n\\n* Add your [YouTube channel ID](https://www.youtube.com/account_advanced) to the URL in the first node: `https://www.youtube.com/feeds/videos.xml?channel_id=YOUR_CHANNEL_ID`.\\n\\n* Ensure authorization with the YouTube channel that you want to download captions from.\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"e8fc6758-02ef-4b65-8ab5-474bd8e3862a\",\n  \"connections\": {\n    \"Download Captions\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Caption File Conversion\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Find English Captions\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Download Captions\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Retrieve Caption Data\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Find English Captions\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"YouTube Video Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Retrieve Caption Data\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Caption File Conversion\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Caption Summary with ChatGPT\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Caption Summary with ChatGPT\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Post to Discord\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.rssFeedReadTrigger",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.extractFromFile",
      "@n8n/n8n-nodes-langchain.openAi",
      "n8n-nodes-base.discord",
      "n8n-nodes-base.set",
      "n8n-nodes-base.stickyNote"
    ],
    "trigger": "youtube video trigger"
  }
}