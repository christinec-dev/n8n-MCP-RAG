{
  "source": "1450_Telegram_Automation_Webhook.json",
  "index": 1,
  "content": "{\n  \"id\": \"FQ0Uljxi7aIBdTFX\",\n  \"meta\": {\n    \"instanceId\": \"a5283507e1917a33cc3ae615b2e7d5ad2c1e50955e6f831272ddd5ab816f3fb6\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"name\": \"Coinmarketcap Price Agent\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"4f7066a4-9baa-428e-8b98-f4a3d0a6cf8a\",\n      \"name\": \"Telegram Send Message\",\n      \"type\": \"n8n-nodes-base.telegram\",\n      \"position\": [\n        1280,\n        0\n      ],\n      \"webhookId\": \"0eeae020-ed6f-4900-ae38-d646d893171d\",\n      \"parameters\": {\n        \"text\": \"={{ $json.output }}\",\n        \"chatId\": \"={{ $('Telegram Trigger1').item.json.message.chat.id }}\",\n        \"additionalFields\": {}\n      },\n      \"credentials\": {\n        \"telegramApi\": {\n          \"id\": \"R3vpGq0SURbvEw2Z\",\n          \"name\": \"Telegram account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"39c91f2b-87ed-46e9-8cc4-8c6ea547f170\",\n      \"name\": \"OpenAI Chat Model\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\n      \"position\": [\n        660,\n        320\n      ],\n      \"parameters\": {\n        \"model\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gpt-4o-mini\"\n        },\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"yUizd8t0sD5wMYVG\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"c87b5030-de78-4b86-8bb3-b93ee6b76a54\",\n      \"name\": \"Window Buffer Memory\",\n      \"type\": \"@n8n/n8n-nodes-langchain.memoryBufferWindow\",\n      \"position\": [\n        820,\n        320\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1.3\n    },\n    {\n      \"id\": \"ae3ec7a6-bf62-4381-acf8-05c7c425f471\",\n      \"name\": \"Telegram Trigger1\",\n      \"type\": \"n8n-nodes-base.telegramTrigger\",\n      \"position\": [\n        100,\n        0\n      ],\n      \"webhookId\": \"b33d2025-01c2-4386-b677-206a87a1856b\",\n      \"parameters\": {\n        \"updates\": [\n          \"message\"\n        ],\n        \"additionalFields\": {}\n      },\n      \"credentials\": {\n        \"telegramApi\": {\n          \"id\": \"R3vpGq0SURbvEw2Z\",\n          \"name\": \"Telegram account\"\n        }\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"3f3594f5-64d5-4d82-8d0f-0e5f58244d17\",\n      \"name\": \"CoinMarketCap Price Agent\",\n      \"type\": \"@n8n/n8n-nodes-langchain.agent\",\n      \"notes\": \"{{ $json.sessionId }}\",\n      \"position\": [\n        760,\n        0\n      ],\n      \"parameters\": {\n        \"text\": \"={{ $json.message.text }}\",\n        \"options\": {},\n        \"promptType\": \"define\"\n      },\n      \"typeVersion\": 1.7\n    },\n    {\n      \"id\": \"360dc88a-a714-4ceb-be25-5ebe7d1e0273\",\n      \"name\": \"Adds SessionId\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        420,\n        0\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"b5c25cd4-226b-4778-863f-79b13b4a5202\",\n              \"name\": \"sessionId\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.message.chat.id }}\"\n            }\n          ]\n        },\n        \"includeOtherFields\": true\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"8d53c2a0-a255-4fe9-8e5c-38c957825413\",\n      \"name\": \"CoinMarketCap Price\",\n      \"type\": \"@n8n/n8n-nodes-langchain.toolHttpRequest\",\n      \"position\": [\n        980,\n        320\n      ],\n      \"parameters\": {\n        \"url\": \"https://pro-api.coinmarketcap.com/v1/cryptocurrency/quotes/latest\",\n        \"sendQuery\": true,\n        \"sendHeaders\": true,\n        \"authentication\": \"genericCredentialType\",\n        \"genericAuthType\": \"httpHeaderAuth\",\n        \"parametersQuery\": {\n          \"values\": [\n            {\n              \"name\": \"symbol\"\n            },\n            {\n              \"name\": \"convert\",\n              \"value\": \"USD\",\n              \"valueProvider\": \"fieldValue\"\n            }\n          ]\n        },\n        \"toolDescription\": \"The tool going to recieve input of cryptocurrency name and then request the price from CoinMarketCap and send the price back in a message.\",\n        \"parametersHeaders\": {\n          \"values\": [\n            {\n              \"name\": \"Accept\",\n              \"value\": \"application/json\",\n              \"valueProvider\": \"fieldValue\"\n            }\n          ]\n        }\n      },\n      \"credentials\": {\n        \"httpHeaderAuth\": {\n          \"id\": \"OKXROn8aWkgAOvvV\",\n          \"name\": \"CoinMarketCap\"\n        }\n      },\n      \"typeVersion\": 1.1\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"595f494f-4109-4cd7-bf69-d1300d3a5408\",\n  \"connections\": {\n    \"Adds SessionId\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"CoinMarketCap Price Agent\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"OpenAI Chat Model\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"CoinMarketCap Price Agent\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Telegram Trigger1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Adds SessionId\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"CoinMarketCap Price\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"CoinMarketCap Price Agent\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Window Buffer Memory\": {\n      \"ai_memory\": [\n        [\n          {\n            \"node\": \"CoinMarketCap Price Agent\",\n            \"type\": \"ai_memory\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"CoinMarketCap Price Agent\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Telegram Send Message\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.telegram",
      "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "n8n-nodes-base.telegramTrigger",
      "@n8n/n8n-nodes-langchain.agent",
      "n8n-nodes-base.set",
      "@n8n/n8n-nodes-langchain.toolHttpRequest"
    ],
    "trigger": "telegram trigger1"
  }
}