{
  "source": "1243_Splitout_Limit_Automation_Webhook.json",
  "index": 1,
  "content": "{\n  \"id\": \"A5R7XYSzrCJKlw9k\",\n  \"meta\": {\n    \"instanceId\": \"2c4c1e23e7b067270c08aab616bada21d0c384d16f212b23cf1143c6baa09219\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"name\": \"Agent Milvus tool\",\n  \"tags\": [\n    {\n      \"id\": \"msnDWKHQmwMDxWQH\",\n      \"name\": \"Milvus\",\n      \"createdAt\": \"2025-04-16T12:48:14.539Z\",\n      \"updatedAt\": \"2025-04-16T12:48:14.539Z\"\n    },\n    {\n      \"id\": \"tnCpo8hq8uKrdASK\",\n      \"name\": \"AI\",\n      \"createdAt\": \"2025-04-16T12:47:57.976Z\",\n      \"updatedAt\": \"2025-04-16T12:47:57.976Z\"\n    }\n  ],\n  \"nodes\": [\n    {\n      \"id\": \"cfe6264a-2be1-4d1e-974b-ee05ca8ae9ab\",\n      \"name\": \"When clicking \\\"Execute Workflow\\\"\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        -280,\n        -40\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"c0665cc9-2bce-48db-a3bc-15baac68e569\",\n      \"name\": \"Fetch Essay List\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        -20,\n        -40\n      ],\n      \"parameters\": {\n        \"url\": \"http://www.paulgraham.com/articles.html\",\n        \"options\": {}\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"00bcdc0b-eb6d-41eb-ac0d-a6710d6232e4\",\n      \"name\": \"Extract essay names\",\n      \"type\": \"n8n-nodes-base.html\",\n      \"position\": [\n        180,\n        -40\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"operation\": \"extractHtmlContent\",\n        \"extractionValues\": {\n          \"values\": [\n            {\n              \"key\": \"essay\",\n              \"attribute\": \"href\",\n              \"cssSelector\": \"table table a\",\n              \"returnArray\": true,\n              \"returnValue\": \"attribute\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"523c319e-d1c7-4214-a725-dc557f6471a2\",\n      \"name\": \"Split out into items\",\n      \"type\": \"n8n-nodes-base.splitOut\",\n      \"position\": [\n        380,\n        -40\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"fieldToSplitOut\": \"essay\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"be155368-99f5-43b3-ba6c-50cccf2b72d2\",\n      \"name\": \"Fetch essay texts\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        780,\n        -40\n      ],\n      \"parameters\": {\n        \"url\": \"=http://www.paulgraham.com/{{ $json.essay }}\",\n        \"options\": {}\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"92af113c-dd71-4ddd-b50a-f5932392ed82\",\n      \"name\": \"Limit to first 3\",\n      \"type\": \"n8n-nodes-base.limit\",\n      \"position\": [\n        580,\n        -40\n      ],\n      \"parameters\": {\n        \"maxItems\": 3\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"1a1893c4-e8b2-454a-b49f-a0b0f3c01aca\",\n      \"name\": \"Extract Text Only\",\n      \"type\": \"n8n-nodes-base.html\",\n      \"position\": [\n        1100,\n        -40\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"operation\": \"extractHtmlContent\",\n        \"extractionValues\": {\n          \"values\": [\n            {\n              \"key\": \"data\",\n              \"cssSelector\": \"body\",\n              \"skipSelectors\": \"img,nav\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"d14ae606-f002-4fde-a896-bf1c7fa675b2\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -100,\n        -160\n      ],\n      \"parameters\": {\n        \"width\": 1071.752021563343,\n        \"height\": 285.66037735849045,\n        \"content\": \"## Scrape latest Paul Graham essays\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"dfb0cb32-9d7c-4588-b75e-0b79231eb72a\",\n      \"name\": \"Sticky Note5\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1020,\n        -160\n      ],\n      \"parameters\": {\n        \"width\": 625,\n        \"height\": 607,\n        \"content\": \"## Load into Milvus vector database\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"862a1a02-50e2-42af-9fa9-eb3a4f2ca463\",\n      \"name\": \"Recursive Character Text Splitter1\",\n      \"type\": \"@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter\",\n      \"position\": [\n        1440,\n        300\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"chunkSize\": 6000\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"91ac110a-57db-44b1-b22f-d2a63f22f173\",\n      \"name\": \"Milvus Vector Store\",\n      \"type\": \"@n8n/n8n-nodes-langchain.vectorStoreMilvus\",\n      \"position\": [\n        1320,\n        -40\n      ],\n      \"parameters\": {\n        \"mode\": \"insert\",\n        \"options\": {\n          \"clearCollection\": true\n        },\n        \"milvusCollection\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"n8n_test\",\n          \"cachedResultName\": \"n8n_test\"\n        }\n      },\n      \"credentials\": {\n        \"milvusApi\": {\n          \"id\": \"8tMHHoLiWXIAXa7S\",\n          \"name\": \"Milvus account\"\n        }\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"456e917f-d466-4ec8-8df9-3774ba58151d\",\n      \"name\": \"AI Agent\",\n      \"type\": \"@n8n/n8n-nodes-langchain.agent\",\n      \"position\": [\n        60,\n        360\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"typeVersion\": 1.9\n    },\n    {\n      \"id\": \"a5c5f308-097d-4fe0-92be-d717fd1e0b74\",\n      \"name\": \"When chat message received\",\n      \"type\": \"@n8n/n8n-nodes-langchain.chatTrigger\",\n      \"position\": [\n        -280,\n        360\n      ],\n      \"webhookId\": \"cd2703a7-f912-46fe-8787-3fb83ea116ab\",\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"dc352f07-335f-47cb-8270-32a4a0b87df7\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -460,\n        -200\n      ],\n      \"parameters\": {\n        \"width\": 280,\n        \"height\": 180,\n        \"content\": \"## Step 1\\n1. Set up a Milvus server based on [this guide](https://milvus.io/docs/install_standalone-docker-compose.md). And then create a collection named `n8n_test`.\\n2. Click this workflow to load scrape and load Paul Graham essays to Milvus collection.\\n\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"5c9e9871-c9c1-458e-b35c-eab87ac5ca26\",\n      \"name\": \"Default Data Loader\",\n      \"type\": \"@n8n/n8n-nodes-langchain.documentDefaultDataLoader\",\n      \"position\": [\n        1360,\n        180\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"jsonData\": \"={{ $('Extract Text Only').item.json.data }}\",\n        \"jsonMode\": \"expressionData\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"5b202001-525c-4481-a263-56b69c9b1bd8\",\n      \"name\": \"Milvus Vector Store as tool\",\n      \"type\": \"@n8n/n8n-nodes-langchain.vectorStoreMilvus\",\n      \"position\": [\n        180,\n        560\n      ],\n      \"parameters\": {\n        \"mode\": \"retrieve-as-tool\",\n        \"toolName\": \"milvus_knowledge_base\",\n        \"toolDescription\": \"useful when you need to retrieve information\",\n        \"milvusCollection\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"n8n_test\",\n          \"cachedResultName\": \"n8n_test\"\n        }\n      },\n      \"credentials\": {\n        \"milvusApi\": {\n          \"id\": \"8tMHHoLiWXIAXa7S\",\n          \"name\": \"Milvus account\"\n        }\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"6b5b95c7-dde2-4c3f-952b-97a8f5c267c9\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -460,\n        260\n      ],\n      \"parameters\": {\n        \"width\": 280,\n        \"height\": 120,\n        \"content\": \"## Step 2\\nStart to chat with the AI Agent with Milvus tool\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"5ccfe636-2bb3-4026-98f0-57ba8d5780f0\",\n      \"name\": \"Embeddings OpenAI\",\n      \"type\": \"@n8n/n8n-nodes-langchain.embeddingsOpenAi\",\n      \"position\": [\n        1220,\n        200\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"hH2PTDH4fbS7fdPv\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"982622e9-af05-4ee2-ae7d-166c47f75ce9\",\n      \"name\": \"OpenAI Chat Model\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\n      \"position\": [\n        20,\n        560\n      ],\n      \"parameters\": {\n        \"model\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gpt-4o-mini\"\n        },\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"hH2PTDH4fbS7fdPv\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"abd97878-cce6-44a0-8bae-91536ea48b6b\",\n      \"name\": \"Embeddings OpenAI1\",\n      \"type\": \"@n8n/n8n-nodes-langchain.embeddingsOpenAi\",\n      \"position\": [\n        200,\n        740\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"hH2PTDH4fbS7fdPv\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"00d49aab-3200-44fc-a0fc-8f7f22998617\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -80,\n        300\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 574,\n        \"height\": 629,\n        \"content\": \"\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"8e6f0bb5-1fb5-48fc-8a1f-488362be4ef7\",\n  \"connections\": {\n    \"Fetch Essay List\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Extract essay names\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Limit to first 3\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Fetch essay texts\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Embeddings OpenAI\": {\n      \"ai_embedding\": [\n        [\n          {\n            \"node\": \"Milvus Vector Store\",\n            \"type\": \"ai_embedding\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Extract Text Only\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Milvus Vector Store\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Fetch essay texts\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Extract Text Only\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"OpenAI Chat Model\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"AI Agent\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Embeddings OpenAI1\": {\n      \"ai_embedding\": [\n        [\n          {\n            \"node\": \"Milvus Vector Store as tool\",\n            \"type\": \"ai_embedding\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Default Data Loader\": {\n      \"ai_document\": [\n        [\n          {\n            \"node\": \"Milvus Vector Store\",\n            \"type\": \"ai_document\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Extract essay names\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Split out into items\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Split out into items\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Limit to first 3\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When chat message received\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"AI Agent\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Milvus Vector Store as tool\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"AI Agent\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When clicking \\\"Execute Workflow\\\"\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Fetch Essay List\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Recursive Character Text Splitter1\": {\n      \"ai_textSplitter\": [\n        [\n          {\n            \"node\": \"Default Data Loader\",\n            \"type\": \"ai_textSplitter\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.manualTrigger",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.html",
      "n8n-nodes-base.splitOut",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.limit",
      "n8n-nodes-base.html",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter",
      "@n8n/n8n-nodes-langchain.vectorStoreMilvus",
      "@n8n/n8n-nodes-langchain.agent",
      "@n8n/n8n-nodes-langchain.chatTrigger",
      "n8n-nodes-base.stickyNote",
      "@n8n/n8n-nodes-langchain.documentDefaultDataLoader",
      "@n8n/n8n-nodes-langchain.vectorStoreMilvus",
      "n8n-nodes-base.stickyNote",
      "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "n8n-nodes-base.stickyNote"
    ],
    "trigger": null
  }
}