{
  "source": "0773_Code_Manual_Update_Triggered.json",
  "index": 1,
  "content": "{\n  \"name\": \"Automatically Update YouTube Video Descriptions with Inserted Text\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"19cafddc-6199-4418-8213-9743c34c9176\",\n      \"name\": \"Get All Videos\",\n      \"type\": \"n8n-nodes-base.youTube\",\n      \"position\": [\n        480,\n        380\n      ],\n      \"parameters\": {\n        \"limit\": 3,\n        \"filters\": {},\n        \"options\": {\n          \"order\": \"date\"\n        },\n        \"resource\": \"video\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"63a6a8e6-994f-46ab-a731-609549fec99f\",\n      \"name\": \"Update Video Description\",\n      \"type\": \"n8n-nodes-base.youTube\",\n      \"position\": [\n        1320,\n        460\n      ],\n      \"parameters\": {\n        \"title\": \"={{ $('Get Specific Video').item.json.snippet.title }}\",\n        \"videoId\": \"={{ $('Get Specific Video').item.json.id}}\",\n        \"resource\": \"video\",\n        \"operation\": \"update\",\n        \"categoryId\": \"={{ $('Get Specific Video').item.json.snippet.categoryId }}\",\n        \"regionCode\": \"US\",\n        \"updateFields\": {\n          \"tags\": \"={{ $('Get Specific Video').item.json.snippet.tags.join() }}\",\n          \"description\": \"={{ $json.updatedDescription }}\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"ce147272-f6c3-4cfb-954b-9a77c63a6232\",\n      \"name\": \"When clicking â€˜Test workflowâ€™\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        120,\n        380\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"9ba206b2-1161-41a3-8581-d60dae665096\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        100,\n        120\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 580,\n        \"height\": 180,\n        \"content\": \"## Insert Text into YouTube Video Descriptions\\n**Automatically insert a row of text between two specified rows** in all your YouTube video descriptions. \\n\\nThis workflow is ideal for YouTubers who need to update multiple video descriptions at once. Easily add a new link or text between existing lines, ensuring consistency across all your video descriptions without manual edits.\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"e05f5b9c-c160-45d7-b67a-62d68acc0829\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        100,\n        560\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 340,\n        \"height\": 260,\n        \"content\": \"## Configure text string to insert ðŸ‘† \\nDefine the text string (row) that will be added to your YouTube video descriptions.\\n\\n### Variables\\n- **rowBefore** â†’ The new row will be inserted *after* this line.\\n- **rowToInsert** -â†’ The text or link you want to add.\\n- **rowAfter**â†’ The new row will be inserted *before* this line.\\n\\n\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"51a3fd15-8767-4cc0-98a8-fe98ec90db70\",\n      \"name\": \"Set String to Insert\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        300,\n        380\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"a05b56b1-6f18-4359-aa4b-127399877301\",\n              \"name\": \"rowBefore\",\n              \"type\": \"string\",\n              \"value\": \"=https://firstlink.com\"\n            },\n            {\n              \"id\": \"95ac4a95-cdf4-4d7a-b9a3-78d54c879115\",\n              \"name\": \"rowToInsert\",\n              \"type\": \"string\",\n              \"value\": \"https://mynewlinktoinsert.com\"\n            },\n            {\n              \"id\": \"ded86a1f-f0a5-42b8-9176-9be4038f6290\",\n              \"name\": \"rowAfter\",\n              \"type\": \"string\",\n              \"value\": \"https://secondlink.com\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"590b8bb3-6eb4-4bb8-af4c-c2d95221f045\",\n      \"name\": \"Loop Over Videos\",\n      \"type\": \"n8n-nodes-base.splitInBatches\",\n      \"position\": [\n        700,\n        380\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"reset\": false\n        }\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"a80ac941-0a99-4eab-8a6c-effef1e136fa\",\n      \"name\": \"Get Specific Video\",\n      \"type\": \"n8n-nodes-base.youTube\",\n      \"position\": [\n        900,\n        460\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"videoId\": \"={{ $json.id.videoId }}\",\n        \"resource\": \"video\",\n        \"operation\": \"get\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"2c4519e2-1af9-42d7-818c-8165365587fb\",\n      \"name\": \"Create New Video Description with Row Inserted\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        1100,\n        460\n      ],\n      \"parameters\": {\n        \"jsCode\": \"// Access the input data (YouTube description)\\nconst description = $('Get Specific Video').first().json.snippet.description;\\n//console.log(inputData)\\n\\nconst variables = $('Set String to Insert').first().json\\n// Define the rows to search for and the row to insert\\nconst rowBefore = variables.rowBefore;\\nconst rowAfter = variables.rowAfter;\\nconst rowToInsert = variables.rowToInsert;\\n\\n// Split the description into an array of rows\\nconst rows = description.split(\\\"\\\\n\\\");\\nconsole.log(rows)\\n// Find the index of the rowBefore and rowAfter\\nconst indexBefore = rows.findIndex(row => row.trim() === rowBefore);\\nconst indexAfter = rows.findIndex(row => row.trim() === rowAfter);\\n\\n// Check if both rows are found and rowBefore comes before rowAfter\\nif (indexBefore !== -1 && indexAfter !== -1 && indexBefore < indexAfter) {\\n  // Insert the new row between rowBefore and rowAfter\\n  rows.splice(indexBefore + 1, 0, rowToInsert);\\n}\\n\\n// Join the rows back into a single string\\nconst updatedDescription = rows.join(\\\"\\\\n\\\");\\n\\n// Return the updated description in the correct n8n output structure\\nreturn [\\n  {\\n    json: {\\n      updatedDescription: updatedDescription\\n    }\\n  }\\n];\"\n      },\n      \"typeVersion\": 2\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"50fd0bcb-7441-45eb-ab58-ca2a7de78516\",\n  \"connections\": {\n    \"Get All Videos\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Loop Over Videos\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Loop Over Videos\": {\n      \"main\": [\n        [],\n        [\n          {\n            \"node\": \"Get Specific Video\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get Specific Video\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Create New Video Description with Row Inserted\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Set String to Insert\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get All Videos\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Update Video Description\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Loop Over Videos\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When clicking â€˜Test workflowâ€™\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set String to Insert\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Create New Video Description with Row Inserted\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Update Video Description\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.youTube",
      "n8n-nodes-base.youTube",
      "n8n-nodes-base.manualTrigger",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.set",
      "n8n-nodes-base.splitInBatches",
      "n8n-nodes-base.youTube",
      "n8n-nodes-base.code"
    ],
    "trigger": null
  }
}