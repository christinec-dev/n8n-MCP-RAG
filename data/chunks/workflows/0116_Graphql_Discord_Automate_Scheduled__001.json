{
  "source": "0116_Graphql_Discord_Automate_Scheduled.json",
  "index": 1,
  "content": "{\n  \"nodes\": [\n    {\n      \"name\": \"Cron\",\n      \"type\": \"n8n-nodes-base.cron\",\n      \"position\": [\n        459,\n        371\n      ],\n      \"parameters\": {\n        \"triggerTimes\": {\n          \"item\": [\n            {\n              \"mode\": \"everyHour\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Set\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        1109,\n        371\n      ],\n      \"parameters\": {\n        \"values\": {\n          \"number\": [\n            {\n              \"name\": \"Votes\",\n              \"value\": \"={{$json[\\\"posts\\\"][\\\"node\\\"][\\\"votesCount\\\"]}}\"\n            }\n          ],\n          \"string\": [\n            {\n              \"name\": \"Name\",\n              \"value\": \"={{$json[\\\"posts\\\"][\\\"node\\\"][\\\"name\\\"]}}\"\n            },\n            {\n              \"name\": \"Description\",\n              \"value\": \"={{$json[\\\"posts\\\"][\\\"node\\\"][\\\"description\\\"]}}\"\n            }\n          ]\n        },\n        \"options\": {},\n        \"keepOnlySet\": true\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"GraphQL\",\n      \"type\": \"n8n-nodes-base.graphql\",\n      \"position\": [\n        700,\n        370\n      ],\n      \"parameters\": {\n        \"query\": \"=query PostRanking{\\n  posts(postedAfter:\\\"{{new Date(new Date(Date.now()).getTime() - (1000*60*60*1*24)).toUTCString()}}\\\", order:RANKING, first:5, postedBefore:\\\"{{new Date(Date.now()).toUTCString()}}\\\"){\\n    edges {\\n      node {\\n        name\\n        tagline\\n        description\\n        votesCount\\n        reviewsRating\\n      }\\n    }\\n  }\\n}\",\n        \"endpoint\": \"https://api.producthunt.com/v2/api/graphql\",\n        \"requestFormat\": \"json\",\n        \"headerParametersUi\": {\n          \"parameter\": [\n            {\n              \"name\": \"Authorization\",\n              \"value\": \"Bearer YOUR-TOKEN\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Item Lists\",\n      \"type\": \"n8n-nodes-base.itemLists\",\n      \"position\": [\n        900,\n        370\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"destinationFieldName\": \"posts\"\n        },\n        \"fieldToSplitOut\": \"data.posts.edges\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Discord\",\n      \"type\": \"n8n-nodes-base.discord\",\n      \"position\": [\n        1310,\n        370\n      ],\n      \"parameters\": {\n        \"text\": \"=Here are the top 5 PH projects:\\n**Name:** {{$json[\\\"Name\\\"]}}\\n**Description:** {{$json[\\\"Description\\\"]}}\\n**Vote:** {{$json[\\\"Votes\\\"]}}\\n-------\",\n        \"webhookUri\": \"DISCORD WEBHOOK URL\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"connections\": {\n    \"Set\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Discord\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Cron\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"GraphQL\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"GraphQL\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Item Lists\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Item Lists\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.cron",
      "n8n-nodes-base.set",
      "n8n-nodes-base.graphql",
      "n8n-nodes-base.itemLists",
      "n8n-nodes-base.discord"
    ],
    "trigger": null
  }
}