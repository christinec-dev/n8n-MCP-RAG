{
  "source": "0391_Code_Filter_Create_Scheduled.json",
  "index": 1,
  "content": "{\n  \"meta\": {\n    \"instanceId\": \"f0a68da631efd4ed052a324b63ff90f7a844426af0398a68338f44245d1dd9e5\"\n  },\n  \"nodes\": [\n    {\n      \"id\": \"edef59f6-0197-408e-a819-141c1ca8dedd\",\n      \"name\": \"When clicking \\\"Execute Workflow\\\"\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        -1820,\n        780\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"d56deaf5-1ad8-45a2-bbf0-3b71560f8036\",\n      \"name\": \"Extract next start value\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        -640,\n        480\n      ],\n      \"parameters\": {\n        \"mode\": \"runOnceForEachItem\",\n        \"jsCode\": \"let nextUrl\\n\\nif ($json && $json[\\\"serpapi_pagination\\\"] && $json[\\\"serpapi_pagination\\\"][\\\"next\\\"]) {\\n    nextUrl = $json[\\\"serpapi_pagination\\\"][\\\"next\\\"];\\n\\n$input.item.json.start = nextUrl.split('&').find(param => param.startsWith('start=')).split('=')[1];\\n}\\n\\n\\nreturn $input.item;\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"6562c236-c957-437b-91a9-15e98af09858\",\n      \"name\": \"Merge all values from SERPAPI\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        -140,\n        680\n      ],\n      \"parameters\": {\n        \"jsCode\": \"const allData = []\\n\\nlet counter = 0;\\ndo {\\n  try {\\n    const items = $items(\\\"SERPAPI - Scrape Google Maps URL\\\", 0, counter).map(item => item.json.local_results);\\n    allData.push.apply(allData, items);\\n  } catch (error) {\\n    return [{json: {allData}}];  \\n  }\\n\\n  counter++;\\n} while(true);\\nreturn $input.all();\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"357e8a57-dbb5-4241-b9c2-863b3ae3fd96\",\n      \"name\": \"Transform data in the right format\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        380,\n        680\n      ],\n      \"parameters\": {\n        \"jsCode\": \"console.log($input.all())\\n\\n\\nconst data = $input.all()\\n\\nconsole.log(\\\"error\\\",data)\\n\\nfunction mergeData(data) {\\n    let merged = [];\\n    data.forEach(entry => {\\n        for (const key in entry.json) {\\n            merged.push(entry.json[key]);\\n        }\\n    });\\n    return merged;\\n}\\n\\nconst mergedData = mergeData(data);\\nconsole.log(mergedData);\\n\\n\\nreturn mergedData.filter(item => item !== null);\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"4e8e9ae9-f5e3-4bfd-b0d4-9403a1c38d39\",\n      \"name\": \"Add rows in Google Sheets\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        760,\n        680\n      ],\n      \"parameters\": {\n        \"columns\": {\n          \"value\": {},\n          \"schema\": [\n            {\n              \"id\": \"position\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"position\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"title\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"title\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"phone\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"phone\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"website\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"website\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"rating\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"rating\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"reviews\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"reviews\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"place_id\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"place_id\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"data_id\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"data_id\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"data_cid\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"data_cid\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"reviews_link\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"reviews_link\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"photos_link\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"photos_link\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"gps_coordinates\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"gps_coordinates\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"place_id_search\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"place_id_search\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"provider_id\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"provider_id\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"price\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"price\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"type\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"type\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"types\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"types\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"address\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"address\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"open_state\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"open_state\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"hours\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"hours\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"operating_hours\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"operating_hours\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"description\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"description\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"service_options\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"service_options\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"order_online\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"order_online\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"thumbnail\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"thumbnail\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"editorial_reviews\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"editorial_reviews\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"unclaimed_listing\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"unclaimed_listing\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"autoMapInputData\",\n          \"matchingColumns\": [\n            \"place_id\"\n          ]\n        },\n        \"options\": {\n          \"cellFormat\": \"RAW\"\n        },\n        \"operation\": \"appendOrUpdate\",\n        \"sheetName\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": 2023033319,\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/170osqaLBql9M-4RAH3_lBKR7ZMaQqyLUkAD-88xGuEQ/edit#gid=2023033319\",\n          \"cachedResultName\": \"Results\"\n        },\n        \"documentId\": {\n          \"__rl\": true,\n          \"mode\": \"url\",\n          \"value\": \"https://docs.google.com/spreadsheets/d/170osqaLBql9M-4RAH3_lBKR7ZMaQqyLUkAD-88xGuEQ/edit#gid=2023033319\"\n        }\n      },\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"2\",\n          \"name\": \"Google Sheets account lucas\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"90194aa3-5960-47bd-9e0e-efee827004c4\",\n      \"name\": \"SERPAPI - Scrape Google Maps URL\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"onError\": \"continueErrorOutput\",\n      \"position\": [\n        -920,\n        500\n      ],\n      \"parameters\": {\n        \"url\": \"https://serpapi.com/search.json\",\n        \"options\": {},\n        \"sendQuery\": true,\n        \"authentication\": \"predefinedCredentialType\",\n        \"queryParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"engine\",\n              \"value\": \"google_maps\"\n            },\n            {\n              \"name\": \"q\",\n              \"value\": \"={{$json?.search_parameters?.q || $json.keyword }} \"\n            },\n            {\n              \"name\": \"ll\",\n              \"value\": \"={{ $json?.search_parameters?.ll|| $json.geo }}\"\n            },\n            {\n              \"name\": \"type\",\n              \"value\": \"search\"\n            },\n            {\n              \"name\": \"start\",\n              \"value\": \"={{ $json.start|| 0 }}\"\n            }\n          ]\n        },\n        \"nodeCredentialType\": \"serpApi\"\n      },\n      \"credentials\": {\n        \"serpApi\": {\n          \"id\": \"MP9W6wBcEfhc6ofn\",\n          \"name\": \"SerpAPI account\"\n        }\n      },\n      \"typeVersion\": 4.1\n    },\n    {\n      \"id\": \"9cfd1e76-2d7c-4618-86d6-e1f3c7729044\",\n      \"name\": \"Remove duplicate items\",\n      \"type\": \"n8n-nodes-base.itemLists\",\n      \"position\": [\n        580,\n        680\n      ],\n      \"parameters\": {\n        \"compare\": \"selectedFields\",\n        \"options\": {},\n        \"operation\": \"removeDuplicates\",\n        \"fieldsToCompare\": \"place_id\"\n      },\n      \"typeVersion\": 3.1\n    },\n    {\n      \"id\": \"e47dfa17-fc84-4694-950d-165302a9075f\",\n      \"name\": \"Split out items\",\n      \"type\": \"n8n-nodes-base.itemLists\",\n      \"position\": [\n        40,\n        680\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"fieldToSplitOut\": \"allData\"\n      },\n      \"typeVersion\": 3.1\n    },\n    {\n      \"id\": \"decc89ee-f836-4ec2-9a1a-0371a8889ef5\",\n      \"name\": \"Remove empty values\",\n      \"type\": \"n8n-nodes-base.filter\",\n      \"position\": [\n        200,\n        680\n      ],\n      \"parameters\": {\n        \"conditions\": {\n          \"string\": [\n            {\n              \"value1\": \"={{ $json[0] }}\",\n              \"operation\": \"isNotEmpty\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"bd7ca3a5-2697-4653-abf6-372088d925e6\",\n      \"name\": \"Google Sheets - Get searches  to scrap\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        -1380,\n        500\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"filtersUI\": {\n          \"values\": [\n            {\n              \"lookupColumn\": \"Status\"\n            }\n          ]\n        },\n        \"sheetName\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gid=0\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/170osqaLBql9M-4RAH3_lBKR7ZMaQqyLUkAD-88xGuEQ/edit#gid=0\",\n          \"cachedResultName\": \"Add your search here\"\n        },\n        \"documentId\": {\n          \"__rl\": true,\n          \"mode\": \"url\",\n          \"value\": \"https://docs.google.com/spreadsheets/d/170osqaLBql9M-4RAH3_lBKR7ZMaQqyLUkAD-88xGuEQ/edit#gid=0\"\n        }\n      },\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"2\",\n          \"name\": \"Google Sheets account lucas\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"6d0be482-b1ad-4fa0-8d2e-bef9a4414924\",\n      \"name\": \"Extract keyword and location from URL\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        -1160,\n        500\n      ],\n      \"parameters\": {\n        \"fields\": {\n          \"values\": [\n            {\n              \"name\": \"keyword\",\n              \"stringValue\": \"={{ $json.URL.match(/\\\\/search\\\\/(.*?)\\\\//)[1] }}\"\n            },\n            {\n              \"name\": \"geo\",\n              \"stringValue\": \"={{ $json.URL.match(/(@[^\\\\/?]+)/)[1]}}\"\n            }\n          ]\n        },\n        \"options\": {}\n      },\n      \"typeVersion\": 3.2\n    },\n    {\n      \"id\": \"f6fb8db2-8444-4605-af9d-22ca71c7937d\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -1920,\n        200\n      ],\n      \"parameters\": {\n        \"width\": 312.2965981499806,\n        \"height\": 266.8807730722022,\n        \"content\": \"## Adjust frequency to your own needs\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"234b5d18-75d7-495b-960f-06192d9e7c61\",\n      \"name\": \"Run workflow every hours\",\n      \"type\": \"n8n-nodes-base.scheduleTrigger\",\n      \"position\": [\n        -1800,\n        300\n      ],\n      \"parameters\": {\n        \"rule\": {\n          \"interval\": [\n            {\n              \"field\": \"hours\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"ea2e9b89-e52c-4e25-803a-ce33c41c20fc\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -1460,\n        200\n      ],\n      \"parameters\": {\n        \"height\": 511.2196121145973,\n        \"content\": \"## Copy my template and connect it to n8n\\n\\nTemplate link: \\n https://docs.google.com/spreadsheets/d/170osqaLBql9M-4RAH3_lBKR7ZMaQqyLUkAD-88xGuEQ/edit?usp=sharing\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"de515d8d-641d-4b91-9472-608ad3878e32\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -980,\n        169.3107006491615\n      ],\n      \"parameters\": {\n        \"height\": 535.9388810024284,\n        \"content\": \"## Add your SERPAPI API Key\\n\\nStart a free trial at serpapi.com and get your API key in \\\"Your account\\\" section\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"a5a63861-7ff3-4072-a669-acce938939d8\",\n      \"name\": \"Update Status to Success\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        940,\n        680\n      ],\n      \"parameters\": {\n        \"columns\": {\n          \"value\": {\n            \"URL\": \"={{ $('Google Sheets - Get searches  to scrap').first().json.URL }}\",\n            \"Status\": \"✅\"\n          },\n          \"schema\": [\n            {\n              \"id\": \"URL\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"URL\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Status\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"Status\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"row_number\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": true,\n              \"readOnly\": true,\n              \"required\": false,\n              \"displayName\": \"row_number\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": [\n            \"URL\"\n          ]\n        },\n        \"options\": {},\n        \"operation\": \"update\",\n        \"sheetName\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gid=0\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/170osqaLBql9M-4RAH3_lBKR7ZMaQqyLUkAD-88xGuEQ/edit#gid=0\",\n          \"cachedResultName\": \"Add your search url here\"\n        },\n        \"documentId\": {\n          \"__rl\": true,\n          \"mode\": \"url\",\n          \"value\": \"https://docs.google.com/spreadsheets/d/170osqaLBql9M-4RAH3_lBKR7ZMaQqyLUkAD-88xGuEQ/edit#gid=0\"\n        }\n      },\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"2\",\n          \"name\": \"Google Sheets account lucas\"\n        }\n      },\n      \"executeOnce\": true,\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"2bdc5b63-e3bb-453e-a236-9c83cd12cc03\",\n      \"name\": \"Update Status to Error\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        -640,\n        620\n      ],\n      \"parameters\": {\n        \"columns\": {\n          \"value\": {\n            \"URL\": \"={{ $('Google Sheets - Get searches  to scrap').first().json.URL }}\",\n            \"Status\": \"❌\"\n          },\n          \"schema\": [\n            {\n              \"id\": \"URL\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"URL\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Status\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"Status\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"row_number\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": true,\n              \"readOnly\": true,\n              \"required\": false,\n              \"displayName\": \"row_number\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": [\n            \"URL\"\n          ]\n        },\n        \"options\": {},\n        \"operation\": \"update\",\n        \"sheetName\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gid=0\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/170osqaLBql9M-4RAH3_lBKR7ZMaQqyLUkAD-88xGuEQ/edit#gid=0\",\n          \"cachedResultName\": \"Add your search url here\"\n        },\n        \"documentId\": {\n          \"__rl\": true,\n          \"mode\": \"url\",\n          \"value\": \"https://docs.google.com/spreadsheets/d/170osqaLBql9M-4RAH3_lBKR7ZMaQqyLUkAD-88xGuEQ/edit#gid=0\"\n        }\n      },\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"2\",\n          \"name\": \"Google Sheets account lucas\"\n        }\n      },\n      \"executeOnce\": true,\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"f413f4ef-fd6d-4967-8df7-a4fee4361246\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -1920,\n        640\n      ],\n      \"parameters\": {\n        \"width\": 312.2965981499806,\n        \"height\": 310.4703136043695,\n        \"content\": \"## Click on Execute Workflow to run the workflow manually\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"cbc53e43-f141-434c-a655-feb1f7d3c65b\",\n      \"name\": \"Continue IF Loop is complete\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        -380,\n        620\n      ],\n      \"parameters\": {\n        \"conditions\": {\n          \"number\": [\n            {\n              \"value1\": \"={{ $json.search_parameters.start }}\",\n              \"operation\": \"isNotEmpty\"\n            }\n          ],\n          \"string\": [\n            {\n              \"value1\": \"={{ $json.serpapi_pagination.next }}\",\n              \"operation\": \"isNotEmpty\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"229f9652-b703-490e-aa3c-c28b0fe1f2e8\",\n      \"name\": \"Sticky Note4\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -2340,\n        200\n      ],\n      \"parameters\": {\n        \"width\": 357.33341618921213,\n        \"height\": 532.3420004517685,\n        \"content\": \"## Read Me\\n\\nThis workflow allows to scrape Google Maps data in an efficient way using SerpAPI. \\n\\nYou'll get all data from Gmaps at a cheaper cost than Google Maps API.\\n\\nAdd as input, your Google Maps search URL and you'll get a list of places with many data points such as:\\n- phone number\\n- website\\n- rating\\n- reviews\\n- address\\n\\nAnd much more.\\n\\n\\n**Full guide to implement the workflow is here**: \\n\\nhttps://lempire.notion.site/Scrape-Google-Maps-places-with-n8n-b7f1785c3d474e858b7ee61ad4c21136?pvs=4\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"pinData\": {},\n  \"connections\": {\n    \"Split out items\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Remove empty values\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Remove empty values\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Transform data in the right format\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Remove duplicate items\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Add rows in Google Sheets\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Extract next start value\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Continue IF Loop is complete\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Run workflow every hours\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Google Sheets - Get searches  to scrap\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Add rows in Google Sheets\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Update Status to Success\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Continue IF Loop is complete\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"SERPAPI - Scrape Google Maps URL\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Merge all values from SERPAPI\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Merge all values from SERPAPI\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Split out items\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"SERPAPI - Scrape Google Maps URL\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Extract next start value\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Update Status to Error\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When clicking \\\"Execute Workflow\\\"\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Google Sheets - Get searches  to scrap\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Transform data in the right format\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Remove duplicate items\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Extract keyword and location from URL\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"SERPAPI - Scrape Google Maps URL\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Google Sheets - Get searches  to scrap\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Extract keyword and location from URL\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.manualTrigger",
      "n8n-nodes-base.code",
      "n8n-nodes-base.code",
      "n8n-nodes-base.code",
      "n8n-nodes-base.googleSheets",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.itemLists",
      "n8n-nodes-base.itemLists",
      "n8n-nodes-base.filter",
      "n8n-nodes-base.googleSheets",
      "n8n-nodes-base.set",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.scheduleTrigger",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.googleSheets",
      "n8n-nodes-base.googleSheets",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.if",
      "n8n-nodes-base.stickyNote"
    ],
    "trigger": null
  }
}