{
  "source": "1505_Manual_Stickynote_Send_Webhook.json",
  "index": 1,
  "content": "{\n  \"id\": \"IjQRdNu2ItwNnGL2\",\n  \"meta\": {\n    \"instanceId\": \"18735a589159672fb9dbd8b6f953d0efdca888157c3b8b26943fb0e0e7c1edbb\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"name\": \"[hiroshidigital.com] Send Message In Larksuite\",\n  \"tags\": [\n    {\n      \"id\": \"96KbUn85yy8jivyf\",\n      \"name\": \"Creator\",\n      \"createdAt\": \"2024-10-22T04:22:34.463Z\",\n      \"updatedAt\": \"2024-10-22T04:22:34.463Z\"\n    }\n  ],\n  \"nodes\": [\n    {\n      \"id\": \"9fd838b3-18f7-4056-bbb9-8a9fd843590b\",\n      \"name\": \"When clicking ‘Test workflow’\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        240,\n        220\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"7afa44a2-28ec-4e3d-a8bd-a63721648eb2\",\n      \"name\": \"Get Lark Token\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        640,\n        220\n      ],\n      \"parameters\": {\n        \"url\": \"https://open.larksuite.com/open-apis/auth/v3/tenant_access_token/internal\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"jsonBody\": \"={\\n  \\\"app_id\\\": \\\"{{ $json.app_id }}\\\",\\n  \\\"app_secret\\\": \\\"{{ $json.app_secret }}\\\"\\n} \",\n        \"sendBody\": true,\n        \"sendHeaders\": true,\n        \"specifyBody\": \"json\",\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"Content-Type\",\n              \"value\": \"application/json\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 4.1\n    },\n    {\n      \"id\": \"4e1fdbef-b881-445c-90ce-95bc9b745772\",\n      \"name\": \"Input\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        440,\n        220\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"322bfa44-ee2a-4ddf-b747-0f7f3405e294\",\n              \"name\": \"app_id\",\n              \"type\": \"string\",\n              \"value\": \"cli_8cdb09dec256ca40\"\n            },\n            {\n              \"id\": \"c8faab22-235b-412c-8dc8-8142c6e2e0c4\",\n              \"name\": \"app_secret\",\n              \"type\": \"string\",\n              \"value\": \"H5SEZr8O67zuqdIdBKSPhTkoeEBCRNy4\"\n            },\n            {\n              \"id\": \"121fcf72-2a13-4082-a66b-47d56bd4a675\",\n              \"name\": \"chat_id\",\n              \"type\": \"string\",\n              \"value\": \"oc_1d97ee99bffdce243a95b4ebe3ddef7a\"\n            },\n            {\n              \"id\": \"c22bf4f3-eac7-4c04-8b2e-8c0e5011bc1e\",\n              \"name\": \"text\",\n              \"type\": \"string\",\n              \"value\": \"https://hiroshidigital.com/\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"92a62eef-e8ec-4e31-b70e-a80dd83d3bba\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        380,\n        40\n      ],\n      \"parameters\": {\n        \"content\": \"You can get app_id and app_secret in Lark here: https://open.larksuite.com/\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"9cde6452-7221-4d43-9e68-afa70fdebc27\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        760,\n        40\n      ],\n      \"parameters\": {\n        \"content\": \"You can get chat_id https://open.larksuite.com/api-explorer/\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"87d2cc29-6318-4fb7-b430-f4b825649133\",\n      \"name\": \"Send Message\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        840,\n        220\n      ],\n      \"parameters\": {\n        \"url\": \"https://open.larksuite.com/open-apis/message/v4/send/\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"jsonBody\": \"={\\n  \\\"chat_id\\\": \\\"{{ $('Input').item.json.chat_id }}\\\",\\n  \\\"msg_type\\\": \\\"text\\\",\\n  \\\"content\\\": {\\n      \\\"text\\\": \\\"{{ $('Input').item.json.text }}\\\"\\n  }\\n}\",\n        \"sendBody\": true,\n        \"specifyBody\": \"json\",\n        \"authentication\": \"genericCredentialType\",\n        \"genericAuthType\": \"httpHeaderAuth\"\n      },\n      \"credentials\": {\n        \"httpHeaderAuth\": {\n          \"id\": \"srBVlMVQpuZrtnXn\",\n          \"name\": \"Header Auth\"\n        }\n      },\n      \"typeVersion\": 4.1\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"ecf9cc74-9aa6-4fa0-b887-f41dc47f5632\",\n  \"connections\": {\n    \"Input\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get Lark Token\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get Lark Token\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Send Message\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When clicking ‘Test workflow’\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Input\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.manualTrigger",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.set",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.httpRequest"
    ],
    "trigger": null
  }
}