{
  "source": "1158_Manual_Matrix_Create_Triggered.json",
  "index": 1,
  "content": "{\n  \"id\": \"83\",\n  \"name\": \"Create a room, invite members from a different room, and send a message in the room we created\",\n  \"nodes\": [\n    {\n      \"name\": \"On clicking 'execute'\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        240,\n        300\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Matrix\",\n      \"type\": \"n8n-nodes-base.matrix\",\n      \"position\": [\n        400,\n        300\n      ],\n      \"parameters\": {\n        \"resource\": \"room\",\n        \"roomName\": \"n8n\",\n        \"roomAlias\": \"discussion-n8n\"\n      },\n      \"credentials\": {\n        \"matrixApi\": \"matrix\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"IF\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        840,\n        300\n      ],\n      \"parameters\": {\n        \"conditions\": {\n          \"string\": [\n            {\n              \"value1\": \"={{$node[\\\"Matrix1\\\"].json[\\\"user_id\\\"]}}\",\n              \"value2\": \"={{$node[\\\"Matrix2\\\"].json[\\\"user_id\\\"]}}\",\n              \"operation\": \"notEqual\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Matrix3\",\n      \"type\": \"n8n-nodes-base.matrix\",\n      \"position\": [\n        990,\n        200\n      ],\n      \"parameters\": {\n        \"roomId\": \"={{$node[\\\"Matrix\\\"].json[\\\"room_id\\\"]}}\",\n        \"userId\": \"={{$node[\\\"IF\\\"].json[\\\"user_id\\\"]}}\",\n        \"resource\": \"room\",\n        \"operation\": \"invite\"\n      },\n      \"credentials\": {\n        \"matrixApi\": \"matrix\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Matrix4\",\n      \"type\": \"n8n-nodes-base.matrix\",\n      \"position\": [\n        1140,\n        200\n      ],\n      \"parameters\": {\n        \"text\": \"Welcome to n8n!\",\n        \"roomId\": \"={{$node[\\\"Matrix\\\"].json[\\\"room_id\\\"]}}\"\n      },\n      \"credentials\": {\n        \"matrixApi\": \"matrix\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"NoOp\",\n      \"type\": \"n8n-nodes-base.noOp\",\n      \"position\": [\n        990,\n        400\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Matrix1\",\n      \"type\": \"n8n-nodes-base.matrix\",\n      \"position\": [\n        540,\n        300\n      ],\n      \"parameters\": {\n        \"resource\": \"account\"\n      },\n      \"credentials\": {\n        \"matrixApi\": \"matrix\"\n      },\n      \"typeVersion\": 1,\n      \"continueOnFail\": true\n    },\n    {\n      \"name\": \"Matrix2\",\n      \"type\": \"n8n-nodes-base.matrix\",\n      \"position\": [\n        690,\n        300\n      ],\n      \"parameters\": {\n        \"roomId\": \"!cMUIsUgevrhCoeMkSG:matrix.org\",\n        \"filters\": {},\n        \"resource\": \"roomMember\"\n      },\n      \"credentials\": {\n        \"matrixApi\": \"matrix\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": false,\n  \"settings\": {},\n  \"connections\": {\n    \"IF\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Matrix3\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"NoOp\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Matrix\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Matrix1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Matrix1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Matrix2\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Matrix2\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"IF\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Matrix3\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Matrix4\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"On clicking 'execute'\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Matrix\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.manualTrigger",
      "n8n-nodes-base.matrix",
      "n8n-nodes-base.if",
      "n8n-nodes-base.matrix",
      "n8n-nodes-base.matrix",
      "n8n-nodes-base.noOp",
      "n8n-nodes-base.matrix",
      "n8n-nodes-base.matrix"
    ],
    "trigger": null
  }
}