{
  "source": "1212_Twitter_Slack_Automation_Scheduled.json",
  "index": 1,
  "content": "{\n  \"id\": 95,\n  \"name\": \"Scrape Twitter for mentions of company\",\n  \"nodes\": [\n    {\n      \"name\": \"Filter Tweet Data\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        1260,\n        300\n      ],\n      \"parameters\": {\n        \"values\": {\n          \"string\": [\n            {\n              \"name\": \"Tweet\",\n              \"value\": \"={{$node[\\\"Get last 50 mentions\\\"].json[\\\"text\\\"]}}\"\n            },\n            {\n              \"name\": \"Tweet URL\",\n              \"value\": \"=https://twitter.com/{{$node[\\\"Get last 50 mentions\\\"].json[\\\"user\\\"][\\\"screen_name\\\"]}}/status/{{$node[\\\"Get last 50 mentions\\\"].json[\\\"id_str\\\"]}}\"\n            }\n          ]\n        },\n        \"options\": {},\n        \"keepOnlySet\": true\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Run Every 10 Minutes\",\n      \"type\": \"n8n-nodes-base.cron\",\n      \"position\": [\n        260,\n        320\n      ],\n      \"parameters\": {\n        \"triggerTimes\": {\n          \"item\": [\n            {\n              \"mode\": \"everyX\",\n              \"unit\": \"minutes\",\n              \"value\": 10\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Now - 10 minutes\",\n      \"type\": \"n8n-nodes-base.dateTime\",\n      \"position\": [\n        620,\n        320\n      ],\n      \"parameters\": {\n        \"value\": \"={{Date()}}\",\n        \"action\": \"calculate\",\n        \"options\": {},\n        \"duration\": \"={{$node[\\\"Run Every 10 Minutes\\\"].parameter[\\\"triggerTimes\\\"][\\\"item\\\"][0][\\\"value\\\"]}}\",\n        \"timeUnit\": \"={{$node[\\\"Run Every 10 Minutes\\\"].parameter[\\\"triggerTimes\\\"][\\\"item\\\"][0][\\\"unit\\\"]}}\",\n        \"operation\": \"subtract\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Get last 50 mentions\",\n      \"type\": \"n8n-nodes-base.twitter\",\n      \"position\": [\n        820,\n        320\n      ],\n      \"parameters\": {\n        \"operation\": \"search\",\n        \"searchText\": \"={{$node[\\\"Setup\\\"].parameter[\\\"values\\\"][\\\"string\\\"][1][\\\"value\\\"]}}\",\n        \"additionalFields\": {}\n      },\n      \"credentials\": {\n        \"twitterOAuth1Api\": {\n          \"id\": \"27\",\n          \"name\": \"86-88 Twitter\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Created since last run?\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        1020,\n        320\n      ],\n      \"parameters\": {\n        \"conditions\": {\n          \"dateTime\": [\n            {\n              \"value1\": \"={{$json[\\\"created_at\\\"]}}\",\n              \"value2\": \"={{$items(\\\"Now - 10 minutes\\\", 0, 0)[0].json.data}}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Setup\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        440,\n        320\n      ],\n      \"parameters\": {\n        \"values\": {\n          \"string\": [\n            {\n              \"name\": \"slackChannel\",\n              \"value\": \"#recent-tweets\"\n            },\n            {\n              \"name\": \"twitterSearchValue\",\n              \"value\": \"@n8n_io\"\n            }\n          ]\n        },\n        \"options\": {}\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Post to Slack\",\n      \"type\": \"n8n-nodes-base.slack\",\n      \"position\": [\n        1440,\n        300\n      ],\n      \"parameters\": {\n        \"text\": \"=New Mention!: {{$node[\\\"Filter Tweet Data\\\"].json[\\\"Tweet\\\"]}}.\\nSee it here: {{$node[\\\"Filter Tweet Data\\\"].json[\\\"Tweet URL\\\"]}}\",\n        \"channel\": \"={{$node[\\\"Setup\\\"].parameter[\\\"values\\\"][\\\"string\\\"][0][\\\"value\\\"]}}\",\n        \"attachments\": [],\n        \"otherOptions\": {}\n      },\n      \"credentials\": {\n        \"slackApi\": {\n          \"id\": \"53\",\n          \"name\": \"Slack Access Token\"\n        }\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": true,\n  \"settings\": {},\n  \"connections\": {\n    \"Setup\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Now - 10 minutes\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Now - 10 minutes\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get last 50 mentions\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Filter Tweet Data\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Post to Slack\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get last 50 mentions\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Created since last run?\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Run Every 10 Minutes\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Setup\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Created since last run?\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Filter Tweet Data\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.set",
      "n8n-nodes-base.cron",
      "n8n-nodes-base.dateTime",
      "n8n-nodes-base.twitter",
      "n8n-nodes-base.if",
      "n8n-nodes-base.set",
      "n8n-nodes-base.slack"
    ],
    "trigger": null
  }
}