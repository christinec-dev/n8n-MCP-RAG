{
  "source": "2045_Schedule_HTTP_Create_Scheduled.json",
  "index": 1,
  "content": "{\n  \"meta\": {\n    \"instanceId\": \"6045c639951d83c8706b0dd8d6330164bda01fe58f103cedc2c276bf1f9c11f1\"\n  },\n  \"nodes\": [\n    {\n      \"id\": \"d2a24a9b-9cf3-4de0-82e7-5d858658d4b4\",\n      \"name\": \"Extract specific content\",\n      \"type\": \"n8n-nodes-base.html\",\n      \"notes\": \"Extract selected headlines, editor's picks, spotlight etc.\",\n      \"position\": [\n        800,\n        340\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"cleanUpText\": true\n        },\n        \"operation\": \"extractHtmlContent\",\n        \"extractionValues\": {\n          \"values\": [\n            {\n              \"key\": \"Headline #1\",\n              \"cssSelector\": \"#site-content > div:nth-child(1) > section > div > div > div.layout-desktop__grid.layout-desktop__grid--span4.layout-desktop__grid--column-start-1.layout-desktop__grid--row-start-1.layout-desktop__grid--with-border.layout--default > div > div > div > div.story-group-stacked__primary-story > div > div > div > div > div.primary-story__teaser\"\n            },\n            {\n              \"key\": \"Headline #2\",\n              \"cssSelector\": \"#site-content > div:nth-child(1) > section > div > div > div.layout-desktop__grid.layout-desktop__grid--span6.layout-desktop__grid--column-start-5.layout-desktop__grid--row-start-1.layout-desktop__grid--with-border.layout--default > div > div > div > div > div > div.story-group__article.story-group__article--featured > div > div.featured-story-content > div.headline.js-teaser-headline.headline--scale-5.headline--color-black > a > span\"\n            },\n            {\n              \"key\": \"Editor's Picks\",\n              \"cssSelector\": \"#site-content > div:nth-child(1) > section > div > div > div.layout-desktop__grid.layout-desktop__grid--span2.layout-desktop__grid--column-start-11.layout-desktop__grid--row-start-1.layout--default > div\"\n            },\n            {\n              \"key\": \"Top Stories\",\n              \"cssSelector\": \"#site-content > div:nth-child(3) > section > div\",\n              \"skipSelectors\": \"h2\"\n            },\n            {\n              \"key\": \"Spotlight\",\n              \"cssSelector\": \"#site-content > div:nth-child(6) > section\",\n              \"skipSelectors\": \"h2\"\n            },\n            {\n              \"key\": \"Various News\",\n              \"cssSelector\": \"#site-content > div:nth-child(8) > section\",\n              \"skipSelectors\": \"h2\"\n            },\n            {\n              \"key\": \"Europe News\",\n              \"cssSelector\": \"#site-content > div:nth-child(13) > section\",\n              \"skipSelectors\": \"h2\"\n            }\n          ]\n        }\n      },\n      \"notesInFlow\": true,\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"38af5df2-65ce-4f04-aed3-6f71d81a37df\",\n      \"name\": \"Get financial news online\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"notes\": \"Url : https://www.ft.com/\",\n      \"position\": [\n        580,\n        340\n      ],\n      \"parameters\": {\n        \"url\": \"https://www.ft.com/\",\n        \"options\": {}\n      },\n      \"notesInFlow\": true,\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"764b2209-bf20-4feb-b000-fa261459a617\",\n      \"name\": \"Schedule Trigger\",\n      \"type\": \"n8n-nodes-base.scheduleTrigger\",\n      \"position\": [\n        360,\n        340\n      ],\n      \"parameters\": {\n        \"rule\": {\n          \"interval\": [\n            {\n              \"triggerAtHour\": 7\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"96b337ba-6fe7-47ec-8385-58bfc6c789cb\",\n      \"name\": \"Google Gemini Chat Model\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatGoogleGemini\",\n      \"position\": [\n        1200,\n        520\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"googlePalmApi\": {\n          \"id\": \"450x4z8bKvomb0tZ\",\n          \"name\": \"Google Gemini(PaLM) Api account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"925eabf3-3619-4da2-be2c-bda97c605d4d\",\n      \"name\": \"Gather the elements\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        1020,\n        340\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"5412a5ee-dbbe-4fcc-98a5-6fafc37b94d1\",\n              \"name\": \"News together\",\n              \"type\": \"string\",\n              \"value\": \"=Yahoo news :\\n\\n{{ $json['Headline '] }};\\n\\n{{ $('HTML').item.json['News #1'] }};\\n\\n{{ $('HTML').item.json['News #2'] }};\\n\\nFinancial times news :\\n\\n{{ $('Extract specific content').item.json['Headline #1'] }};\\n\\n{{ $('Extract specific content').item.json['Headline #2'] }};\\n\\n{{ $('Extract specific content').item.json['Editor\\\\'s Picks'] }};\\n\\n{{ $('Extract specific content').item.json['Top Stories'] }};\\n\\n{{ $('Extract specific content').item.json.Spotlight }};\\n\\n{{ $('Extract specific content').item.json['Various News'] }};\\n\\n{{ $('Extract specific content').item.json['Europe News'] }};\\n\\n\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"5445b14f-25e8-4759-82d4-985961ca7fdd\",\n      \"name\": \"AI Agent\",\n      \"type\": \"@n8n/n8n-nodes-langchain.agent\",\n      \"position\": [\n        1200,\n        340\n      ],\n      \"parameters\": {\n        \"text\": \"=Here are the news to summarise :\\n\\n{{ $json['News together'] }}\",\n        \"options\": {\n          \"systemMessage\": \"You role is to summarise the financial news from today. The summary will help an investor to have a clear view of the market, and to make better choice. \\n\\nYou will write the body of an e-mail using a well structured html format\"\n        },\n        \"promptType\": \"define\"\n      },\n      \"typeVersion\": 1.6\n    },\n    {\n      \"id\": \"30b76eac-d646-44d8-bc41-46aa2d9fe05f\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -200,\n        200\n      ],\n      \"parameters\": {\n        \"width\": 683.6774193548385,\n        \"height\": 581.4193548387093,\n        \"content\": \"# Financial News Recap Workflow\\n\\nThis workflow automates the daily email delivery of curated financial news to a designated recipient at 7:00 AM. It extracts relevant financial news articles, structures the content, and sends it in a concise summary format via Microsoft Outlook.\\n\\n### Workflow Steps\\n1. **Schedule Trigger** \\n Sets the workflow to activate daily at 7:00 AM.\\n2. **Fetch Financial News** \\n Retrieves financial news content from [ft.com](https://www.ft.com/) using an HTTP Request node.\\n3. **Extract News Headlines and Sections** \\n Using CSS selectors, this node parses specific sections of the HTML page to gather key headlines and sections:\\n - Headline #1, Headline #2\\n - Editor's Picks\\n - etc.\\n4. **Aggregate News Content** \\n Combines all extracted news sections into a single data set, organizing content under relevant categories.\\n5. **AI Agent for Summarization** \\n A Google Gemini Chat Model generates a structured summary in HTML format, optimized to provide investors with a clear market overview.\\n6. **Email Dispatch** \\n Sends the summarized content via Microsoft Outlook with a subject \\\"Financial news from today,\\\" formatted in HTML for clarity and readability.\\n\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"7f2b6e9a-8b14-4083-a05c-3b76aae601a8\",\n      \"name\": \"Send the summary by e-mail\",\n      \"type\": \"n8n-nodes-base.microsoftOutlook\",\n      \"position\": [\n        1540,\n        340\n      ],\n      \"parameters\": {\n        \"subject\": \"Financial news from today\",\n        \"bodyContent\": \"=News of the day : \\n\\n{{ $json.output }}\",\n        \"toRecipients\": \"\",\n        \"additionalFields\": {\n          \"bodyContentType\": \"html\"\n        }\n      },\n      \"credentials\": {\n        \"microsoftOutlookOAuth2Api\": {\n          \"id\": \"8asOQiRWBGic8ei8\",\n          \"name\": \"Microsoft Outlook account\"\n        }\n      },\n      \"typeVersion\": 2\n    }\n  ],\n  \"pinData\": {},\n  \"connections\": {\n    \"AI Agent\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Send the summary by e-mail\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Schedule Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get financial news online\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Gather the elements\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"AI Agent\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Extract specific content\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Gather the elements\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Google Gemini Chat Model\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"AI Agent\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get financial news online\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Extract specific content\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.html",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.scheduleTrigger",
      "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "n8n-nodes-base.set",
      "@n8n/n8n-nodes-langchain.agent",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.microsoftOutlook"
    ],
    "trigger": "schedule trigger"
  }
}