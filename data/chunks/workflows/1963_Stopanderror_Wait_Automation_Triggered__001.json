{
  "source": "1963_Stopanderror_Wait_Automation_Triggered.json",
  "index": 1,
  "content": "{\n  \"id\": \"qAzZekQuABuH8uho\",\n  \"meta\": {\n    \"instanceId\": \"fb8bc2e315f7f03c97140b30aa454a27bc7883a19000fa1da6e6b571bf56ad6d\"\n  },\n  \"name\": \"Retry on fail except for known error Template\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"fa6fb462-8c1b-4cab-a9f6-876e67688786\",\n      \"name\": \"Retry limit reached\",\n      \"type\": \"n8n-nodes-base.stopAndError\",\n      \"position\": [\n        -940,\n        500\n      ],\n      \"parameters\": {\n        \"errorMessage\": \"Retry limit reached\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"9627165d-1854-4a4f-b840-721f8d779b89\",\n      \"name\": \"Set tries\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        -940,\n        260\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"cd93a7f6-4c06-4e8a-8d0d-e812c5ec4bc5\",\n              \"name\": \"tries\",\n              \"type\": \"number\",\n              \"value\": \"={{ $json.tries || 0 }}\"\n            }\n          ]\n        },\n        \"includeOtherFields\": true\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"466efd16-4922-4e61-bc81-d8e8a1d8ea61\",\n      \"name\": \"Update tries\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        -60,\n        500\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"df3c9b29-afa6-4e08-868d-5b7e8202eefa\",\n              \"name\": \"tries\",\n              \"type\": \"number\",\n              \"value\": \"={{ $('Set tries').item.json.tries + 1 }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"a787761f-0a9d-4834-9a65-ac3b9a65b23e\",\n      \"name\": \"Wait\",\n      \"type\": \"n8n-nodes-base.wait\",\n      \"position\": [\n        -280,\n        500\n      ],\n      \"webhookId\": \"9d3b561f-4afd-478c-8f6e-60641d4f1d0b\",\n      \"parameters\": {},\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"ff46ce53-69ca-4f88-8cc9-21b8d1e5557a\",\n      \"name\": \"Catch known error\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        -500,\n        380\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"6a379b06-0b04-4ae4-9bf9-394bd40744b7\",\n              \"operator\": {\n                \"type\": \"string\",\n                \"operation\": \"contains\"\n              },\n              \"leftValue\": \"={{ $json.error }}\",\n              \"rightValue\": \"could not be found\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"0e9c282a-b521-4549-8ad5-9783b4d614b3\",\n      \"name\": \"Replace Me\",\n      \"type\": \"n8n-nodes-base.noOp\",\n      \"onError\": \"continueErrorOutput\",\n      \"position\": [\n        -720,\n        260\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"3b2b6839-65b9-4b0e-8e10-2010014fc8d9\",\n      \"name\": \"Success\",\n      \"type\": \"n8n-nodes-base.noOp\",\n      \"position\": [\n        -500,\n        140\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"8d972714-8dcb-4ad6-8b5f-fb30a5f3294f\",\n      \"name\": \"Known Error\",\n      \"type\": \"n8n-nodes-base.noOp\",\n      \"position\": [\n        -280,\n        260\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"e98cdc4a-73a4-41d1-bf5e-2a3bcfbf23af\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -560,\n        280\n      ],\n      \"parameters\": {\n        \"width\": 220,\n        \"height\": 240,\n        \"content\": \"## Set filter\\nFilter by status code or error message.\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"e5b76cd3-d90a-4d4b-a659-ff142558cbac\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -780,\n        80\n      ],\n      \"parameters\": {\n        \"width\": 220,\n        \"height\": 320,\n        \"content\": \"## Replace Node\\nReplace this by the Node which retrieves the admired data.\\nEnable error branch in Node Settings and connect the outputs like in this example\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"7ca409e6-7faf-48d5-972e-abbba3f011ef\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -1220,\n        420\n      ],\n      \"parameters\": {\n        \"width\": 220,\n        \"height\": 220,\n        \"content\": \"## Set max tries\\nChange if needed, default is 3\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"a13168eb-c4d1-46dd-857b-9a5e13ed1059\",\n      \"name\": \"Manual Trigger\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        -1160,\n        260\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"44c17908-96df-471b-97fc-9ce4c3acb3bb\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -340,\n        400\n      ],\n      \"parameters\": {\n        \"width\": 220,\n        \"height\": 240,\n        \"content\": \"## Set Wait\\nChange duration if needed, default is 5s\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"da7413f0-7962-4cf1-90ad-168cfc3d4c0d\",\n      \"name\": \"Sticky Note4\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -560,\n        80\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 220,\n        \"height\": 200,\n        \"content\": \"Continue here, if the request succeeded\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"e95c4b6a-2c63-4916-a239-91463728262a\",\n      \"name\": \"Sticky Note5\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -340,\n        200\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 220,\n        \"height\": 200,\n        \"content\": \"Continue here, if the request failed\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"8d8f7df0-35e3-4b94-96a3-6d4593732d0e\",\n      \"name\": \"Sticky Note6\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -1000,\n        420\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 220,\n        \"height\": 220,\n        \"content\": \"Stop here, if all tries have failed\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"893b3e51-f30f-4e2f-9e96-e1fc6f8dd0a3\",\n      \"name\": \"Sticky Note7\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -1000,\n        200\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 220,\n        \"height\": 220,\n        \"content\": \"Define counter for tries\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"cd1b1abb-dbd3-4023-8a6b-49c4ff5510a8\",\n      \"name\": \"If tries left\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        -1160,\n        500\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"b18f784a-4386-4ced-a9e1-ce5a21ad036e\",\n              \"operator\": {\n                \"type\": \"number\",\n                \"operation\": \"lt\"\n              },\n              \"leftValue\": \"={{ $json.tries }}\",\n              \"rightValue\": 3\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"ccce734b-c726-4b0a-9d37-7bd6df90e840\",\n      \"name\": \"Sticky Note8\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -120,\n        440\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 220,\n        \"height\": 220,\n        \"content\": \"Update counter for tries\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"ad610eea-ad27-4a3b-b662-edea474bc5ff\",\n  \"connections\": {\n    \"Wait\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Update tries\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Set tries\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Replace Me\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Replace Me\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Success\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Catch known error\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Update tries\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"If tries left\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"If tries left\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set tries\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Retry limit reached\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Manual Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set tries\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Catch known error\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Known Error\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Wait\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.stopAndError",
      "n8n-nodes-base.set",
      "n8n-nodes-base.set",
      "n8n-nodes-base.wait",
      "n8n-nodes-base.if",
      "n8n-nodes-base.noOp",
      "n8n-nodes-base.noOp",
      "n8n-nodes-base.noOp",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.manualTrigger",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.if",
      "n8n-nodes-base.stickyNote"
    ],
    "trigger": "manual trigger"
  }
}