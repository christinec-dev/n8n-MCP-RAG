{
  "source": "0137_Manual_Editimage_Create_Webhook.json",
  "index": 1,
  "content": "{\n  \"nodes\": [\n    {\n      \"name\": \"On clicking 'execute'\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        260,\n        210\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Fetch new followers\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        460,\n        210\n      ],\n      \"parameters\": {\n        \"url\": \"https://api.twitter.com/2/users/{YOUR_USER_ID}/followers?user.fields=profile_image_url&max_results=3\",\n        \"options\": {},\n        \"authentication\": \"headerAuth\"\n      },\n      \"credentials\": {\n        \"httpHeaderAuth\": {\n          \"id\": \"2\",\n          \"name\": \"Twitter Token\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Item Lists\",\n      \"type\": \"n8n-nodes-base.itemLists\",\n      \"position\": [\n        660,\n        210\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"fieldToSplitOut\": \"data\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Function\",\n      \"type\": \"n8n-nodes-base.function\",\n      \"position\": [\n        1660,\n        210\n      ],\n      \"parameters\": {\n        \"functionCode\": \"const binary = {};\\nfor (let i=0; i < items.length; i++) {\\n  binary[`data${i}`] = items[i].binary.avatar;\\n}\\n\\nreturn [\\n  {\\n    json: {\\n      numIcons: items.length,\\n    },\\n    binary,\\n  }\\n];\\n\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Merge\",\n      \"type\": \"n8n-nodes-base.merge\",\n      \"position\": [\n        1910,\n        110\n      ],\n      \"parameters\": {\n        \"mode\": \"mergeByIndex\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Fetching images\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        860,\n        210\n      ],\n      \"parameters\": {\n        \"url\": \"={{$json[\\\"profile_image_url\\\"].replace('normal','400x400')}}\",\n        \"options\": {},\n        \"responseFormat\": \"file\",\n        \"dataPropertyName\": \"avatar\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Fetch bg\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1660,\n        -40\n      ],\n      \"parameters\": {\n        \"url\": \"{TEMPLATE_IMAGE_URL}\",\n        \"options\": {},\n        \"responseFormat\": \"file\",\n        \"dataPropertyName\": \"bg\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Resize\",\n      \"type\": \"n8n-nodes-base.editImage\",\n      \"position\": [\n        1060,\n        210\n      ],\n      \"parameters\": {\n        \"width\": 200,\n        \"height\": 200,\n        \"options\": {},\n        \"operation\": \"resize\",\n        \"dataPropertyName\": \"avatar\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Crop\",\n      \"type\": \"n8n-nodes-base.editImage\",\n      \"position\": [\n        1260,\n        210\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"format\": \"png\"\n        },\n        \"operation\": \"multiStep\",\n        \"operations\": {\n          \"operations\": [\n            {\n              \"width\": 200,\n              \"height\": 200,\n              \"operation\": \"create\",\n              \"backgroundColor\": \"#000000ff\"\n            },\n            {\n              \"color\": \"#ffffff00\",\n              \"operation\": \"draw\",\n              \"primitive\": \"circle\",\n              \"endPositionX\": 25,\n              \"endPositionY\": 50,\n              \"startPositionX\": 100,\n              \"startPositionY\": 100\n            },\n            {\n              \"operator\": \"In\",\n              \"operation\": \"composite\",\n              \"dataPropertyNameComposite\": \"avatar\"\n            }\n          ]\n        },\n        \"dataPropertyName\": \"avatar\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Edit Image\",\n      \"type\": \"n8n-nodes-base.editImage\",\n      \"position\": [\n        2110,\n        110\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"operation\": \"multiStep\",\n        \"operations\": {\n          \"operations\": [\n            {\n              \"operation\": \"composite\",\n              \"positionX\": 1000,\n              \"positionY\": 375,\n              \"dataPropertyNameComposite\": \"data0\"\n            },\n            {\n              \"operation\": \"composite\",\n              \"positionX\": 1100,\n              \"positionY\": 375,\n              \"dataPropertyNameComposite\": \"data1\"\n            },\n            {\n              \"operation\": \"composite\",\n              \"positionX\": 1200,\n              \"positionY\": 375,\n              \"dataPropertyNameComposite\": \"data2\"\n            }\n          ]\n        },\n        \"dataPropertyName\": \"bg\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Resize1\",\n      \"type\": \"n8n-nodes-base.editImage\",\n      \"position\": [\n        1450,\n        210\n      ],\n      \"parameters\": {\n        \"width\": 75,\n        \"height\": 75,\n        \"options\": {},\n        \"operation\": \"resize\",\n        \"dataPropertyName\": \"avatar\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"HTTP Request\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        2310,\n        110\n      ],\n      \"parameters\": {\n        \"url\": \"https://api.twitter.com/1.1/account/update_profile_banner.json\",\n        \"options\": {\n          \"bodyContentType\": \"multipart-form-data\"\n        },\n        \"requestMethod\": \"POST\",\n        \"authentication\": \"oAuth1\",\n        \"jsonParameters\": true,\n        \"sendBinaryData\": true,\n        \"binaryPropertyName\": \"banner:bg\"\n      },\n      \"credentials\": {\n        \"oAuth1Api\": {\n          \"id\": \"13\",\n          \"name\": \"Twitter OAuth1.0\"\n        }\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"connections\": {\n    \"Crop\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Resize1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Merge\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Edit Image\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Resize\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Crop\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Resize1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Function\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Fetch bg\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Merge\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Function\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Merge\",\n            \"type\": \"main\",\n            \"index\": 1\n          }\n        ]\n      ]\n    },\n    \"Edit Image\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"HTTP Request\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Item Lists\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Fetching images\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Fetching images\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Resize\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Fetch new followers\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Item Lists\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"On clicking 'execute'\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Fetch new followers\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.manualTrigger",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.itemLists",
      "n8n-nodes-base.function",
      "n8n-nodes-base.merge",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.editImage",
      "n8n-nodes-base.editImage",
      "n8n-nodes-base.editImage",
      "n8n-nodes-base.editImage",
      "n8n-nodes-base.httpRequest"
    ],
    "trigger": null
  }
}