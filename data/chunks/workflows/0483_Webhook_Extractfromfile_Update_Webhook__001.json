{
  "source": "0483_Webhook_Extractfromfile_Update_Webhook.json",
  "index": 1,
  "content": "{\n  \"meta\": {\n    \"instanceId\": \"257476b1ef58bf3cb6a46e65fac7ee34a53a5e1a8492d5c6e4da5f87c9b82833\",\n    \"templateId\": \"2222\"\n  },\n  \"nodes\": [\n    {\n      \"id\": \"a131803a-ab1d-4a89-b51d-8a875fa2caaf\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        440,\n        267.87369152409246\n      ],\n      \"parameters\": {\n        \"width\": 344,\n        \"height\": 303,\n        \"content\": \"## Testing \\n\\nTesting can be done with CURL or similar.\\n\\nFor File posting using Form Data\\ncurl -X POST -F file=@filepath.xml <WEBHOOK_URL>\\n\\nThis can also be tested using the Test workflow\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"f9ae7afb-48a6-45bf-9c55-0e5fd63afede\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1720,\n        747.8736915240925\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 496,\n        \"height\": 256,\n        \"content\": \"## Response\\nWhere possible we will be returning a JSON object.\\n```\\n{\\n  \\\"status\\\": \\\"ok\\\",\\n  \\\"data\\\": { // JSON DATA }\\n}\\n```\\nIf there is an error\\n```\\n{\\n  \\\"status\\\": \\\"error\\\",\\n  \\\"data\\\": \\\"error message to display\\\"\\n}\\n```\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"f37712fb-88cc-4d5a-9c37-6b9d962052e2\",\n      \"name\": \"Extract From File\",\n      \"type\": \"n8n-nodes-base.extractFromFile\",\n      \"onError\": \"continueErrorOutput\",\n      \"position\": [\n        1080,\n        307.87369152409246\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"operation\": \"xml\",\n        \"destinationKey\": \"xml\",\n        \"binaryPropertyName\": \"data0\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"e70c134d-a546-447d-a0cb-96c5573232e1\",\n      \"name\": \"Error Response\",\n      \"type\": \"n8n-nodes-base.respondToWebhook\",\n      \"onError\": \"continueErrorOutput\",\n      \"position\": [\n        1480,\n        1067.8736915240925\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"responseCode\": 500\n        },\n        \"respondWith\": \"json\",\n        \"responseBody\": \"{\\n  \\\"status\\\": \\\"error\\\",\\n  \\\"data\\\": \\\"There was a problem converting your XML. Please refresh the page and try again.\\\"\\n}\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"eacf0315-75fb-4461-b5d3-d8e7c5572492\",\n      \"name\": \"POST\",\n      \"type\": \"n8n-nodes-base.webhook\",\n      \"position\": [\n        460,\n        587.8736915240925\n      ],\n      \"webhookId\": \"add125c9-1591-4e1c-b68c-8032b99b6010\",\n      \"parameters\": {\n        \"path\": \"tool/xml-to-json\",\n        \"options\": {\n          \"binaryPropertyName\": \"data\"\n        },\n        \"httpMethod\": \"POST\",\n        \"responseMode\": \"responseNode\"\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"37cb0178-2010-4cfb-8f12-84e8a45a3553\",\n      \"name\": \"XML\",\n      \"type\": \"n8n-nodes-base.xml\",\n      \"onError\": \"continueErrorOutput\",\n      \"position\": [\n        1380,\n        407.87369152409246\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"dataPropertyName\": \"xml\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"4aa36858-f9ee-4653-81d5-7276347abcc2\",\n      \"name\": \"Success Response\",\n      \"type\": \"n8n-nodes-base.respondToWebhook\",\n      \"onError\": \"continueErrorOutput\",\n      \"position\": [\n        1500,\n        667.8736915240925\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"responseCode\": 200\n        },\n        \"respondWith\": \"json\",\n        \"responseBody\": \"={\\n  \\\"status\\\": \\\"OK\\\",\\n  \\\"data\\\": {{ JSON.stringify($json) }}\\n}\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"0425203d-8185-4b27-b7b5-3b4f0e775981\",\n      \"name\": \"Already JSON\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        1080,\n        667.8736915240925\n      ],\n      \"parameters\": {\n        \"mode\": \"raw\",\n        \"options\": {},\n        \"jsonOutput\": \"={{ $json.body }}\\n\"\n      },\n      \"typeVersion\": 3.3\n    },\n    {\n      \"id\": \"9ac12f08-a09b-45e9-8ebd-55ff6d8a63bd\",\n      \"name\": \"Change Field\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"onError\": \"continueErrorOutput\",\n      \"position\": [\n        1080,\n        487.87369152409246\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"b2e3bec3-221e-4f1d-b439-f75174f68ed1\",\n              \"name\": \"xml\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.body }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.3\n    },\n    {\n      \"id\": \"d722f969-f3d3-4f4a-9fbd-4e2d30556408\",\n      \"name\": \"Sticky Note4\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        380,\n        240\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 1917.663445686706,\n        \"height\": 1027.3921976438187,\n        \"content\": \"\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"7618bd02-6d56-44a1-aaa3-de805e1ef18d\",\n      \"name\": \"Switch\",\n      \"type\": \"n8n-nodes-base.switch\",\n      \"position\": [\n        660,\n        587.8736915240925\n      ],\n      \"parameters\": {\n        \"rules\": {\n          \"values\": [\n            {\n              \"outputKey\": \"File\",\n              \"conditions\": {\n                \"options\": {\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"operator\": {\n                      \"type\": \"object\",\n                      \"operation\": \"notEmpty\",\n                      \"singleValue\": true\n                    },\n                    \"leftValue\": \"={{ $binary }}\",\n                    \"rightValue\": \"\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            },\n            {\n              \"outputKey\": \"Data\",\n              \"conditions\": {\n                \"options\": {\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"id\": \"8930ce1a-a4cc-4094-b08f-a23a13dec40c\",\n                    \"operator\": {\n                      \"name\": \"filter.operator.equals\",\n                      \"type\": \"string\",\n                      \"operation\": \"equals\"\n                    },\n                    \"leftValue\": \"={{ $json.headers['content-type'] }}\",\n                    \"rightValue\": \"text/plain\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            },\n            {\n              \"outputKey\": \"appXML\",\n              \"conditions\": {\n                \"options\": {\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"id\": \"e3108952-daa2-425c-8c70-7d2ce0949e0c\",\n                    \"operator\": {\n                      \"name\": \"filter.operator.equals\",\n                      \"type\": \"string\",\n                      \"operation\": \"equals\"\n                    },\n                    \"leftValue\": \"={{ $json.headers['content-type'] }}\",\n                    \"rightValue\": \"=application/xml\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            }\n          ]\n        },\n        \"options\": {\n          \"fallbackOutput\": \"extra\"\n        }\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"b8bde0ed-7d85-4582-89c4-08a0829c4df8\",\n      \"name\": \"Send to Error Channel\",\n      \"type\": \"n8n-nodes-base.slack\",\n      \"position\": [\n        1760,\n        1067.8736915240925\n      ],\n      \"parameters\": {\n        \"text\": \":interrobang: Error in XML to JSON tool\",\n        \"select\": \"channel\",\n        \"blocksUi\": \"={\\n\\t\\\"blocks\\\": [\\n{\\n\\t\\t\\t\\\"type\\\": \\\"section\\\",\\n\\t\\t\\t\\\"text\\\": {\\n\\t\\t\\t\\t\\\"type\\\": \\\"mrkdwn\\\",\\n\\t\\t\\t\\t\\\"text\\\": \\\":interrobang: Error in XML to JSON tool\\\"\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\t{\\n\\t\\t\\t\\\"type\\\": \\\"section\\\",\\n\\t\\t\\t\\\"text\\\": {\\n\\t\\t\\t\\t\\\"type\\\": \\\"mrkdwn\\\",\\n\\t\\t\\t\\t\\\"text\\\": \\\"*Time:*\\\\n{{ $now.format('dd/MM/yyyy HH:mm:ss') }}\\\\n*Execution ID:*\\\\n{{ $execution.id }}\\\\n\\\"\\n\\t\\t\\t},\\n\\t\\t\\t\\\"accessory\\\": {\\n\\t\\t\\t\\t\\\"type\\\": \\\"button\\\",\\n\\t\\t\\t\\t\\\"text\\\": {\\n\\t\\t\\t\\t\\t\\\"type\\\": \\\"plain_text\\\",\\n\\t\\t\\t\\t\\t\\\"text\\\": \\\"Go to Error\\\",\\n\\t\\t\\t\\t\\t\\\"emoji\\\": true\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\\"value\\\": \\\"error\\\",\\n\\t\\t\\t\\t\\\"url\\\": \\\"https://internal.users.n8n.cloud/workflow/{{ $workflow.id }}/executions/{{ $execution.id }}\\\",\\n\\t\\t\\t\\t\\\"action_id\\\": \\\"button-action\\\",\\n\\t\\t\\t\\t\\\"style\\\": \\\"primary\\\"\\n\\t\\t\\t}\\n\\t\\t}\\n\\t]\\n}\",\n        \"channelId\": {\n          \"__rl\": true,\n          \"mode\": \"name\",\n          \"value\": \"#alerts-xml-to-json\"\n        },\n        \"messageType\": \"block\",\n        \"otherOptions\": {}\n      },\n      \"credentials\": {\n        \"slackApi\": {\n          \"id\": \"6\",\n          \"name\": \"Idea Bot\"\n        }\n      },\n      \"typeVersion\": 2.1\n    }\n  ],\n  \"pinData\": {},\n  \"connections\": {\n    \"XML\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Success Response\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Error Response\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"POST\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Switch\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Switch\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Extract From File\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Change Field\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Already JSON\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Error Response\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Already JSON\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Success Response\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Change Field\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"XML\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Error Response\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Error Response\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Send to Error Channel\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Send to Error Channel\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Success Response\": {\n      \"main\": [\n        null,\n        [\n          {\n            \"node\": \"Send to Error Channel\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Extract From File\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"XML\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Error Response\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.extractFromFile",
      "n8n-nodes-base.respondToWebhook",
      "n8n-nodes-base.webhook",
      "n8n-nodes-base.xml",
      "n8n-nodes-base.respondToWebhook",
      "n8n-nodes-base.set",
      "n8n-nodes-base.set",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.switch",
      "n8n-nodes-base.slack"
    ],
    "trigger": null
  }
}