{
  "source": "1160_Mautic_Woocommerce_Create_Triggered.json",
  "index": 1,
  "content": "{\n  \"id\": 83,\n  \"name\": \"New WooCommerce Customer to Mautic\",\n  \"nodes\": [\n    {\n      \"name\": \"Check for Existing\",\n      \"type\": \"n8n-nodes-base.mautic\",\n      \"position\": [\n        280,\n        480\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"search\": \"={{$json[\\\"email\\\"]}}\"\n        },\n        \"operation\": \"getAll\",\n        \"authentication\": \"oAuth2\"\n      },\n      \"credentials\": {\n        \"mauticOAuth2Api\": {\n          \"id\": \"54\",\n          \"name\": \"Mautic account\"\n        }\n      },\n      \"typeVersion\": 1,\n      \"alwaysOutputData\": true\n    },\n    {\n      \"name\": \"If New\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        460,\n        480\n      ],\n      \"parameters\": {\n        \"conditions\": {\n          \"string\": [\n            {\n              \"value1\": \"={{$json[\\\"id\\\"]}}\",\n              \"operation\": \"isEmpty\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Create Contact\",\n      \"type\": \"n8n-nodes-base.mautic\",\n      \"position\": [\n        680,\n        320\n      ],\n      \"parameters\": {\n        \"email\": \"={{$node[\\\"Customer Created\\\"].json[\\\"email\\\"]}}\",\n        \"company\": \"={{$node[\\\"Customer Created\\\"].json[\\\"billing\\\"][\\\"company\\\"]}}\",\n        \"options\": {},\n        \"lastName\": \"={{$node[\\\"Customer Created\\\"].json[\\\"last_name\\\"]}}\",\n        \"firstName\": \"={{$node[\\\"Customer Created\\\"].json[\\\"first_name\\\"]}}\",\n        \"authentication\": \"oAuth2\",\n        \"additionalFields\": {}\n      },\n      \"credentials\": {\n        \"mauticOAuth2Api\": {\n          \"id\": \"54\",\n          \"name\": \"Mautic account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Update Contact\",\n      \"type\": \"n8n-nodes-base.mautic\",\n      \"position\": [\n        680,\n        580\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"contactId\": \"={{$json[\\\"id\\\"]}}\",\n        \"operation\": \"update\",\n        \"updateFields\": {\n          \"lastName\": \"={{$node[\\\"Customer Created or Updated\\\"].json[\\\"last_name\\\"]}}\",\n          \"firstName\": \"={{$node[\\\"Customer Created or Updated\\\"].json[\\\"first_name\\\"]}}\"\n        },\n        \"authentication\": \"oAuth2\"\n      },\n      \"credentials\": {\n        \"mauticOAuth2Api\": {\n          \"id\": \"54\",\n          \"name\": \"Mautic account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Customer Created or Updated\",\n      \"type\": \"n8n-nodes-base.wooCommerceTrigger\",\n      \"position\": [\n        100,\n        480\n      ],\n      \"webhookId\": \"5d89e322-a5e0-4cce-9eab-185e8375175b\",\n      \"parameters\": {\n        \"event\": \"customer.updated\"\n      },\n      \"credentials\": {\n        \"wooCommerceApi\": {\n          \"id\": \"48\",\n          \"name\": \"WooCommerce account\"\n        }\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": false,\n  \"settings\": {\n    \"saveManualExecutions\": true,\n    \"saveExecutionProgress\": true,\n    \"saveDataSuccessExecution\": \"all\"\n  },\n  \"connections\": {\n    \"If New\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Create Contact\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Update Contact\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Check for Existing\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"If New\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Customer Created or Updated\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Check for Existing\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.mautic",
      "n8n-nodes-base.if",
      "n8n-nodes-base.mautic",
      "n8n-nodes-base.mautic",
      "n8n-nodes-base.wooCommerceTrigger"
    ],
    "trigger": null
  }
}