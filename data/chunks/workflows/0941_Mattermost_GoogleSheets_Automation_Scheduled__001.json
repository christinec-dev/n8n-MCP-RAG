{
  "source": "0941_Mattermost_GoogleSheets_Automation_Scheduled.json",
  "index": 1,
  "content": "{\n  \"id\": \"3\",\n  \"name\": \"StatsInstagram\",\n  \"nodes\": [\n    {\n      \"name\": \"Mattermost\",\n      \"type\": \"n8n-nodes-base.mattermost\",\n      \"position\": [\n        1030,\n        290\n      ],\n      \"parameters\": {\n        \"message\": \"=Bonjour ! Voici les stats de notre Instagram {{$json[\\\"Compte\\\"]}} en ce beau matin du {{$node[\\\"Date & Time\\\"].json[\\\"day_today\\\"]}} {{$node[\\\"Date & Time\\\"].json[\\\"data\\\"]}}\\nLe nombre de Followers est de : {{$json[\\\"Followers\\\"]}}\\nNous avons réalisé : {{$json[\\\"Posts\\\"]}} posts, \\nBravo !\",\n        \"channelId\": \"xxxxxxx\",\n        \"attachments\": [],\n        \"otherOptions\": {}\n      },\n      \"credentials\": {\n        \"mattermostApi\": \"API\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Date & Time\",\n      \"type\": \"n8n-nodes-base.dateTime\",\n      \"position\": [\n        640,\n        290\n      ],\n      \"parameters\": {\n        \"value\": \"={{$json[\\\"date_today\\\"]}}\",\n        \"custom\": true,\n        \"options\": {},\n        \"toFormat\": \"DD-MM-YYYY\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Cron\",\n      \"type\": \"n8n-nodes-base.cron\",\n      \"position\": [\n        310,\n        290\n      ],\n      \"parameters\": {\n        \"triggerTimes\": {\n          \"item\": [\n            {\n              \"hour\": 8\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Get the date today\",\n      \"type\": \"n8n-nodes-base.function\",\n      \"position\": [\n        470,\n        290\n      ],\n      \"parameters\": {\n        \"functionCode\": \"var date = new Date().toISOString();\\nvar day = new Date().getDay();\\nconst weekday = [\\\"Dimanche\\\", \\\"Lundi\\\", \\\"Mardi\\\", \\\"Mercredi\\\", \\\"Jeudi\\\", \\\"Vendredi\\\", \\\"Samedi\\\"];\\n\\nitems[0].json.date_today = date;\\nitems[0].json.day_today = weekday[day];\\n\\nreturn items;\\n\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Read data on Google Sheets\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        850,\n        290\n      ],\n      \"parameters\": {\n        \"range\": \"cells\",\n        \"options\": {},\n        \"sheetId\": \"sheetID\",\n        \"authentication\": \"oAuth2\"\n      },\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": \"GoogleAPI\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": false,\n  \"settings\": {},\n  \"connections\": {\n    \"Cron\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get the date today\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Date & Time\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Read data on Google Sheets\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get the date today\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Date & Time\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Read data on Google Sheets\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Mattermost\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.mattermost",
      "n8n-nodes-base.dateTime",
      "n8n-nodes-base.cron",
      "n8n-nodes-base.function",
      "n8n-nodes-base.googleSheets"
    ],
    "trigger": null
  }
}