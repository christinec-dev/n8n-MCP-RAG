{
  "source": "1274_Webhook_Code_Automate_Webhook.json",
  "index": 1,
  "content": "{\n  \"meta\": {\n    \"instanceId\": \"e4f78845dfed9ddcfba1945ae00d12e9a7d76eab052afd19299228ce02349d86\"\n  },\n  \"nodes\": [\n    {\n      \"id\": \"a8b14ffd-4a8b-4a3d-ba54-5997197e5457\",\n      \"name\": \"Sticky Note4\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -2880,\n        340\n      ],\n      \"parameters\": {\n        \"color\": 6,\n        \"width\": 429.96763122593137,\n        \"height\": 322,\n        \"content\": \"### Get Apprropraite Data\\nThese Nodes are to extract only the Required Data from the Webhook Node\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"c8ae8766-3942-4b8d-8815-9e96ab9dc1de\",\n      \"name\": \"Sticky Note6\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -840,\n        340\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 677,\n        \"height\": 660,\n        \"content\": \"### N8N has the Node to convert PDF to Text, but PDF should be converted from Text. Scanned Image PDF will not be converted. \\n\\nYou can use ohter nodes here to convert word file to text or JPG to Text, possiblities are limitless.\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"529f5756-c1a2-4c41-8245-38164543eb8e\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -1334.2232779572741,\n        340\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 477.2230145794152,\n        \"height\": 648.5051458745238,\n        \"content\": \"### Download the File.\\nIf you are using S3 to Upload attachments you can use S3 node here to download the attachment\\n\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"101c6544-d319-495d-a14f-e180f51be1f0\",\n      \"name\": \"Code\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        -2840,\n        480\n      ],\n      \"parameters\": {\n        \"jsCode\": \"// Loop over input items and add a new field called 'myNewField' to the JSON of each one\\nfor (const item of $input.all()) {\\n item.json.myNewField = 1;\\n}\\n\\nreturn $input.all();\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"5d0a1090-9be9-41e1-9a15-26bd6498fd95\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -3300,\n        340\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 398,\n        \"height\": 642,\n        \"content\": \"### Applicant Applied for Job in ERPNext\\n\\nYou need to go to Webhooks in ERPNext and Create a Webhook on Job Applicant Doc Type and trigger should be on insert.\\n\\nFirst do the Test Wehbook and Pin the Webhook.\\n\\nFollow the Tutorial\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"4ed5dfbf-9b16-4f62-83e2-abb63421809b\",\n      \"name\": \"ApplicantData\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        -2640,\n        480\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"8d600a4f-14d3-4840-aea0-665d26e7771b\",\n              \"name\": \"body\",\n              \"type\": \"object\",\n              \"value\": \"={{ $json.body }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"4f141057-8dd6-429a-b48f-fd80b2666882\",\n      \"name\": \"ERPNext - Reject if Resume not Attached\",\n      \"type\": \"n8n-nodes-base.erpNext\",\n      \"position\": [\n        -2380,\n        800\n      ],\n      \"parameters\": {\n        \"docType\": \"Job%20Applicant\",\n        \"operation\": \"update\",\n        \"properties\": {\n          \"customProperty\": [\n            {\n              \"field\": \"status\",\n              \"value\": \"Rejected\"\n            }\n          ]\n        },\n        \"documentName\": \"={{ $('ApplicantData').item.json.body.name }}\"\n      },\n      \"credentials\": {\n        \"erpNextApi\": {\n          \"id\": \"PInpnsxvPkvaiW0z\",\n          \"name\": \"ERPNext account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"de0a9900-4109-4092-ad3b-f36f02517fdf\",\n      \"name\": \"Applied Against Job\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        -2140,\n        460\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"ignoreCase\": true\n        },\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": false,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"abbbd6f3-838e-43fb-a809-6bfffb153244\",\n              \"operator\": {\n                \"type\": \"string\",\n                \"operation\": \"notEquals\"\n              },\n              \"leftValue\": \"={{ $json.body.Job_opening }}\",\n              \"rightValue\": \"None\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"1c8e889b-dcd9-4807-8528-a7f0300bf558\",\n      \"name\": \"ERPNext - Hold Applicant\",\n      \"type\": \"n8n-nodes-base.erpNext\",\n      \"position\": [\n        -2180,\n        800\n      ],\n      \"parameters\": {\n        \"docType\": \"Job%20Applicant\",\n        \"operation\": \"update\",\n        \"properties\": {\n          \"customProperty\": [\n            {\n              \"field\": \"status\",\n              \"value\": \"Hold\"\n            }\n          ]\n        },\n        \"documentName\": \"={{ $('ApplicantData').item.json.body.name }}\"\n      },\n      \"credentials\": {\n        \"erpNextApi\": {\n          \"id\": \"PInpnsxvPkvaiW0z\",\n          \"name\": \"ERPNext account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"548c61dd-bcc3-4a7f-970e-5ff734926499\",\n      \"name\": \"Sticky Note5\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -140,\n        343.6198532285906\n      ],\n      \"parameters\": {\n        \"color\": 6,\n        \"width\": 258,\n        \"height\": 638.3801467714094,\n        \"content\": \"### Get Job Opening Data\\nFrom ERPNext\\n\\nAs Job is applied against a specific Job, you can now get the Job Opening Data which must be having the Job Description.\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"6266e3e0-9bd7-4ab6-a488-55f1b524000f\",\n      \"name\": \"Get Job Opening\",\n      \"type\": \"n8n-nodes-base.erpNext\",\n      \"position\": [\n        -80,\n        620\n      ],\n      \"parameters\": {\n        \"docType\": \"Job%20Opening\",\n        \"operation\": \"get\",\n        \"documentName\": \"={{ $('ApplicantData').item.json.body.Job_opening }}\"\n      },\n      \"credentials\": {\n        \"erpNextApi\": {\n          \"id\": \"PInpnsxvPkvaiW0z\",\n          \"name\": \"ERPNext account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"536755cf-19d6-44a4-8449-635f4562b61f\",\n      \"name\": \"Sticky Note7\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        140,\n        320\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 406.7864870360547,\n        \"height\": 662,\n        \"content\": \"### AI Agent to do its Job\\nOpenAI\\n\\nSee full prompt which tells this AI Agent that you are a recruitment sepcialist and all the roles are defined in this node.\\n\\nIt will shortlist the candidate and will give the descriptive output with candidate fitlevel, score, rating and justification.\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"0072826c-0e24-4c1f-89f9-388dc6e59ae5\",\n      \"name\": \"Sticky Note8\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        980,\n        320\n      ],\n      \"parameters\": {\n        \"color\": 6,\n        \"width\": 438,\n        \"height\": 662,\n        \"content\": \"### Update data in ERPNext\\nHere First node will do the formatting of the data and will convert output from AI Agent to Appropriate Fields which are defined in ERPNext and then will Send to Next Node\\n\\n### ERPNext (HTTP Node)\\nThis node will take the Data from Previouis Node and will update the Applicant Data in ERPNext\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"28f23589-0608-4ed0-9e70-b6cbd31aa387\",\n      \"name\": \"Google Gemini Chat Model\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatGoogleGemini\",\n      \"position\": [\n        220,\n        800\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"modelName\": \"models/gemini-2.0-flash-exp\"\n      },\n      \"credentials\": {\n        \"googlePalmApi\": {\n          \"id\": \"pKFvSpPWSRFpnBoB\",\n          \"name\": \"Google Gemini(PaLM) Api account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"8bdd8f1c-e546-4ffb-a058-a3271fcad156\",\n      \"name\": \"Convert to Fields\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        660,\n        620\n      ],\n      \"parameters\": {\n        \"jsCode\": \"// Input text from the `output` field\\nconst textOutput = $json.output || '';\\n\\n// Function to extract values from the text\\nfunction extractFields(text) {\\n const fields = {};\\n\\n // Regular expressions to extract each field\\n const fitLevelMatch = text.match(/FitLevel:\\\\s*(.+)\\\\n/);\\n const scoreMatch = text.match(/Score:\\\\s*(\\\\d+)\\\\n/);\\n const ratingMatch = text.match(/Rating:\\\\s*(\\\\d+)\\\\n/);\\n const justificationMatch = text.match(/Justification:\\\\s*([\\\\s\\\\S]+)/);\\n\\n // Assign extracted values to the fields\\n fields.fit_level = fitLevelMatch ? fitLevelMatch[1].trim() : null;\\n fields.score = scoreMatch ? scoreMatch[1].trim() : null;\\n fields.applicant_rating = ratingMatch ? ratingMatch[1].trim() : null;\\n fields.justification_by_ai = justificationMatch ? justificationMatch[1].trim() : null;\\n\\n return fields;\\n}\\n\\n// Extract fields from the output\\nconst extractedFields = extractFields(textOutput);\\n\\n// Return the fields as JSON\\nreturn {\\n json: extractedFields\\n};\\n\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"ae1dc677-9ad7-4138-969f-2ee73b8537f9\",\n      \"name\": \"Sticky Note9\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1460,\n        320\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 226.43884349833064,\n        \"height\": 682,\n        \"content\": \"### Selected or Rejected\\n\\nThe criteia for score is that if Score is 80 or above Candidate will be selected Else Rejected.\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"090f4f22-639a-4fc7-8351-04dafcc09638\",\n      \"name\": \"If score less than 80\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        1520,\n        620\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"loose\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"5f845292-f4aa-44fb-a644-06c0736c3503\",\n              \"operator\": {\n                \"type\": \"number\",\n                \"operation\": \"lt\"\n              },\n              \"leftValue\": \"={{ $('Convert to Fields').item.json.score }}\",\n              \"rightValue\": 80\n            }\n          ]\n        },\n        \"looseTypeValidation\": true\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"0d7a84c2-0b1d-4e61-a3df-b81dd7981f1a\",\n      \"name\": \"Reject Applicant\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1880,\n        460\n      ],\n      \"parameters\": {\n        \"url\": \"=https://erpnext.syncbricks.com/api/resource/Job Applicant/{{ $('ApplicantData').item.json.body.name }}\",\n        \"method\": \"PUT\",\n        \"options\": {},\n        \"jsonBody\": \"={\\n \\\"status\\\": \\\"Rejected\\\"\\n}\",\n        \"sendBody\": true,\n        \"sendHeaders\": true,\n        \"specifyBody\": \"json\",\n        \"authentication\": \"predefinedCredentialType\",\n        \"headerParameters\": {\n          \"parameters\": [\n            {}\n          ]\n        },\n        \"nodeCredentialType\": \"erpNextApi\"\n      },\n      \"credentials\": {\n        \"erpNextApi\": {\n          \"id\": \"PInpnsxvPkvaiW0z\",\n          \"name\": \"ERPNext account\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"a55e70d1-7070-407d-9107-41cb33d2f0ae\",\n      \"name\": \"Update Applicant Data\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1140,\n        620\n      ],\n      \"parameters\": {\n        \"url\": \"=https://erpnext.syncbricks.com/api/resource/Job Applicant/{{ $('ApplicantData').item.json.body.name }}\",\n        \"method\": \"PUT\",\n        \"options\": {},\n        \"jsonBody\": \"={\\n \\\"applicant_rating\\\": \\\"{{ $json.applicant_rating }}\\\",\\n \\\"custom_justification_by_ai\\\": \\\"{{ $json.justification_by_ai }}\\\",\\n \\\"custom_fit_level\\\": \\\"{{ $json.fit_level }}\\\",\\n \\\"custom_score\\\":\\\"{{ $json.score }}\\\"\\n}\\n\\n\\n\\n\\n\",\n        \"sendBody\": true,\n        \"sendHeaders\": true,\n        \"specifyBody\": \"json\",\n        \"authentication\": \"predefinedCredentialType\",\n        \"headerParameters\": {\n          \"parameters\": [\n            {}\n          ]\n        },\n        \"nodeCredentialType\": \"erpNextApi\"\n      },\n      \"credentials\": {\n        \"erpNextApi\": {\n          \"id\": \"PInpnsxvPkvaiW0z\",\n          \"name\": \"ERPNext account\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"044d26cb-2b34-4613-8d1d-20f40b47da29\",\n      \"name\": \"Reume Attachment Link\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        -1820,\n        560\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"7d0b8b98-0976-4c19-bc7c-738fabd60d28\",\n              \"name\": \"body.resume_attachment\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.body.resume_link }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"a17e9c94-0ec7-430f-adf3-109bcccf3bcb\",\n      \"name\": \"Sticky Note10\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -2874.102923130834,\n        680\n      ],\n      \"parameters\": {\n        \"color\": 3,\n        \"width\": 875.658619343735,\n        \"height\": 302,\n        \"content\": \"## Resume Available?\\nFirst Node : If Resume is not attached or Then Job Applicant will be Rejected\\nSecond Node : If job is not applied against opening then the Applicant will be kept on hold.\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"e2508130-4ecd-4d19-b41c-293006d17507\",\n      \"name\": \"Resume Link Provided\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        -2400,\n        480\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"3cd3da7d-d0fb-43fd-be10-3c1e627846b9\",\n              \"operator\": {\n                \"type\": \"string\",\n                \"operation\": \"startsWith\"\n              },\n              \"leftValue\": \"={{ $json.body.resume_link }}\",\n              \"rightValue\": \"http\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"e6770961-05b2-4488-99b1-7d1a219f8372\",\n      \"name\": \"Accept Applicant\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1860,\n        760\n      ],\n      \"parameters\": {\n        \"url\": \"=https://erpnext.syncbricks.com/api/resource/Job Applicant/{{ $('ApplicantData').item.json.body.name }}\",\n        \"method\": \"PUT\",\n        \"options\": {},\n        \"jsonBody\": \"={\\n \\\"status\\\": \\\"Accepted\\\"\\n}\",\n        \"sendBody\": true,\n        \"sendHeaders\": true,\n        \"specifyBody\": \"json\",\n        \"authentication\": \"predefinedCredentialType\",\n        \"headerParameters\": {\n          \"parameters\": [\n            {}\n          ]\n        },\n        \"nodeCredentialType\": \"erpNextApi\"\n      },\n      \"credentials\": {\n        \"erpNextApi\": {\n          \"id\": \"PInpnsxvPkvaiW0z\",\n          \"name\": \"ERPNext account\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"6b7ad5c5-2a6f-4bb8-8296-3defb40f9605\",\n      \"name\": \"Sticky Note11\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -3800,\n        340\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 475.27306699862953,\n        \"height\": 636.1483291619771,\n        \"content\": \"## Developed by Amjid Ali\\n\\nThank you for using this workflow template. It has taken me countless hours of hard work, research, and dedication to develop, and I sincerely hope it adds value to your work.\\n\\nIf you find this template helpful, I kindly ask you to consider supporting my efforts. Your support will help me continue improving and creating more valuable resources.\\n\\nYou can contribute via PayPal here:\\n\\nhttp://paypal.me/pmptraining\\n\\nFor Full Course about ERPNext or Automation using AI follow below link\\n\\nhttp://lms.syncbricks.com\\n\\nAdditionally, when sharing this template, I would greatly appreciate it if you include my original information to ensure proper credit is given.\\n\\nThank you for your generosity and support!\\nEmail : amjid@amjidali.com\\nhttps://linkedin.com/in/amjidali\\nhttps://syncbricks.com\\nhttps://youtube.com/@syncbricks\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"173c6341-2ab7-4ee5-a6bd-0770ae19c013\",\n      \"name\": \"Webhook\",\n      \"type\": \"n8n-nodes-base.webhook\",\n      \"position\": [\n        -3180,\n        620\n      ],\n      \"webhookId\": \"f003f8ea-1f24-457c-8f28-762bd7942023\",\n      \"parameters\": {\n        \"path\": \"syncbricks-com-tutorial-candidate-shortlist\",\n        \"options\": {},\n        \"httpMethod\": \"POST\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"cb0a8dd4-6673-4043-af76-0bf4537a8173\",\n      \"name\": \"Sticky Note12\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -1980,\n        340\n      ],\n      \"parameters\": {\n        \"color\": 6,\n        \"width\": 613.5767730410602,\n        \"height\": 654.6630436071407,\n        \"content\": \"### Get file of Resume Detail from ERPNext Applicant\\nExtract the Resume Download Link and Decide which Attachment type it is as every attachment will be treated differently.\\nCurrently I provided only for PDF Version but you can add seperate flow for other versions\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"101938bd-75cd-4557-a44f-ba64c4181f70\",\n      \"name\": \"Sticky Note13\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -2420,\n        340\n      ],\n      \"parameters\": {\n        \"color\": 6,\n        \"width\": 429.96763122593137,\n        \"height\": 310.20584626167124,\n        \"content\": \"### Validate if the Resume is Available and It is against a specific Job\\nThese Nodes are to extract only the Required Data from the Webhook Node\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"596bcbd5-b94a-4a06-aa83-f7d9dc6264be\",\n      \"name\": \"File Type\",\n      \"type\": \"n8n-nodes-base.switch\",\n      \"position\": [\n        -1600,\n        560\n      ],\n      \"parameters\": {\n        \"rules\": {\n          \"values\": [\n            {\n              \"outputKey\": \"pdf\",\n              \"conditions\": {\n                \"options\": {\n                  \"version\": 2,\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"operator\": {\n                      \"type\": \"string\",\n                      \"operation\": \"endsWith\"\n                    },\n                    \"leftValue\": \"={{ $json.body.resume_attachment }}\",\n                    \"rightValue\": \".pdf\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            },\n            {\n              \"outputKey\": \"doc\",\n              \"conditions\": {\n                \"options\": {\n                  \"version\": 2,\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"id\": \"dabe1bd2-9aba-4a61-b0b3-08c22856b213\",\n                    \"operator\": {\n                      \"type\": \"string\",\n                      \"operation\": \"contains\"\n                    },\n                    \"leftValue\": \"={{ $json.body.resume_attachment }}\",\n                    \"rightValue\": \".doc\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            },\n            {\n              \"outputKey\": \".jpg\",\n              \"conditions\": {\n                \"options\": {\n                  \"version\": 2,\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"id\": \"1101fc2e-4220-4795-9342-58d88ea146ce\",\n                    \"operator\": {\n                      \"type\": \"string\",\n                      \"operation\": \"endsWith\"\n                    },\n                    \"leftValue\": \"={{ $json.body.resume_attachment }}\",\n                    \"rightValue\": \".jpg\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            }\n          ]\n        },\n        \"options\": {}\n      },\n      \"typeVersion\": 3.2\n    },\n    {\n      \"id\": \"cc7f4ca0-8e9b-49de-a7f1-f1f7913d6dcc\",\n      \"name\": \"Download PDF Resume\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        -1160,\n        460\n      ],\n      \"parameters\": {\n        \"url\": \"={{ $json.body.resume_attachment }}\",\n        \"options\": {}\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"1209643a-7133-45cf-98a3-e242e2e1766b\",\n      \"name\": \"PDF to Text\",\n      \"type\": \"n8n-nodes-base.extractFromFile\",\n      \"position\": [\n        -720,\n        440\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"operation\": \"pdf\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"17430d0d-7bca-4ed9-b80e-d1f81dad5d58\",\n      \"name\": \"Txt File to Text (Example)\",\n      \"type\": \"n8n-nodes-base.extractFromFile\",\n      \"position\": [\n        -740,\n        680\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"operation\": \"text\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"2ab3f083-66d7-4a28-9b00-b9dabcd84282\",\n      \"name\": \"Merge1\",\n      \"type\": \"n8n-nodes-base.merge\",\n      \"position\": [\n        -420,\n        620\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"e45d5828-1e7b-454e-9a79-7ab0f60e3cd9\",\n      \"name\": \"Recruitment AI Agent\",\n      \"type\": \"@n8n/n8n-nodes-langchain.agent\",\n      \"position\": [\n        200,\n        620\n      ],\n      \"parameters\": {\n        \"text\": \"=System Prompt : \\nYou are a highly skilled AI agent trained to compare and analyze text from resumes against job descriptions. Your primary goal is to assess whether the candidate is a good fit for the role based on the given inputs. You will receive two inputs:\\n\\n1. **Job Description**: A detailed description of the responsibilities, qualifications, and skills required for a specific job role.\\n2. **Resume Text**: A summary of a candidate's qualifications, skills, experience, and education.\\n\\nYour task is to:\\n1. **Analyze Match**: Compare the candidate's resume text against the job description and assess the alignment of:\\n - Required skills\\n - Relevant experience\\n - Educational background\\n - Certifications\\n - Keywords mentioned in both texts (e.g., specific tools, methodologies, or terminologies).\\n\\n2. **Assess Fit**: Determine if the candidate is a strong, moderate, or weak fit for the role. Assign a score from 0 to 100 based on relevance:\\n - **Strong Fit**: 80\\u2013100 (Candidate meets or exceeds the majority of the job requirements).\\n - **Moderate Fit**: 50\\u201379 (Candidate meets some key requirements but lacks in others).\\n - **Weak Fit**: Below 50 (Candidate does not align with the role requirements).\\n\\n3. **Provide Justification**: Include a brief explanation of why the candidate is or isn\\u2019t a good fit, highlighting strengths, gaps, or missing criteria.\\n\\nOutput Format:\\n- **Fit Level**: [Strong Fit / Moderate Fit / Weak Fit]\\n- **Score**: [0\\u2013100]\\n- **Rating**: [0\\u20135]\\n- **Justification**: A concise summary of the reasoning behind the fit level.\\n\\nRemember to maintain a neutral and objective tone in your analysis and ensure that your assessment is solely based on the information provided in the inputs.\\\"\\n\\n\\nProvide me the output in the following format:\\n\\nFitLevel\\n<fitLevel>\\n\\nScore:\\n<score>\\n\\nRating:\\n<rating>\\n\\nJustification:\\n<justification>\\n\\nBelow are the inputs \\n\\nJob Title : {{ $json.job_title }}\\nJob Desription : {{ $json.description }}\\n\\n\\nHere here Job Applican't text from Resume : \\n{{ $('PDF to Text').item.json.text }}\\n\",\n        \"agent\": \"reActAgent\",\n        \"options\": {},\n        \"promptType\": \"define\"\n      },\n      \"typeVersion\": 1.7\n    },\n    {\n      \"id\": \"02d40fbc-3b2a-4350-bd01-2dcca11cf23b\",\n      \"name\": \"Sticky Note14\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        560,\n        320\n      ],\n      \"parameters\": {\n        \"color\": 6,\n        \"width\": 374.6910896370089,\n        \"height\": 662,\n        \"content\": \"### Create Fields\\n\\nThis Java Script will convert the extracted fieldws from AI Agent and will create fields which are already created in ERPNext.\\n\\nEnsure to create below fields in ERPNext : \\n\\njustification_by_ai\\nfit_level\\nscore\\n\\napplicant_rating field is already there, which will be updated with 1 to 5 star\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"fdc011c2-e734-44fe-8a83-975247445d16\",\n      \"name\": \"Sticky Note15\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1720,\n        320\n      ],\n      \"parameters\": {\n        \"color\": 3,\n        \"width\": 394.2810709723076,\n        \"height\": 308.0357387860514,\n        \"content\": \"### Update data in ERPNext\\nAPI Call\\nCandidate Rejected\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"3c4174cc-b947-4461-87a6-a7dbd0e3c78d\",\n      \"name\": \"Sticky Note16\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1720,\n        660\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 385.4472695263088,\n        \"height\": 308.0357387860514,\n        \"content\": \"### Update data in ERPNext\\nAPI Call\\nCandidate Rejected\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"0116aa6d-2783-487b-b457-47a6b7d69f02\",\n      \"name\": \"Microsoft Outlook\",\n      \"type\": \"n8n-nodes-base.microsoftOutlook\",\n      \"position\": [\n        2240,\n        460\n      ],\n      \"parameters\": {\n        \"additionalFields\": {}\n      },\n      \"credentials\": {\n        \"microsoftOutlookOAuth2Api\": {\n          \"id\": \"9gy3uvf3pmBdpEsq\",\n          \"name\": \"Microsoft Outlook Al Ansari\"\n        }\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"f2eac576-3a17-46e8-8800-1ba250e53047\",\n      \"name\": \"Sticky Note17\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        2140,\n        331.1661985540012\n      ],\n      \"parameters\": {\n        \"color\": 6,\n        \"width\": 338.3336618143153,\n        \"height\": 623.107990360008,\n        \"content\": \"### Notifiy Applicant either by Email or Whatsapp or SMS, Options are Limitless\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"d4a6e756-923c-47c8-9c12-b1e8dcc873ca\",\n      \"name\": \"WhatsApp Business Cloud\",\n      \"type\": \"n8n-nodes-base.whatsApp\",\n      \"position\": [\n        2280,\n        760\n      ],\n      \"parameters\": {\n        \"operation\": \"send\",\n        \"requestOptions\": {},\n        \"additionalFields\": {}\n      },\n      \"credentials\": {\n        \"whatsAppApi\": {\n          \"id\": \"E8IjegSMj5LTd8lA\",\n          \"name\": \"WhatsApp Syncbricks Access Token Never Expires\"\n        }\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"pinData\": {},\n  \"connections\": {\n    \"Code\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"ApplicantData\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Merge1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get Job Opening\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Webhook\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Code\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"File Type\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Download PDF Resume\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"PDF to Text\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Merge1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"ApplicantData\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Resume Link Provided\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get Job Opening\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Recruitment AI Agent\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Accept Applicant\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"WhatsApp Business Cloud\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Reject Applicant\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Microsoft Outlook\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Convert to Fields\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Update Applicant Data\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Applied Against Job\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Reume Attachment Link\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"ERPNext - Hold Applicant\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Download PDF Resume\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"PDF to Text\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Recruitment AI Agent\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Convert to Fields\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Resume Link Provided\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Applied Against Job\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"ERPNext - Reject if Resume not Attached\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"If score less than 80\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Reject Applicant\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Accept Applicant\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Reume Attachment Link\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"File Type\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Update Applicant Data\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"If score less than 80\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Google Gemini Chat Model\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Recruitment AI Agent\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Txt File to Text (Example)\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Merge1\",\n            \"type\": \"main\",\n            \"index\": 1\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.code",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.set",
      "n8n-nodes-base.erpNext",
      "n8n-nodes-base.if",
      "n8n-nodes-base.erpNext",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.erpNext",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "n8n-nodes-base.code",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.if",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.set",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.if",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.webhook",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.switch",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.extractFromFile",
      "n8n-nodes-base.extractFromFile",
      "n8n-nodes-base.merge",
      "@n8n/n8n-nodes-langchain.agent",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.microsoftOutlook",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.whatsApp"
    ],
    "trigger": null
  }
}