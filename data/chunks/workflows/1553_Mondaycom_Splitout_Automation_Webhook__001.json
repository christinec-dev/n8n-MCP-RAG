{
  "source": "1553_Mondaycom_Splitout_Automation_Webhook.json",
  "index": 1,
  "content": "{\n  \"id\": \"MmfWpcIegNgBjBpL\",\n  \"meta\": {\n    \"instanceId\": \"da824ad45fda1b156c8390a3c35cdfbb10059e671c074c19429dac59c5ae98f6\"\n  },\n  \"name\": \"TEMPLATES\",\n  \"tags\": [\n    {\n      \"id\": \"uKg1PU2D27Vsr8ud\",\n      \"name\": \"MONDAY\",\n      \"createdAt\": \"2023-12-05T07:54:13.266Z\",\n      \"updatedAt\": \"2023-12-05T07:54:13.266Z\"\n    }\n  ],\n  \"nodes\": [\n    {\n      \"id\": \"de488298-e4f3-4b06-aef3-5d5d795382e9\",\n      \"name\": \"When clicking \\\"Test workflow\\\"\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        120,\n        560\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"7e8c25dc-7ccd-44b5-a4b1-33def99fc811\",\n      \"name\": \"PULL SUBITEMS\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        640,\n        460\n      ],\n      \"parameters\": {\n        \"jsCode\": \"//Search for \\\"Subitems\\\" column\\nconst columnName = \\\"Subitems\\\"\\nfunction getColumnValue(item, columnId) {\\n    const column = item.column_values.find(column => column.column.title === columnId);\\n    if (column) {\\n          return column\\n    } else {\\n        return null;\\n    }\\n}\\nconst columnValue = getColumnValue($input.last().json, columnName);\\nreturn JSON.parse(columnValue.value);\\n\\n//ALT OPTION - direct access by column_values[0]\\n//var ids = $input.last().json['column_values'][0]['value'];\\n//return JSON.parse(ids)\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"82464748-cf9a-4792-8790-f07c06c1525d\",\n      \"name\": \"SPLIT SUBITEMS\",\n      \"type\": \"n8n-nodes-base.splitOut\",\n      \"position\": [\n        840,\n        460\n      ],\n      \"parameters\": {\n        \"include\": \"selectedOtherFields\",\n        \"options\": {},\n        \"fieldToSplitOut\": \"linkedPulseIds\",\n        \"fieldsToInclude\": \"linkedPulseIds[0].linkedPulseId\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"96a780da-be73-41c8-bf53-b2a05061a340\",\n      \"name\": \"GET EACH SUBITEM\",\n      \"type\": \"n8n-nodes-base.mondayCom\",\n      \"position\": [\n        1020,\n        460\n      ],\n      \"parameters\": {\n        \"itemId\": \"=\\n{{ $json.linkedPulseIds.linkedPulseId }}\",\n        \"resource\": \"boardItem\",\n        \"operation\": \"get\"\n      },\n      \"credentials\": {\n        \"mondayComApi\": {\n          \"id\": \"5nd48DKapWBLcUBx\",\n          \"name\": \"Monday.com account\"\n        }\n      },\n      \"notesInFlow\": true,\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"5993e15a-1a1b-436e-b994-bf3acee16da0\",\n      \"name\": \"MONDAY UPLOAD\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"disabled\": true,\n      \"position\": [\n        1020,\n        600\n      ],\n      \"parameters\": {\n        \"url\": \"https://api.monday.com/v2/file\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"sendBody\": true,\n        \"contentType\": \"multipart-form-data\",\n        \"authentication\": \"predefinedCredentialType\",\n        \"bodyParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"query\",\n              \"value\": \"=mutation add_file($file: File!) {add_file_to_column (item_id:{{ $input.last().json[\\\"id\\\"] }} , column_id:\\\"file\\\" file: $file) {id}}\"\n            },\n            {\n              \"name\": \"map\",\n              \"value\": \"{\\\"image\\\":\\\"variables.file\\\"}\"\n            },\n            {\n              \"name\": \"image\",\n              \"parameterType\": \"formBinaryData\",\n              \"inputDataFieldName\": \"data\"\n            }\n          ]\n        },\n        \"nodeCredentialType\": \"mondayComOAuth2Api\"\n      },\n      \"credentials\": {\n        \"mondayComOAuth2Api\": {\n          \"id\": \"C9hcle0ZoGsxR1ds\",\n          \"name\": \"Monday.com account 2\"\n        }\n      },\n      \"notesInFlow\": true,\n      \"typeVersion\": 4.1\n    },\n    {\n      \"id\": \"06099adf-7f2f-4c32-84b8-e2458e39f95c\",\n      \"name\": \"Convert to File\",\n      \"type\": \"n8n-nodes-base.convertToFile\",\n      \"position\": [\n        640,\n        660\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"operation\": \"toJson\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"397c5d7b-76e4-4a0e-bd39-31c10571d68a\",\n      \"name\": \"Merge\",\n      \"type\": \"n8n-nodes-base.merge\",\n      \"position\": [\n        840,\n        600\n      ],\n      \"parameters\": {\n        \"mode\": \"combine\",\n        \"options\": {},\n        \"combinationMode\": \"mergeByPosition\"\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"a7bcc413-8d7e-4941-a81a-7a99fe14b01d\",\n      \"name\": \"PULL LINKEDPULSE\",\n      \"type\": \"n8n-nodes-base.mondayCom\",\n      \"position\": [\n        1200,\n        320\n      ],\n      \"parameters\": {\n        \"itemId\": \"=\\n{{ $json.linkedPulse.linkedPulseId }}\",\n        \"resource\": \"boardItem\",\n        \"operation\": \"get\"\n      },\n      \"credentials\": {\n        \"mondayComApi\": {\n          \"id\": \"5nd48DKapWBLcUBx\",\n          \"name\": \"Monday.com account\"\n        }\n      },\n      \"notesInFlow\": true,\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"a4d2e3a7-05a9-434a-a4e5-d6ed3d538091\",\n      \"name\": \"GET ITEM\",\n      \"type\": \"n8n-nodes-base.mondayCom\",\n      \"position\": [\n        340,\n        560\n      ],\n      \"parameters\": {\n        \"itemId\": \"5775061188\",\n        \"resource\": \"boardItem\",\n        \"operation\": \"get\"\n      },\n      \"credentials\": {\n        \"mondayComApi\": {\n          \"id\": \"5nd48DKapWBLcUBx\",\n          \"name\": \"Monday.com account\"\n        }\n      },\n      \"notesInFlow\": true,\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"5ce40a46-1513-498a-9e92-8dd96e508f34\",\n      \"name\": \"GET LINKEDPULSES\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        840,\n        320\n      ],\n      \"parameters\": {\n        \"jsCode\": \"data = $input.last().json.value\\nconst linkedPulseID = JSON.parse(data).linkedPulseIds\\nreturn { \\\"linkedPulse\\\": linkedPulseID}\\n\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"22e3ec96-4e83-42fa-aa25-ce0d7445df15\",\n      \"name\": \"GET BOARD RELATION\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        640,\n        320\n      ],\n      \"parameters\": {\n        \"jsCode\": \"const columnName = \\\"Additional Contacts\\\"\\n\\nfunction getColumnValue(item, columnId) {\\n    const column = item.column_values.find(column => column.column.title === columnId);\\n    if (column) {\\n          return column\\n    } else {\\n        return null;\\n    }\\n}\\n\\nconst columnValue = getColumnValue($input.last().json, columnName);\\nreturn (columnValue)\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"e55be301-0a6a-43a6-8a07-becc39e0a254\",\n      \"name\": \"COLUMN BY NAME\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        640,\n        40\n      ],\n      \"parameters\": {\n        \"jsCode\": \"const columnName = \\\"Zoom Date\\\"\\n\\nfunction getColumnValue(item, columnId) {\\n    const column = item.column_values.find(column => column.column.title === columnId);\\n    if (column) {\\n          return column\\n    } else {\\n        return null;\\n    }\\n}\\n\\nconst columnValue = getColumnValue($input.last().json, columnName);\\nreturn (columnValue)\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"463966c2-27e2-429c-8f8b-b3c279592f0d\",\n      \"name\": \"COLUMN BY ID\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        640,\n        180\n      ],\n      \"parameters\": {\n        \"jsCode\": \"const columnId = \\\"person\\\"\\n\\nfunction getColumnValue(item, columnId) {\\n    const column = item.column_values.find(column => column.id === columnId);\\n    if (column) {\\n          return column\\n    } else {\\n        return null;\\n    }\\n}\\n\\nconst columnValue = getColumnValue($input.last().json, columnId);\\nreturn (columnValue)\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"33b0aeff-18aa-4ee9-97b3-7c3a44cf96fc\",\n      \"name\": \"SPLIT LINKED PULSES\",\n      \"type\": \"n8n-nodes-base.splitOut\",\n      \"position\": [\n        1020,\n        320\n      ],\n      \"parameters\": {\n        \"include\": \"=\",\n        \"options\": {},\n        \"fieldToSplitOut\": \"linkedPulse\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"91cd2823-4b1c-4e94-9205-9a765846b789\",\n  \"connections\": {\n    \"Merge\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"MONDAY UPLOAD\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"GET ITEM\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"GET BOARD RELATION\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"PULL SUBITEMS\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Convert to File\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Merge\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"COLUMN BY NAME\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"COLUMN BY ID\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"PULL SUBITEMS\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"SPLIT SUBITEMS\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"SPLIT SUBITEMS\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"GET EACH SUBITEM\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Convert to File\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Merge\",\n            \"type\": \"main\",\n            \"index\": 1\n          }\n        ]\n      ]\n    },\n    \"GET LINKEDPULSES\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"SPLIT LINKED PULSES\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"GET BOARD RELATION\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"GET LINKEDPULSES\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"SPLIT LINKED PULSES\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"PULL LINKEDPULSE\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When clicking \\\"Test workflow\\\"\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"GET ITEM\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.manualTrigger",
      "n8n-nodes-base.code",
      "n8n-nodes-base.splitOut",
      "n8n-nodes-base.mondayCom",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.convertToFile",
      "n8n-nodes-base.merge",
      "n8n-nodes-base.mondayCom",
      "n8n-nodes-base.mondayCom",
      "n8n-nodes-base.code",
      "n8n-nodes-base.code",
      "n8n-nodes-base.code",
      "n8n-nodes-base.code",
      "n8n-nodes-base.splitOut"
    ],
    "trigger": null
  }
}