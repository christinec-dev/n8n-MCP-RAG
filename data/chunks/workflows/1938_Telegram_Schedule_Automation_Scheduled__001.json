{
  "source": "1938_Telegram_Schedule_Automation_Scheduled.json",
  "index": 1,
  "content": "{\n  \"id\": \"02GdRzvsuHmSSgBw\",\n  \"meta\": {\n    \"instanceId\": \"31e69f7f4a77bf465b805824e303232f0227212ae922d12133a0f96ffeab4fef\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"name\": \"#️⃣Nostr #damus AI Powered Reporting + Gmail + Telegram\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"e9c4c7bf-0cce-456e-9b95-726669e4b260\",\n      \"name\": \"When clicking ‘Test workflow’\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        -500,\n        -60\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"b8f57e15-8a6e-4a29-a6e8-745bebbd1f44\",\n      \"name\": \"Get HTML\",\n      \"type\": \"n8n-nodes-base.markdown\",\n      \"position\": [\n        880,\n        -840\n      ],\n      \"parameters\": {\n        \"mode\": \"markdownToHtml\",\n        \"options\": {},\n        \"markdown\": \"={{ $json.text }}\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"8b212119-9b69-449c-8a3b-4fdc5b085f30\",\n      \"name\": \"Gmail Themes\",\n      \"type\": \"n8n-nodes-base.gmail\",\n      \"position\": [\n        1080,\n        -840\n      ],\n      \"webhookId\": \"e07f9378-bfa5-48ac-88fd-0ef88a725ede\",\n      \"parameters\": {\n        \"sendTo\": \"joe@example.com\",\n        \"message\": \"={{ $json.data }}\",\n        \"options\": {\n          \"appendAttribution\": false\n        },\n        \"subject\": \"#damus\"\n      },\n      \"credentials\": {\n        \"gmailOAuth2\": {\n          \"id\": \"1xpVDEQ1yx8gV022\",\n          \"name\": \"Gmail account\"\n        }\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"b7fc214b-72cb-4caf-8563-7b2f13a1110d\",\n      \"name\": \"Get HTML Report\",\n      \"type\": \"n8n-nodes-base.markdown\",\n      \"position\": [\n        880,\n        80\n      ],\n      \"parameters\": {\n        \"mode\": \"markdownToHtml\",\n        \"options\": {},\n        \"markdown\": \"={{ $json.text }}\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"dd7580bc-f97c-4ad1-8556-2329f88bea75\",\n      \"name\": \"#damus Themes List\",\n      \"type\": \"@n8n/n8n-nodes-langchain.chainLlm\",\n      \"position\": [\n        500,\n        -400\n      ],\n      \"parameters\": {\n        \"text\": \"=Extract a list of themes from this: {{ $json.text }}\\n\\nDo not include any preamble or further explanation.\",\n        \"promptType\": \"define\"\n      },\n      \"typeVersion\": 1.5\n    },\n    {\n      \"id\": \"60a9d8fe-4ba0-4450-8073-4108b832981e\",\n      \"name\": \"#damus Thread Themes\",\n      \"type\": \"@n8n/n8n-nodes-langchain.chainLlm\",\n      \"position\": [\n        500,\n        -840\n      ],\n      \"parameters\": {\n        \"text\": \"=Tell me the theme and highlight some common threads associated with these Nostr threads that are all #damus.  Specifically mention the main reason #damus is hashtagged.  These are the threads: {{ $json.content.toJsonString() }}\",\n        \"promptType\": \"define\"\n      },\n      \"typeVersion\": 1.5\n    },\n    {\n      \"id\": \"72ab08a7-f729-46e3-8a4d-56005cabaf17\",\n      \"name\": \"#damus Themes & Threads Report\",\n      \"type\": \"@n8n/n8n-nodes-langchain.chainLlm\",\n      \"position\": [\n        500,\n        80\n      ],\n      \"parameters\": {\n        \"text\": \"=**Task:** Analyze the attached file containing Nostr threads using the hashtag #damus. Provide a detailed report with examples thread based on the following themes.  Got deep and seek out the underlying motivation of the users who posted the threads: \\n\\n## Themes\\n{{ $json.text }}\\n\\n1. **Overall Theme:** Summarize the central topic(s) discussed across the threads.\\n2. **Common Threads:** Identify recurring topics or ideas that unify the posts.\\n3. **Key Highlights:** Extract specific examples or quotes that illustrate prominent themes.\\n4. **Insights and Observations:** Offer insights on how the #damus community engages with the app and its ecosystem.\\n5. **Suggestions for Improvement:** If applicable, suggest ways to enhance user experience or community engagement based on the analysis.\\n\\n**Requirements:**\\n- Expand on each theme with comprehensive details and analysis.\\n- Use bullet points or numbered lists for clarity.\\n- Include relevant quotes or examples from the text to support your analysis.\\n- Ensure your response is detailed, well-structured, and easy to read.\\n\\n**Context:** The analysis should focus on understanding how users interact with Damus, their appreciation for its features, challenges they face, and how it fits into the broader Nostr ecosystem.\\n\\n## Nostr thread with hashtag #damus: \\n{{ $json.content.toJsonString() }}\\n\\n\",\n        \"promptType\": \"define\"\n      },\n      \"typeVersion\": 1.5\n    },\n    {\n      \"id\": \"55362e03-ca0b-4f5e-a7ff-02828522fc7d\",\n      \"name\": \"gemini-2.0-flash-lite-preview\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatGoogleGemini\",\n      \"position\": [\n        600,\n        -680\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"temperature\": 0.4\n        },\n        \"modelName\": \"=models/gemini-2.0-flash-lite-preview\"\n      },\n      \"credentials\": {\n        \"googlePalmApi\": {\n          \"id\": \"L9UNQHflYlyF9Ngd\",\n          \"name\": \"Google Gemini(PaLM) Api account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"7f457b3f-d39b-4062-ada0-5e81f3768857\",\n      \"name\": \"gemini-2.0-flash-lite-preview1\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatGoogleGemini\",\n      \"position\": [\n        600,\n        -240\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"temperature\": 0.4\n        },\n        \"modelName\": \"models/gemini-2.0-flash-lite-preview\"\n      },\n      \"credentials\": {\n        \"googlePalmApi\": {\n          \"id\": \"L9UNQHflYlyF9Ngd\",\n          \"name\": \"Google Gemini(PaLM) Api account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"bd68e36a-2fa7-4b78-96d8-9c4f97388249\",\n      \"name\": \"gemini-2.0-flash-lite-preview2\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatGoogleGemini\",\n      \"position\": [\n        600,\n        240\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"temperature\": 0.4\n        },\n        \"modelName\": \"models/gemini-2.0-flash-lite-preview\"\n      },\n      \"credentials\": {\n        \"googlePalmApi\": {\n          \"id\": \"L9UNQHflYlyF9Ngd\",\n          \"name\": \"Google Gemini(PaLM) Api account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"24f378ca-8a10-441f-886d-136314fa30de\",\n      \"name\": \"Gmail Report\",\n      \"type\": \"n8n-nodes-base.gmail\",\n      \"position\": [\n        1080,\n        80\n      ],\n      \"webhookId\": \"e07f9378-bfa5-48ac-88fd-0ef88a725ede\",\n      \"parameters\": {\n        \"sendTo\": \"joe@example.com\",\n        \"message\": \"={{ $json.data }}\",\n        \"options\": {\n          \"appendAttribution\": false\n        },\n        \"subject\": \"#damus\"\n      },\n      \"credentials\": {\n        \"gmailOAuth2\": {\n          \"id\": \"1xpVDEQ1yx8gV022\",\n          \"name\": \"Gmail account\"\n        }\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"f4814872-577a-4243-ac1b-e152e147dca0\",\n      \"name\": \"Aggregate #damus Content\",\n      \"type\": \"n8n-nodes-base.aggregate\",\n      \"position\": [\n        120,\n        -140\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"fieldsToAggregate\": {\n          \"fieldToAggregate\": [\n            {\n              \"fieldToAggregate\": \"content\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"d2079c9e-b743-4353-bda9-e269168f5461\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        360,\n        -940\n      ],\n      \"parameters\": {\n        \"color\": 6,\n        \"width\": 960,\n        \"height\": 420,\n        \"content\": \"## #damus Threads Themes\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"5f69afb5-6e3c-4f65-84bb-8c1f4544b2c5\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        360,\n        -480\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 520,\n        \"height\": 420,\n        \"content\": \"## #damus Threads Themes\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"6de3d9d2-98be-4102-9ed5-cda48b37eee7\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        360,\n        -20\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 960,\n        \"height\": 420,\n        \"content\": \"## #damus Threads & Threads Report\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"42f333ce-bdd7-4950-9ef1-ae797a671f5d\",\n      \"name\": \"Merge Themes and Content\",\n      \"type\": \"n8n-nodes-base.merge\",\n      \"position\": [\n        1000,\n        -160\n      ],\n      \"parameters\": {\n        \"mode\": \"combine\",\n        \"options\": {},\n        \"combineBy\": \"combineByPosition\"\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"7ff77e60-03ed-4937-b923-74a7f588fd2a\",\n      \"name\": \"Schedule Trigger\",\n      \"type\": \"n8n-nodes-base.scheduleTrigger\",\n      \"position\": [\n        -500,\n        -260\n      ],\n      \"parameters\": {\n        \"rule\": {\n          \"interval\": [\n            {}\n          ]\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"d1939a96-1e68-4d90-a456-55852c941e28\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -280,\n        -580\n      ],\n      \"parameters\": {\n        \"color\": 6,\n        \"width\": 340,\n        \"height\": 700,\n        \"content\": \"## Get Nostr Threads with Hashtag #damus\\n\\nThe social network you control\\nYour very own social network for your friends or business.\\nAvailable Now on iOS, iPad and macOS (M1/M2)\\n\\nhttps://nostr.com/\\nhttps://damus.io/\\nhttps://damus.io/notedeck/\\n\\n### n8n Community Node https://github.com/ocknamo/n8n-nodes-nostrobots\\n\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"89905442-bf8d-40d2-a9b1-fb3cf3a2ac44\",\n      \"name\": \"Sticky Note4\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        940,\n        -640\n      ],\n      \"parameters\": {\n        \"width\": 320,\n        \"height\": 280,\n        \"content\": \"## Telegram \\n\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"aee0f3eb-7b0e-4df1-968d-5abe1c22e26a\",\n      \"name\": \"Sticky Note5\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        940,\n        280\n      ],\n      \"parameters\": {\n        \"width\": 320,\n        \"height\": 280,\n        \"content\": \"## Telegram \\n\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"f6b00109-74ef-4522-b568-6426b054bea3\",\n      \"name\": \"Telegram Themes\",\n      \"type\": \"n8n-nodes-base.telegram\",\n      \"position\": [\n        1040,\n        -560\n      ],\n      \"webhookId\": \"8406b3d2-5ac6-452d-847f-c0886c8cd058\",\n      \"parameters\": {\n        \"text\": \"={{ $json.text.slice(0, 4000) }}\",\n        \"chatId\": \"={{ $env.TELEGRAM_CHAT_ID }}\",\n        \"additionalFields\": {\n          \"parse_mode\": \"HTML\",\n          \"appendAttribution\": false\n        }\n      },\n      \"credentials\": {\n        \"telegramApi\": {\n          \"id\": \"pAIFhguJlkO3c7aQ\",\n          \"name\": \"Telegram account\"\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"3e7e9c70-43c6-4074-be9a-2f5ed6c4fb0e\",\n      \"name\": \"Telegram Themes & Threads\",\n      \"type\": \"n8n-nodes-base.telegram\",\n      \"position\": [\n        1040,\n        360\n      ],\n      \"webhookId\": \"8406b3d2-5ac6-452d-847f-c0886c8cd058\",\n      \"parameters\": {\n        \"text\": \"={{ $json.text.slice(0, 4000) }}\",\n        \"chatId\": \"={{ $env.TELEGRAM_CHAT_ID }}\",\n        \"additionalFields\": {\n          \"parse_mode\": \"HTML\",\n          \"appendAttribution\": false\n        }\n      },\n      \"credentials\": {\n        \"telegramApi\": {\n          \"id\": \"pAIFhguJlkO3c7aQ\",\n          \"name\": \"Telegram account\"\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"5bc52456-7bbc-445a-8ffd-f47403a4b978\",\n      \"name\": \"Sticky Note6\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -580,\n        -340\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 260,\n        \"height\": 460,\n        \"content\": \"## Try Me!\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"3b61555e-4e20-41d2-8fb7-490a2488f5f2\",\n      \"name\": \"Nostr Read #damus\",\n      \"type\": \"n8n-nodes-nostrobots.nostrobotsread\",\n      \"position\": [\n        -160,\n        -140\n      ],\n      \"parameters\": {\n        \"from\": 180,\n        \"hashtag\": \"#damus\",\n        \"strategy\": \"hashtag\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": true,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"06d6edc0-ed5c-48d1-abe6-22b04368d19b\",\n  \"connections\": {\n    \"Get HTML\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Gmail Themes\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get HTML Report\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Gmail Report\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Schedule Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Nostr Read #damus\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Nostr Read #damus\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Aggregate #damus Content\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"#damus Themes List\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Merge Themes and Content\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"#damus Thread Themes\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get HTML\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"#damus Themes List\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Telegram Themes\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Aggregate #damus Content\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"#damus Thread Themes\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Merge Themes and Content\",\n            \"type\": \"main\",\n            \"index\": 1\n          }\n        ]\n      ]\n    },\n    \"Merge Themes and Content\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"#damus Themes & Threads Report\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"gemini-2.0-flash-lite-preview\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"#damus Thread Themes\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"#damus Themes & Threads Report\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get HTML Report\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Telegram Themes & Threads\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"gemini-2.0-flash-lite-preview1\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"#damus Themes List\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"gemini-2.0-flash-lite-preview2\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"#damus Themes & Threads Report\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When clicking ‘Test workflow’\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Nostr Read #damus\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.manualTrigger",
      "n8n-nodes-base.markdown",
      "n8n-nodes-base.gmail",
      "n8n-nodes-base.markdown",
      "@n8n/n8n-nodes-langchain.chainLlm",
      "@n8n/n8n-nodes-langchain.chainLlm",
      "@n8n/n8n-nodes-langchain.chainLlm",
      "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "n8n-nodes-base.gmail",
      "n8n-nodes-base.aggregate",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.merge",
      "n8n-nodes-base.scheduleTrigger",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.telegram",
      "n8n-nodes-base.telegram",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-nostrobots.nostrobotsread"
    ],
    "trigger": "schedule trigger"
  }
}