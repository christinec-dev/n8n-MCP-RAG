{
  "source": "1936_Emailreadimap_Manual_Send_Webhook.json",
  "index": 1,
  "content": "{\n  \"id\": \"nkPjDxMrrkKbgHaV\",\n  \"meta\": {\n    \"instanceId\": \"a4bfc93e975ca233ac45ed7c9227d84cf5a2329310525917adaf3312e10d5462\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"name\": \"Effortless Email Management with AI\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"9d77e26f-de2b-4bd4-b0f0-9924a8f459a6\",\n      \"name\": \"Email Trigger (IMAP)\",\n      \"type\": \"n8n-nodes-base.emailReadImap\",\n      \"position\": [\n        -2000,\n        -180\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"imap\": {\n          \"id\": \"k31W9oGddl9pMDy4\",\n          \"name\": \"IMAP info@n3witalia.com\"\n        }\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"cf2d020b-b125-4a20-8694-8ed0f7acf755\",\n      \"name\": \"Markdown\",\n      \"type\": \"n8n-nodes-base.markdown\",\n      \"position\": [\n        -1740,\n        -180\n      ],\n      \"parameters\": {\n        \"html\": \"={{ $json.textHtml }}\",\n        \"options\": {}\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"41bfceff-0155-4643-be60-ee301e2d69e1\",\n      \"name\": \"Send Email\",\n      \"type\": \"n8n-nodes-base.emailSend\",\n      \"position\": [\n        400,\n        -320\n      ],\n      \"webhookId\": \"a79ae1b4-648c-4cb4-b6cd-04ea3c1d9314\",\n      \"parameters\": {\n        \"html\": \"={{ $('Edit Fields').item.json.email }}\",\n        \"options\": {},\n        \"subject\": \"=Re: {{ $('Email Trigger (IMAP)').item.json.subject }}\",\n        \"toEmail\": \"={{ $('Email Trigger (IMAP)').item.json.from }}\",\n        \"fromEmail\": \"={{ $('Email Trigger (IMAP)').item.json.to }}\"\n      },\n      \"credentials\": {\n        \"smtp\": {\n          \"id\": \"hRjP3XbDiIQqvi7x\",\n          \"name\": \"SMTP info@n3witalia.com\"\n        }\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"2aff581a-8b64-405c-b62f-74bf189fd7b1\",\n      \"name\": \"Qdrant Vector Store\",\n      \"type\": \"@n8n/n8n-nodes-langchain.vectorStoreQdrant\",\n      \"position\": [\n        -320,\n        600\n      ],\n      \"parameters\": {\n        \"mode\": \"retrieve-as-tool\",\n        \"options\": {},\n        \"toolName\": \"company_knowladge_base\",\n        \"toolDescription\": \"Extracts information regarding the request made.\",\n        \"qdrantCollection\": {\n          \"__rl\": true,\n          \"mode\": \"id\",\n          \"value\": \"=COLLECTION\"\n        },\n        \"includeDocumentMetadata\": false\n      },\n      \"credentials\": {\n        \"qdrantApi\": {\n          \"id\": \"iyQ6MQiVaF3VMBmt\",\n          \"name\": \"QdrantApi account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"6e3f6df0-8924-47d9-855c-51205d19e86d\",\n      \"name\": \"Embeddings OpenAI\",\n      \"type\": \"@n8n/n8n-nodes-langchain.embeddingsOpenAi\",\n      \"position\": [\n        -440,\n        800\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"CDX6QM4gLYanh0P4\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"37ac411b-4a74-44d1-917e-b07d1c9ca221\",\n      \"name\": \"Email Summarization Chain\",\n      \"type\": \"@n8n/n8n-nodes-langchain.chainSummarization\",\n      \"position\": [\n        -1480,\n        -180\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"binaryDataKey\": \"={{ $json.data }}\",\n          \"summarizationMethodAndPrompts\": {\n            \"values\": {\n              \"prompt\": \"=Write a concise summary of the following in max 100 words:\\n\\n\\\"{{ $json.data }}\\\"\\n\\nDo not enter the total number of words used.\",\n              \"combineMapPrompt\": \"=Write a concise summary of the following in max 100 words:\\n\\n\\\"{{ $json.data }}\\\"\\n\\nDo not enter the total number of words used.\"\n            }\n          }\n        },\n        \"operationMode\": \"nodeInputBinary\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"91edbac9-847b-4f31-a8dd-09418bd93642\",\n      \"name\": \"Write email\",\n      \"type\": \"@n8n/n8n-nodes-langchain.agent\",\n      \"position\": [\n        -1040,\n        -180\n      ],\n      \"parameters\": {\n        \"text\": \"=Write the text to reply to the following email:\\n\\n{{ $json.response.text }}\",\n        \"options\": {\n          \"systemMessage\": \"You are an expert at answering emails. You need to answer them professionally based on the information you have. This is a business email. Be concise and never exceed 100 words. Only the body of the email, not create the subject\"\n        },\n        \"promptType\": \"define\",\n        \"hasOutputParser\": true\n      },\n      \"typeVersion\": 1.7\n    },\n    {\n      \"id\": \"1da0e72a-db97-4216-a1a5-038cebaf7e10\",\n      \"name\": \"OpenAI\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\n      \"position\": [\n        -180,\n        280\n      ],\n      \"parameters\": {\n        \"model\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gpt-4o-mini\",\n          \"cachedResultName\": \"gpt-4o-mini\"\n        },\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"CDX6QM4gLYanh0P4\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"af2d6284-4c8f-4a07-b689-d0f55aaabd26\",\n      \"name\": \"Gmail\",\n      \"type\": \"n8n-nodes-base.gmail\",\n      \"position\": [\n        -300,\n        -180\n      ],\n      \"webhookId\": \"d6dd2e7c-90ea-4b65-9c64-523d2541a054\",\n      \"parameters\": {\n        \"sendTo\": \"info@n3w.it\",\n        \"message\": \"=<h3>MESSAGE</h3>\\n{{ $('Email Trigger (IMAP)').item.json.textHtml }}\\n\\n<h3>AI RESPONSE</h3>\\n{{ $json.email }}\",\n        \"options\": {},\n        \"subject\": \"=[Approval Required]  {{ $('Email Trigger (IMAP)').item.json.subject }}\",\n        \"operation\": \"sendAndWait\",\n        \"responseType\": \"freeText\"\n      },\n      \"credentials\": {\n        \"gmailOAuth2\": {\n          \"id\": \"nyuHvSX5HuqfMPlW\",\n          \"name\": \"Gmail account (n3w.it)\"\n        }\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"aaccc4a6-ce53-4813-8247-65bd1a9d5639\",\n      \"name\": \"Text Classifier\",\n      \"type\": \"@n8n/n8n-nodes-langchain.textClassifier\",\n      \"position\": [\n        -60,\n        -180\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"systemPromptTemplate\": \"Please classify the text provided by the user into one of the following categories: {categories}, and use the provided formatting instructions below. Don't explain, and only output the json.\"\n        },\n        \"inputText\": \"={{ $json.data.text }}\",\n        \"categories\": {\n          \"categories\": [\n            {\n              \"category\": \"Approved\",\n              \"description\": \"The email has been reviewed and accepted as-is. The human explicitly or implicity express approva, indicating that no changes ar needed.\\n\\nExample:\\n\\\"Ok\\\",\\n\\\"Approvato\\\",\\n\\\"Invia\\\"\"\n            },\n            {\n              \"category\": \"Declined\",\n              \"description\": \"The email has been reviewd, but the human request modifications before it sent link tweaks, removing parts, rewording etc... This could include suggested edits, rewording or major revision.\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"b46de5d9-1a2e-4d28-930b-e18fb1d7876e\",\n      \"name\": \"Edit Fields\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        -580,\n        -180\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"35d7c303-42f4-4dd1-b41e-6eb087c23c3d\",\n              \"name\": \"email\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.output }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"36ce51c6-8ee1-4230-84c0-40e259eafb1a\",\n      \"name\": \"When clicking ‘Test workflow’\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        -1340,\n        -1300\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"21a0c991-65dc-483e-9b98-5cedaba7ae13\",\n      \"name\": \"Create collection\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        -1040,\n        -1440\n      ],\n      \"parameters\": {\n        \"url\": \"https://QDRANTURL/collections/COLLECTION\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"jsonBody\": \"{\\n  \\\"filter\\\": {}\\n}\",\n        \"sendBody\": true,\n        \"sendHeaders\": true,\n        \"specifyBody\": \"json\",\n        \"authentication\": \"genericCredentialType\",\n        \"genericAuthType\": \"httpHeaderAuth\",\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"Content-Type\",\n              \"value\": \"application/json\"\n            }\n          ]\n        }\n      },\n      \"credentials\": {\n        \"httpHeaderAuth\": {\n          \"id\": \"qhny6r5ql9wwotpn\",\n          \"name\": \"Qdrant API (Hetzner)\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"9a048d7d-bcdf-40b7-b33a-94b811083eac\",\n      \"name\": \"Refresh collection\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        -1040,\n        -1180\n      ],\n      \"parameters\": {\n        \"url\": \"https://QDRANTURL/collections/COLLECTION/points/delete\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"jsonBody\": \"{\\n  \\\"filter\\\": {}\\n}\",\n        \"sendBody\": true,\n        \"sendHeaders\": true,\n        \"specifyBody\": \"json\",\n        \"authentication\": \"genericCredentialType\",\n        \"genericAuthType\": \"httpHeaderAuth\",\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"Content-Type\",\n              \"value\": \"application/json\"\n            }\n          ]\n        }\n      },\n      \"credentials\": {\n        \"httpHeaderAuth\": {\n          \"id\": \"qhny6r5ql9wwotpn\",\n          \"name\": \"Qdrant API (Hetzner)\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"db494d2d-5390-4f83-9b87-3409fef31a7d\",\n      \"name\": \"Get folder\",\n      \"type\": \"n8n-nodes-base.googleDrive\",\n      \"position\": [\n        -820,\n        -1180\n      ],\n      \"parameters\": {\n        \"filter\": {\n          \"driveId\": {\n            \"__rl\": true,\n            \"mode\": \"list\",\n            \"value\": \"My Drive\",\n            \"cachedResultUrl\": \"https://drive.google.com/drive/my-drive\",\n            \"cachedResultName\": \"My Drive\"\n          },\n          \"folderId\": {\n            \"__rl\": true,\n            \"mode\": \"id\",\n            \"value\": \"=test-whatsapp\"\n          }\n        },\n        \"options\": {},\n        \"resource\": \"fileFolder\"\n      },\n      \"credentials\": {\n        \"googleDriveOAuth2Api\": {\n          \"id\": \"HEy5EuZkgPZVEa9w\",\n          \"name\": \"Google Drive account\"\n        }\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"e30dbe6f-482e-47f9-b5b8-62c1113e6c8b\",\n      \"name\": \"Download Files\",\n      \"type\": \"n8n-nodes-base.googleDrive\",\n      \"position\": [\n        -600,\n        -1180\n      ],\n      \"parameters\": {\n        \"fileId\": {\n          \"__rl\": true,\n          \"mode\": \"id\",\n          \"value\": \"={{ $json.id }}\"\n        },\n        \"options\": {\n          \"googleFileConversion\": {\n            \"conversion\": {\n              \"docsToFormat\": \"text/plain\"\n            }\n          }\n        },\n        \"operation\": \"download\"\n      },\n      \"credentials\": {\n        \"googleDriveOAuth2Api\": {\n          \"id\": \"HEy5EuZkgPZVEa9w\",\n          \"name\": \"Google Drive account\"\n        }\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"492d48d8-4997-4f04-902b-041da3210417\",\n      \"name\": \"Default Data Loader\",\n      \"type\": \"@n8n/n8n-nodes-langchain.documentDefaultDataLoader\",\n      \"position\": [\n        -200,\n        -980\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"dataType\": \"binary\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"0cf45d10-3cbf-4eb6-ab30-11f264b3aa8d\",\n      \"name\": \"Token Splitter\",\n      \"type\": \"@n8n/n8n-nodes-langchain.textSplitterTokenSplitter\",\n      \"position\": [\n        -240,\n        -820\n      ],\n      \"parameters\": {\n        \"chunkSize\": 300,\n        \"chunkOverlap\": 30\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"7d60f569-c34e-49a8-ba9a-88cf33083136\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -840,\n        -1500\n      ],\n      \"parameters\": {\n        \"color\": 6,\n        \"width\": 880,\n        \"height\": 220,\n        \"content\": \"# STEP 1\\n\\n## Create Qdrant Collection\\nChange:\\n- QDRANTURL\\n- COLLECTION\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"e86b18c4-d7e8-4e81-b520-dbd8125edf38\",\n      \"name\": \"Sticky Note4\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -1060,\n        -1240\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 620,\n        \"height\": 400,\n        \"content\": \"# STEP 2\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n## Documents vectorization with Qdrant and Google Drive\\nChange:\\n- QDRANTURL\\n- COLLECTION\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"05f65120-ef31-4c67-ac18-e68a8353909c\",\n      \"name\": \"Qdrant Vector Store1\",\n      \"type\": \"@n8n/n8n-nodes-langchain.vectorStoreQdrant\",\n      \"position\": [\n        -360,\n        -1180\n      ],\n      \"parameters\": {\n        \"mode\": \"insert\",\n        \"options\": {},\n        \"qdrantCollection\": {\n          \"__rl\": true,\n          \"mode\": \"id\",\n          \"value\": \"=COLLECTION\"\n        }\n      },\n      \"credentials\": {\n        \"qdrantApi\": {\n          \"id\": \"iyQ6MQiVaF3VMBmt\",\n          \"name\": \"QdrantApi account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"c15fd52f-b142-408e-af06-aeed10a1cf85\",\n      \"name\": \"Embeddings OpenAI1\",\n      \"type\": \"@n8n/n8n-nodes-langchain.embeddingsOpenAi\",\n      \"position\": [\n        -380,\n        -980\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"CDX6QM4gLYanh0P4\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"3e47224f-3deb-450b-b825-f16c5f860f28\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -2020,\n        -600\n      ],\n      \"parameters\": {\n        \"color\": 3,\n        \"width\": 580,\n        \"height\": 260,\n        \"content\": \"# STEP 3 - MAIN FLOW\\n\\n\\n## How it works\\nThis workflow automates the handling of incoming emails, summarizes their content, generates appropriate responses using a retrieval-augmented generation (RAG) approach, and obtains approval or suggestions before sending replies. \\n\\nYou can quickly integrate Gmail and Outlook via the appropriate trigger nodes\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"63097039-58cb-4e0f-9fb6-6bf868275519\",\n      \"name\": \"DeepSeek Chat Model\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatDeepSeek\",\n      \"position\": [\n        -1560,\n        40\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"deepSeekApi\": {\n          \"id\": \"sxh1rfZxonXV83hS\",\n          \"name\": \"DeepSeek account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"c86d6eeb-cf08-429f-b5b4-60b317071035\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -1500,\n        -260\n      ],\n      \"parameters\": {\n        \"width\": 320,\n        \"height\": 240,\n        \"content\": \"Chain that summarizes the received email\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"4afc8b00-d1e5-473c-a71e-1299c84c546e\",\n      \"name\": \"Sticky Note5\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -1060,\n        -260\n      ],\n      \"parameters\": {\n        \"width\": 340,\n        \"height\": 240,\n        \"content\": \"Agent that retrieves business information from a vector database and processes the response\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"be1762ff-729b-4b83-9139-16f835b748f2\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -1800,\n        -260\n      ],\n      \"parameters\": {\n        \"height\": 240,\n        \"content\": \"Convert email to Markdown format for better understanding of LLM models\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"f818ede7-895a-4860-91d3-f08cc32ec0e3\",\n      \"name\": \"Sticky Note6\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -380,\n        -380\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"height\": 360,\n        \"content\": \"## IMPORTANT\\n\\nFor the \\\"Send Draft\\\" node, you need to send the draft email to a Gmail address because it is the only one that allows the \\\"Send and wait for response\\\" function.\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"929b525a-912b-4f7b-a6e7-dfeb88a446c8\",\n      \"name\": \"Sticky Note7\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -100,\n        -260\n      ],\n      \"parameters\": {\n        \"width\": 360,\n        \"height\": 240,\n        \"content\": \"Based on the suggestion received, the text classifier can understand whether the feedback received approves the generated email or not.\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"2468e643-013f-4925-ab35-c8ef4ee6eed2\",\n      \"name\": \"Email Reviewer\",\n      \"type\": \"@n8n/n8n-nodes-langchain.agent\",\n      \"position\": [\n        380,\n        -40\n      ],\n      \"parameters\": {\n        \"text\": \"=Review at the following email:\\n{{ $('Edit Fields').item.json.email }}\\n\\nFeedback from human:\\n{{ $json.data.text }}\",\n        \"options\": {\n          \"systemMessage\": \"If you are an expert in reviewing emails before sending them. You need to review and structure them in such a way that you can send them. It must be in HTML format and you can insert (if you think it is appropriate) only HTML characters such as <br>, <b>, <i>, <p> where necessary. Be concise and never exceed 100 words. Only the body of the email\"\n        },\n        \"promptType\": \"define\",\n        \"hasOutputParser\": true\n      },\n      \"typeVersion\": 1.7\n    },\n    {\n      \"id\": \"ecd9d3f8-2e79-4e5f-a73d-48de60441376\",\n      \"name\": \"Sticky Note8\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        340,\n        -120\n      ],\n      \"parameters\": {\n        \"width\": 340,\n        \"height\": 220,\n        \"content\": \"The Email Reviewer agent, taking inspiration from human feedback, rewrites the email\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"de11da52-1513-4797-8070-b64e84b84158\",\n  \"connections\": {\n    \"Gmail\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Text Classifier\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"OpenAI\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Write email\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Email Reviewer\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Text Classifier\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Markdown\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Email Summarization Chain\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get folder\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Download Files\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Edit Fields\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Gmail\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Write email\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Edit Fields\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Download Files\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Qdrant Vector Store1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Email Reviewer\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Edit Fields\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Token Splitter\": {\n      \"ai_textSplitter\": [\n        [\n          {\n            \"node\": \"Default Data Loader\",\n            \"type\": \"ai_textSplitter\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Text Classifier\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Send Email\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Email Reviewer\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Embeddings OpenAI\": {\n      \"ai_embedding\": [\n        [\n          {\n            \"node\": \"Qdrant Vector Store\",\n            \"type\": \"ai_embedding\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Embeddings OpenAI1\": {\n      \"ai_embedding\": [\n        [\n          {\n            \"node\": \"Qdrant Vector Store1\",\n            \"type\": \"ai_embedding\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Refresh collection\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get folder\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"DeepSeek Chat Model\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Email Summarization Chain\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Default Data Loader\": {\n      \"ai_document\": [\n        [\n          {\n            \"node\": \"Qdrant Vector Store1\",\n            \"type\": \"ai_document\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Qdrant Vector Store\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"Write email\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Email Reviewer\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Email Trigger (IMAP)\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Markdown\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Email Summarization Chain\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Write email\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When clicking ‘Test workflow’\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Create collection\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Refresh collection\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.emailReadImap",
      "n8n-nodes-base.markdown",
      "n8n-nodes-base.emailSend",
      "@n8n/n8n-nodes-langchain.vectorStoreQdrant",
      "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "@n8n/n8n-nodes-langchain.chainSummarization",
      "@n8n/n8n-nodes-langchain.agent",
      "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "n8n-nodes-base.gmail",
      "@n8n/n8n-nodes-langchain.textClassifier",
      "n8n-nodes-base.set",
      "n8n-nodes-base.manualTrigger",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.googleDrive",
      "n8n-nodes-base.googleDrive",
      "@n8n/n8n-nodes-langchain.documentDefaultDataLoader",
      "@n8n/n8n-nodes-langchain.textSplitterTokenSplitter",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "@n8n/n8n-nodes-langchain.vectorStoreQdrant",
      "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "n8n-nodes-base.stickyNote",
      "@n8n/n8n-nodes-langchain.lmChatDeepSeek",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "@n8n/n8n-nodes-langchain.agent",
      "n8n-nodes-base.stickyNote"
    ],
    "trigger": "email trigger (imap)"
  }
}