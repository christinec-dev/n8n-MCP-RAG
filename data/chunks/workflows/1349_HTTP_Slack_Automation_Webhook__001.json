{
  "source": "1349_HTTP_Slack_Automation_Webhook.json",
  "index": 1,
  "content": "{\n  \"id\": \"B6UHILmjPWa7ViQ4\",\n  \"meta\": {\n    \"instanceId\": \"ecc960f484e18b0e09045fd93acf0d47f4cfff25cc212ea348a08ac3aae81850\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"name\": \"Weather via Slack\",\n  \"tags\": [\n    {\n      \"id\": \"2KlkHxhULPP42BS6\",\n      \"name\": \"App 72\",\n      \"createdAt\": \"2025-02-19T21:15:27.390Z\",\n      \"updatedAt\": \"2025-02-19T21:15:27.390Z\"\n    },\n    {\n      \"id\": \"aw8suPYTKfXDtMZl\",\n      \"name\": \"Utility\",\n      \"createdAt\": \"2025-02-10T14:41:49.045Z\",\n      \"updatedAt\": \"2025-02-10T14:41:49.045Z\"\n    }\n  ],\n  \"nodes\": [\n    {\n      \"id\": \"9aea370b-7eb9-4742-9663-6628513e4de3\",\n      \"name\": \"Webhook\",\n      \"type\": \"n8n-nodes-base.webhook\",\n      \"position\": [\n        -340,\n        -300\n      ],\n      \"webhookId\": \"41a60a4f-66d0-433b-aa43-b225dffa6761\",\n      \"parameters\": {\n        \"path\": \"slack1\",\n        \"options\": {},\n        \"httpMethod\": \"POST\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"c982487f-076a-48e8-9a35-78e8fbfb8936\",\n      \"name\": \"Slack\",\n      \"type\": \"n8n-nodes-base.slack\",\n      \"position\": [\n        560,\n        -300\n      ],\n      \"webhookId\": \"4840f197-e116-4ef5-9372-0abd063e4aad\",\n      \"parameters\": {\n        \"text\": \"={{\\n  JSON.parse($node[\\\"NWS1\\\"].json.data).properties.periods\\n  .map(period => \\n    `*${period.name}*\\\\n` +\\n    `Temp: ${period.temperature}Â°${period.temperatureUnit}\\\\n` +\\n    `Wind: ${period.windSpeed} ${period.windDirection}\\\\n` +\\n    `Forecast: ${period.shortForecast}`\\n  )\\n  .join(\\\"\\\\n\\\\n\\\")\\n}}\\n\",\n        \"select\": \"channel\",\n        \"channelId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"C0889718P8S\",\n          \"cachedResultName\": \"n8n\"\n        },\n        \"otherOptions\": {},\n        \"authentication\": \"oAuth2\"\n      },\n      \"credentials\": {\n        \"slackOAuth2Api\": {\n          \"id\": \"GSiEiuKBz8GR5qiD\",\n          \"name\": \"AlexK Slack account\"\n        }\n      },\n      \"typeVersion\": 2.3\n    },\n    {\n      \"id\": \"7d42112a-0590-4a09-ba0e-dbdf1eddccf2\",\n      \"name\": \"OpenStreetMap\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        -100,\n        -300\n      ],\n      \"parameters\": {\n        \"url\": \"https://nominatim.openstreetmap.org/search\",\n        \"options\": {\n          \"response\": {\n            \"response\": {\n              \"fullResponse\": true\n            }\n          }\n        },\n        \"sendQuery\": true,\n        \"sendHeaders\": true,\n        \"queryParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"q\",\n              \"value\": \"={{ $('Webhook').item.json.body.text }}\"\n            },\n            {\n              \"name\": \"format\",\n              \"value\": \"json\"\n            }\n          ]\n        },\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"User-Agent\",\n              \"value\": \"alexk1919 (alex@alexk1919.com)\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"565a0123-9059-4e6e-be97-96e0875c1b84\",\n      \"name\": \"NWS\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        120,\n        -300\n      ],\n      \"parameters\": {\n        \"url\": \"=https://api.weather.gov/points/{{ $json.body[0].lat }},{{ $json.body[0].lon }}\",\n        \"options\": {\n          \"response\": {\n            \"response\": {\n              \"fullResponse\": true\n            }\n          }\n        },\n        \"sendHeaders\": true,\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"User-Agent\",\n              \"value\": \"alexk1919 (alex@alexk1919.com)\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"3505e6c2-6e66-4abd-a1bb-75a1d8fc9a08\",\n      \"name\": \"NWS1\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        340,\n        -300\n      ],\n      \"parameters\": {\n        \"url\": \"=https://api.weather.gov/gridpoints/{{$json[\\\"data\\\"] ? JSON.parse($json[\\\"data\\\"]).properties.gridId : \\\"\\\"}}\\n/{{$json[\\\"data\\\"] ? JSON.parse($json[\\\"data\\\"]).properties.gridX : \\\"\\\"}}\\n,{{$json[\\\"data\\\"] ? JSON.parse($json[\\\"data\\\"]).properties.gridY : \\\"\\\"}}\\n/forecast\",\n        \"options\": {\n          \"response\": {\n            \"response\": {\n              \"fullResponse\": true\n            }\n          }\n        },\n        \"sendHeaders\": true,\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"User-Agent\",\n              \"value\": \"alexk1919 (alex@alexk1919.com)\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 4.2\n    }\n  ],\n  \"active\": true,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"4244c90f-02e9-42fc-9873-3f8074f6ecf4\",\n  \"connections\": {\n    \"NWS\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"NWS1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"NWS1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Slack\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Slack\": {\n      \"main\": [\n        []\n      ]\n    },\n    \"Webhook\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"OpenStreetMap\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"OpenStreetMap\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"NWS\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.webhook",
      "n8n-nodes-base.slack",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.httpRequest"
    ],
    "trigger": null
  }
}