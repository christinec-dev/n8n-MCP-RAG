{
  "source": "0093_HTTP_GitHub_Create_Scheduled.json",
  "index": 1,
  "content": "{\n  \"nodes\": [\n    {\n      \"name\": \"GitHub Edit\",\n      \"type\": \"n8n-nodes-base.github\",\n      \"position\": [\n        1190,\n        610\n      ],\n      \"parameters\": {\n        \"owner\": \"YOUR_USERNAME\",\n        \"filePath\": \"={{$json[\\\"data\\\"][\\\"name\\\"]}}.json\",\n        \"resource\": \"file\",\n        \"operation\": \"edit\",\n        \"repository\": \"REPO_NAME\",\n        \"fileContent\": \"={{JSON.stringify($json[\\\"data\\\"])}}\",\n        \"commitMessage\": \"=[N8N Backup] {{$json.data[\\\"name\\\"]}} ({{new Date(Date.now()).toLocaleDateString()}})\"\n      },\n      \"credentials\": {\n        \"githubApi\": \"GitHub@harshil1712\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Get Files\",\n      \"type\": \"n8n-nodes-base.github\",\n      \"position\": [\n        200,\n        500\n      ],\n      \"parameters\": {\n        \"owner\": \"YOUR_USERNAME\",\n        \"filePath\": \"/\",\n        \"resource\": \"file\",\n        \"operation\": \"get\",\n        \"repository\": \"REPO\",\n        \"asBinaryProperty\": false\n      },\n      \"credentials\": {\n        \"githubApi\": \"GitHub@harshil1712\"\n      },\n      \"executeOnce\": true,\n      \"typeVersion\": 1,\n      \"alwaysOutputData\": false\n    },\n    {\n      \"name\": \"Transform\",\n      \"type\": \"n8n-nodes-base.function\",\n      \"position\": [\n        400,\n        500\n      ],\n      \"parameters\": {\n        \"functionCode\": \"return items[0].json.map(item => {\\n  return {\\n    json: item\\n  }\\n});\\n\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Create file\",\n      \"type\": \"n8n-nodes-base.github\",\n      \"position\": [\n        1240,\n        280\n      ],\n      \"parameters\": {\n        \"owner\": \"YOUR_USERNAME\",\n        \"filePath\": \"={{$json[\\\"data\\\"][\\\"name\\\"]}}.json\",\n        \"resource\": \"file\",\n        \"repository\": \"REPO\",\n        \"fileContent\": \"={{JSON.stringify($node['Merge'].json[\\\"data\\\"])}}\",\n        \"commitMessage\": \"=[N8N Backup] {{$json.data[\\\"name\\\"]}}.json ({{new Date(Date.now()).toLocaleDateString()}})\"\n      },\n      \"credentials\": {\n        \"githubApi\": \"GitHub@harshil1712\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Merge\",\n      \"type\": \"n8n-nodes-base.merge\",\n      \"position\": [\n        930,\n        280\n      ],\n      \"parameters\": {\n        \"mode\": \"removeKeyMatches\",\n        \"propertyName1\": \"data.name\",\n        \"propertyName2\": \"data.name\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Get workflows\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        200,\n        300\n      ],\n      \"parameters\": {\n        \"url\": \"http://localhost:5678/rest/workflows\",\n        \"options\": {},\n        \"authentication\": \"basicAuth\"\n      },\n      \"credentials\": {\n        \"httpBasicAuth\": \"n8n instance auth\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Get workflow data\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        600,\n        300\n      ],\n      \"parameters\": {\n        \"url\": \"=http://localhost:5678/rest/workflows/{{$json[\\\"id\\\"]}}\",\n        \"options\": {},\n        \"authentication\": \"basicAuth\"\n      },\n      \"credentials\": {\n        \"httpBasicAuth\": \"n8n instance auth\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Download Raw Content\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        600,\n        500\n      ],\n      \"parameters\": {\n        \"url\": \"={{$json[\\\"download_url\\\"]}}\",\n        \"options\": {},\n        \"authentication\": \"headerAuth\",\n        \"responseFormat\": \"string\"\n      },\n      \"credentials\": {\n        \"httpHeaderAuth\": \"GitHub Token\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"transform\",\n      \"type\": \"n8n-nodes-base.function\",\n      \"position\": [\n        390,\n        300\n      ],\n      \"parameters\": {\n        \"functionCode\": \"const newItems = [];\\nfor (item of items[0].json.data) {\\n  newItems.push({json: item});\\n}\\nreturn newItems;\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Daily at 23:59\",\n      \"type\": \"n8n-nodes-base.cron\",\n      \"position\": [\n        -20,\n        300\n      ],\n      \"parameters\": {\n        \"triggerTimes\": {\n          \"item\": [\n            {\n              \"hour\": 23,\n              \"minute\": 59\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Merge1\",\n      \"type\": \"n8n-nodes-base.merge\",\n      \"position\": [\n        970,\n        610\n      ],\n      \"parameters\": {\n        \"mode\": \"removeKeyMatches\",\n        \"propertyName1\": \"data.updatedAt\",\n        \"propertyName2\": \"data.updatedAt\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"connections\": {\n    \"Merge\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Create file\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Merge1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"GitHub Edit\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get Files\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Transform\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Transform\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Download Raw Content\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"transform\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get workflow data\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get workflows\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"transform\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Daily at 23:59\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get workflows\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get workflow data\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Merge\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Merge1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Download Raw Content\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Merge\",\n            \"type\": \"main\",\n            \"index\": 1\n          },\n          {\n            \"node\": \"Merge1\",\n            \"type\": \"main\",\n            \"index\": 1\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.github",
      "n8n-nodes-base.github",
      "n8n-nodes-base.function",
      "n8n-nodes-base.github",
      "n8n-nodes-base.merge",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.function",
      "n8n-nodes-base.cron",
      "n8n-nodes-base.merge"
    ],
    "trigger": null
  }
}