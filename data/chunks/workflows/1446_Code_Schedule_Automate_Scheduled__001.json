{
  "source": "1446_Code_Schedule_Automate_Scheduled.json",
  "index": 1,
  "content": "{\n  \"id\": \"Eyh4jc7RK7rCTh4z\",\n  \"meta\": {\n    \"instanceId\": \"38fb1860cc6284b8af9ba3b485f32cc1851cd97470ef1b4a472b5e707f1c93b5\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"name\": \"My workflow 2\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"084bcc9e-9d05-4b69-8cb1-eccdcb67358e\",\n      \"name\": \"When clicking ‘Test workflow’\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        500,\n        720\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"f593e3f1-adea-4ef7-9779-4f2436fe7774\",\n      \"name\": \"XML\",\n      \"type\": \"n8n-nodes-base.xml\",\n      \"position\": [\n        1540,\n        880\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"normalize\": false,\n          \"explicitArray\": false\n        }\n      },\n      \"executeOnce\": true,\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"5906371f-d5da-4141-876f-542cb5d0d1a8\",\n      \"name\": \"GoogleTrends\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1280,\n        880\n      ],\n      \"parameters\": {\n        \"url\": \"https://trends.google.it/trending/rss?geo=IT\",\n        \"options\": {}\n      },\n      \"executeOnce\": true,\n      \"retryOnFail\": true,\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"7badc1ad-48c2-4142-88bb-fa3f442abd66\",\n      \"name\": \"CONFIG\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        760,\n        880\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"25d7e553-9678-40ad-bb69-e4eb4bce4d11\",\n              \"name\": \"min_traffic\",\n              \"type\": \"number\",\n              \"value\": 500\n            },\n            {\n              \"id\": \"decd0a3d-ddc5-45c3-a56f-ee1f14705019\",\n              \"name\": \"max_results\",\n              \"type\": \"number\",\n              \"value\": 3\n            },\n            {\n              \"id\": \"12cdd78a-45a7-499e-8fe5-0ab6a7da8a10\",\n              \"name\": \"jina_key\",\n              \"type\": \"string\",\n              \"value\": \"\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"b92ad672-ea1d-4b5b-ae1d-0aa883c5db9a\",\n      \"name\": \"Get saved keywords\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        1020,\n        880\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"sheetName\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gid=0\",\n          \"cachedResultUrl\": \"\",\n          \"cachedResultName\": \"\"\n        },\n        \"documentId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"\",\n          \"cachedResultUrl\": \"\",\n          \"cachedResultName\": \"\"\n        }\n      },\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"0HENZXUy9PlxLx0O\",\n          \"name\": \"Google Sheets account\"\n        }\n      },\n      \"executeOnce\": true,\n      \"typeVersion\": 4.5,\n      \"alwaysOutputData\": false\n    },\n    {\n      \"id\": \"e5639494-d757-442f-942f-75927ecadd86\",\n      \"name\": \"Loop Over Items\",\n      \"type\": \"n8n-nodes-base.splitInBatches\",\n      \"position\": [\n        740,\n        1380\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"2c81d605-6749-47a2-95ba-846d86388c04\",\n      \"name\": \"Mapping\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        1000,\n        1380\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"7230decf-45d9-4006-b005-614fb1dede10\",\n              \"name\": \"summary\",\n              \"type\": \"string\",\n              \"value\": \"={{ $('content1').item.json.data.text.replaceAll('\\\\n', ' ').trim() }}\\n---\\n{{ $('content2').item.json.data.text.replaceAll('\\\\n', ' ').trim() }}\\n---\\n{{ $('content3').item.json.data.text.replaceAll('\\\\n', ' ').trim() }}\"\n            },\n            {\n              \"id\": \"ad8f7dcd-fc93-41f3-b643-db4a2b569119\",\n              \"name\": \"trending_keyword\",\n              \"type\": \"string\",\n              \"value\": \"={{ $('New keywords').item.json.trending_keyword }}\"\n            },\n            {\n              \"id\": \"a3838385-90e2-4308-b147-5ef6de4a2c19\",\n              \"name\": \"approx_traffic\",\n              \"type\": \"number\",\n              \"value\": \"={{ $('New keywords').item.json.approx_traffic }}\"\n            },\n            {\n              \"id\": \"fc8523d5-a68d-443b-ad49-9057dee85617\",\n              \"name\": \"pubDate\",\n              \"type\": \"string\",\n              \"value\": \"={{ $('New keywords').item.json.pubDate }}\"\n            },\n            {\n              \"id\": \"139fd57f-8ccc-453b-9f8f-94c9546bbd1c\",\n              \"name\": \"status\",\n              \"type\": \"string\",\n              \"value\": \"idea\"\n            },\n            {\n              \"id\": \"39fa6799-78db-453e-ad29-359ab441e912\",\n              \"name\": \"news_item_url1\",\n              \"type\": \"string\",\n              \"value\": \"={{ $('New keywords').item.json.news_item_url1 }}\"\n            },\n            {\n              \"id\": \"1e6e7545-526a-4003-ac92-520fa04cfe1d\",\n              \"name\": \"news_item_title1\",\n              \"type\": \"string\",\n              \"value\": \"={{ $('New keywords').item.json.news_item_title1 }}\"\n            },\n            {\n              \"id\": \"12c019fc-2fe6-41e8-a8b8-e38bdfa16215\",\n              \"name\": \"news_item_title2\",\n              \"type\": \"string\",\n              \"value\": \"={{ $('New keywords').item.json.news_item_title2 }}\"\n            },\n            {\n              \"id\": \"b14b5835-66b7-448c-b9a5-d9f85d9f7f12\",\n              \"name\": \"news_item_url2\",\n              \"type\": \"string\",\n              \"value\": \"={{ $('New keywords').item.json.news_item_url2 }}\"\n            },\n            {\n              \"id\": \"4df8d3e0-7c8d-40e1-8ed7-b1743a8bbf17\",\n              \"name\": \"news_item_title3\",\n              \"type\": \"string\",\n              \"value\": \"={{ $('New keywords').item.json.news_item_title3 }}\"\n            },\n            {\n              \"id\": \"7fe45e6d-1978-49b4-b289-c33e3d68f71a\",\n              \"name\": \"news_item_url3\",\n              \"type\": \"string\",\n              \"value\": \"={{ $('New keywords').item.json.news_item_url3 }}\"\n            },\n            {\n              \"id\": \"ef39509c-c4e7-49b1-9ee8-ad82a8af9514\",\n              \"name\": \"news_item_picture1\",\n              \"type\": \"string\",\n              \"value\": \"={{ $('New keywords').item.json.news_item_picture1 }}\"\n            },\n            {\n              \"id\": \"a2210ea6-8ee5-408a-9ba1-5e07bd4d7f1b\",\n              \"name\": \"news_item_source1\",\n              \"type\": \"string\",\n              \"value\": \"={{ $('New keywords').item.json.news_item_source1 }}\"\n            },\n            {\n              \"id\": \"b6136672-4c09-4da0-ba5b-d9026877ca1e\",\n              \"name\": \"news_item_picture2\",\n              \"type\": \"string\",\n              \"value\": \"={{ $('New keywords').item.json.news_item_picture2 }}\"\n            },\n            {\n              \"id\": \"f9a54dca-079c-4431-af34-6bb98a6d8711\",\n              \"name\": \"news_item_source2\",\n              \"type\": \"string\",\n              \"value\": \"={{ $('New keywords').item.json.news_item_source2 }}\"\n            },\n            {\n              \"id\": \"aa38fecd-3743-447f-aa54-a1a86b5ad717\",\n              \"name\": \"news_item_picture3\",\n              \"type\": \"string\",\n              \"value\": \"={{ $('New keywords').item.json.news_item_picture3 }}\"\n            },\n            {\n              \"id\": \"2ff53574-9f9d-4e35-afbe-161e77a58515\",\n              \"name\": \"news_item_source3\",\n              \"type\": \"string\",\n              \"value\": \"={{ $('New keywords').item.json.news_item_source3 }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"5ca98d8f-0bc6-4b77-a367-81ed2509deba\",\n      \"name\": \"Google Sheets\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        1580,\n        1180\n      ],\n      \"parameters\": {\n        \"columns\": {\n          \"value\": {\n            \"status\": \"idea\",\n            \"pubDate\": \"={{ $json.pubDate }}\",\n            \"abstract\": \"={{ $json.abstract.replaceAll('  ', '').substring(0, 49999) }}\",\n            \"approx_traffic\": \"={{ $json.approx_traffic }}\",\n            \"news_item_url1\": \"={{ $json.news_item_url1 }}\",\n            \"news_item_url2\": \"={{ $json.news_item_url2 }}\",\n            \"news_item_url3\": \"={{ $json.news_item_url3 }}\",\n            \"news_item_title1\": \"={{ $json.news_item_title1 }}\",\n            \"news_item_title2\": \"={{ $json.news_item_title2 }}\",\n            \"news_item_title3\": \"={{ $json.news_item_title3 }}\",\n            \"trending_keyword\": \"={{ $json.trending_keyword }}\",\n            \"news_item_source1\": \"={{ $json.news_item_source1 }}\",\n            \"news_item_source2\": \"={{ $json.news_item_source2 }}\",\n            \"news_item_source3\": \"={{ $json.news_item_source3 }}\",\n            \"news_item_picture1\": \"={{ $json.news_item_picture1 }}\",\n            \"news_item_picture2\": \"={{ $json.news_item_picture2 }}\",\n            \"news_item_picture3\": \"={{ $json.news_item_picture3 }}\"\n          },\n          \"schema\": [\n            {\n              \"id\": \"status\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"status\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"trending_keyword\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"trending_keyword\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"approx_traffic\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"approx_traffic\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"abstract\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"abstract\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"pubDate\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"pubDate\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"news_item_url1\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"news_item_url1\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"news_item_title1\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"news_item_title1\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"news_item_picture1\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"news_item_picture1\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"news_item_source1\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"news_item_source1\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"news_item_url2\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"news_item_url2\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"news_item_title2\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"news_item_title2\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"news_item_picture2\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"news_item_picture2\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"news_item_source2\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"news_item_source2\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"news_item_url3\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"news_item_url3\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"news_item_title3\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"news_item_title3\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"news_item_picture3\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"news_item_picture3\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"news_item_source3\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"news_item_source3\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": [],\n          \"attemptToConvertTypes\": false,\n          \"convertFieldsToString\": false\n        },\n        \"options\": {},\n        \"operation\": \"append\",\n        \"sheetName\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gid=0\",\n          \"cachedResultUrl\": \"\",\n          \"cachedResultName\": \"\"\n        },\n        \"documentId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"\",\n          \"cachedResultUrl\": \"\",\n          \"cachedResultName\": \"\"\n        }\n      },\n      \"typeVersion\": 4.5\n    },\n    {\n      \"id\": \"41fcb412-ea5d-4adc-8d40-d72398537150\",\n      \"name\": \"New keywords\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        1780,\n        880\n      ],\n      \"parameters\": {\n        \"jsCode\": \"const max_results = $('CONFIG').first().json.max_results;\\nconst min_traffic = $('CONFIG').first().json.min_traffic;\\n\\nconst gsheet = $(\\\"Get saved keywords\\\").all();\\nconst gsheetKeys = gsheet.map(record => record.json.trending_keyword);\\n\\nconst items = $('XML').first().json.rss.channel.item;\\nconst trafficKey = Object.keys(items[0]).find(key => key.includes(\\\"approx_traffic\\\"));\\nconst parseTraffic = (traffic) => parseInt(traffic.replace('+', ''), 10);\\n\\nconst newItems = items.map(item => {\\n    const links = Array.isArray(item[\\\"ht:news_item\\\"]) ? item[\\\"ht:news_item\\\"].slice(0, 3) : [];\\n\\n    const flattenedLinks = links.reduce((acc, news, index) => {\\n        acc[`news_item_url${index + 1}`] = news[\\\"ht:news_item_url\\\"];\\n        acc[`news_item_title${index + 1}`] = news[\\\"ht:news_item_title\\\"];\\n        acc[`news_item_picture${index + 1}`] = news[\\\"ht:news_item_picture\\\"];\\n        acc[`news_item_source${index + 1}`] = news[\\\"ht:news_item_source\\\"];\\n        return acc;\\n    }, {});\\n\\n    return {\\n        trending_keyword: item.title,\\n        approx_traffic: parseTraffic(item[trafficKey]),\\n        pubDate: item.pubDate,\\n        ...flattenedLinks, // Aggiungi i link\\n    };\\n}).filter(item => \\n    item.approx_traffic >= min_traffic && \\n    !gsheetKeys.includes(item.trending_keyword) // Filtra quelli già presenti in Google Sheets\\n);\\n\\nlet sortedItems = newItems.sort((a, b) => b.approx_traffic - a.approx_traffic);\\nif (max_results > 0) {\\n    sortedItems = sortedItems.slice(0, max_results);\\n}\\n\\nreturn sortedItems;\\n\"\n      },\n      \"typeVersion\": 2,\n      \"alwaysOutputData\": false\n    },\n    {\n      \"id\": \"56a953da-15a7-48da-a299-c53a7947c45e\",\n      \"name\": \"content1\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1020,\n        1700\n      ],\n      \"parameters\": {\n        \"url\": \"=https://r.jina.ai/{{ $('New keywords').item.json.news_item_url1 }}\",\n        \"options\": {},\n        \"sendHeaders\": true,\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"Authorization\",\n              \"value\": \"=Bearer {{ $('CONFIG').item.json.jina_key }}\"\n            },\n            {\n              \"name\": \"Accept\",\n              \"value\": \"application/json\"\n            },\n            {\n              \"name\": \"X-Remove-Selector\",\n              \"value\": \"a, link, script, footer, img, svg\"\n            },\n            {\n              \"name\": \"X-Retain-Images\",\n              \"value\": \"none\"\n            },\n            {\n              \"name\": \"X-Return-Format\",\n              \"value\": \"text\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"e3dbb73f-eac8-47aa-b621-0775dd09c5bf\",\n      \"name\": \"content2\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1280,\n        1700\n      ],\n      \"parameters\": {\n        \"url\": \"=https://r.jina.ai/{{ $('New keywords').item.json.news_item_url2 }}\",\n        \"options\": {},\n        \"sendHeaders\": true,\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"Authorization\",\n              \"value\": \"=Bearer {{ $('CONFIG').item.json.jina_key }}\"\n            },\n            {\n              \"name\": \"Accept\",\n              \"value\": \"application/json\"\n            },\n            {\n              \"name\": \"X-Remove-Selector\",\n              \"value\": \"a, link, script, footer, img, svg\"\n            },\n            {\n              \"name\": \"X-Retain-Images\",\n              \"value\": \"none\"\n            },\n            {\n              \"name\": \"X-Return-Format\",\n              \"value\": \"text\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"0723267a-5e4e-40e2-87bf-4c215c79b66c\",\n      \"name\": \"content3\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1560,\n        1700\n      ],\n      \"parameters\": {\n        \"url\": \"=https://r.jina.ai/{{ $('New keywords').item.json.news_item_url3 }}\",\n        \"options\": {},\n        \"sendHeaders\": true,\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"Authorization\",\n              \"value\": \"=Bearer {{ $('CONFIG').item.json.jina_key }}\"\n            },\n            {\n              \"name\": \"Accept\",\n              \"value\": \"application/json\"\n            },\n            {\n              \"name\": \"X-Remove-Selector\",\n              \"value\": \"a, link, script, footer, img, svg\"\n            },\n            {\n              \"name\": \"X-Retain-Images\",\n              \"value\": \"none\"\n            },\n            {\n              \"name\": \"X-Return-Format\",\n              \"value\": \"text\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"8621b782-a182-479a-afa1-de0b525d3909\",\n      \"name\": \"Start every hour past 11 minutes\",\n      \"type\": \"n8n-nodes-base.scheduleTrigger\",\n      \"position\": [\n        500,\n        880\n      ],\n      \"parameters\": {\n        \"rule\": {\n          \"interval\": [\n            {\n              \"field\": \"cronExpression\",\n              \"expression\": \"11 */1 * * *\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"d04e89cd-a578-45d9-88f2-be4c72407049\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        420,\n        560\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"height\": 1300,\n        \"content\": \"## Cron trigger\\nGoogle Trends update the RSS feed every 10 minutes. This will start wordflow 1 minute after. \"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"4644b6ca-43da-42ab-870c-eeb52610208c\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        680,\n        560\n      ],\n      \"parameters\": {\n        \"color\": 3,\n        \"height\": 480,\n        \"content\": \"## CONFIGURATION\\nmin_traffic is a numeric value. Google Trend RSS has an approx traffic value 100, 200, 500, 1000 etc.\\n\\nmax_result is a numeric value used to limit max rss to scrape\\n\\njina_key is the jina.ai API key\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"b4ac3f6a-dc72-4e3e-9fa1-80298a66ddf9\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        940,\n        560\n      ],\n      \"parameters\": {\n        \"height\": 480,\n        \"content\": \"## Google Sheet Database\\nThis is main sheet where all your Editorial plan will be saved.\\n\\nThe column status value could be a trigger for other automations\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"09fa9ed7-2557-46ae-857f-e251bf25b10e\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1200,\n        560\n      ],\n      \"parameters\": {\n        \"height\": 480,\n        \"content\": \"## Google Trends request\\n\\nWe get last kwyword in trend. Every item has a main keyword and 3 URL. We will use those url to scrape content and generate a combined summary\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"6d3d6f90-4eae-4239-b8cd-bfdb40bf01e9\",\n      \"name\": \"Sticky Note4\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1460,\n        560\n      ],\n      \"parameters\": {\n        \"height\": 480,\n        \"content\": \"## Simple conversion\\n\\nConverts XML RSS into a more readable json object\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"3b5dd19f-ac2d-426b-8853-1af3819e10f6\",\n      \"name\": \"Sticky Note5\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1720,\n        560\n      ],\n      \"parameters\": {\n        \"height\": 480,\n        \"content\": \"## Building dataset\\n\\nHere we limits results, filter by mmin traffic and we flat the RSS structure to adapt to Google Sheet, fields are renamed as per description.\\n\\nThen RSS result and Google Sheet is compared, if a new keyword is found we have result. If RSS give a keyword already srtored, this node doesn't give any output.\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"cce50db5-6566-439c-9b90-3f8720411613\",\n      \"name\": \"Sticky Note6\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        940,\n        1080\n      ],\n      \"parameters\": {\n        \"height\": 460,\n        \"content\": \"## Data mapping\\n\\nHere you have all fields needed in Google Sheet.\\n\\nWhile done, the content of 3 website linked in Google Trends RSS will be merged in a single Summary field\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"d57a8c16-21c6-4388-bb91-093428061ac5\",\n      \"name\": \"Sticky Note7\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1200,\n        1080\n      ],\n      \"parameters\": {\n        \"color\": 3,\n        \"height\": 460,\n        \"content\": \"## Data check\\n\\nSometimes scraping HTML content fails (for some reasons), that's normal but this should avoid to save a zero content if all 3 scraping nodes will fail\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"2bcbf0a9-423d-45eb-a444-ab2140db2db6\",\n      \"name\": \"Sticky Note8\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        680,\n        1080\n      ],\n      \"parameters\": {\n        \"height\": 460,\n        \"content\": \"## Data mapping\\n\\nHere you have all fields needed in Google Sheet.\\n\\nWhile done, the content of 3 website linked in Google Trends RSS will be merged in a single Summary field\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"692b342c-c252-48c6-ad11-b58906aa62e2\",\n      \"name\": \"If we have scraped min 1 url -> Save\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        1280,\n        1380\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"42b15ebc-f2f7-4dc0-957f-b04d1bdacb41\",\n              \"operator\": {\n                \"type\": \"boolean\",\n                \"operation\": \"true\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $json.summary.length > 100 }}\",\n              \"rightValue\": \"\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"f2f94f0b-dcb4-4b52-86f8-c92aa2fc3d88\",\n      \"name\": \"All scraping node failed. Don't save record without summary\",\n      \"type\": \"n8n-nodes-base.noOp\",\n      \"position\": [\n        1580,\n        1380\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"d3f42eb0-5e37-40ff-a476-46b6384f2647\",\n      \"name\": \"Sticky Note9\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        680,\n        1560\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 1280,\n        \"height\": 300,\n        \"content\": \"## Scraping\\n\\nHere jina.ai will get text content from 3 Google Trends URLs\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"8178a70e-f3d2-4157-8f4b-9adaf8932e8e\",\n      \"name\": \"Sticky Note10\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1460,\n        1080\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 500,\n        \"height\": 460,\n        \"content\": \"## Saving output\\n\\n\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"81aec91d-f995-4a14-b801-ef44070e7153\",\n  \"connections\": {\n    \"XML\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"New keywords\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"CONFIG\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get saved keywords\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Mapping\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"If we have scraped min 1 url -> Save\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"content1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"content2\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"content2\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"content3\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"content3\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Loop Over Items\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"GoogleTrends\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"XML\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"New keywords\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Loop Over Items\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Loop Over Items\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Mapping\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"content1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get saved keywords\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"GoogleTrends\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Start every hour past 11 minutes\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"CONFIG\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When clicking ‘Test workflow’\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"CONFIG\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"If we have scraped min 1 url -> Save\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Google Sheets\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"All scraping node failed. Don't save record without summary\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.manualTrigger",
      "n8n-nodes-base.xml",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.set",
      "n8n-nodes-base.googleSheets",
      "n8n-nodes-base.splitInBatches",
      "n8n-nodes-base.set",
      "n8n-nodes-base.googleSheets",
      "n8n-nodes-base.code",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.scheduleTrigger",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.if",
      "n8n-nodes-base.noOp",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote"
    ],
    "trigger": null
  }
}