{
  "source": "0544_Gmail_GoogleDrive_Create_Triggered.json",
  "index": 1,
  "content": "{\n  \"meta\": {\n    \"instanceId\": \"1a23006df50de49624f69e85993be557d137b6efe723a867a7d68a84e0b32704\"\n  },\n  \"nodes\": [\n    {\n      \"id\": \"3c7ae816-6ce2-4b6b-893e-75c6b8756555\",\n      \"name\": \"Trigger - New Email\",\n      \"type\": \"n8n-nodes-base.gmailTrigger\",\n      \"notes\": \"has:attachment\",\n      \"position\": [\n        680,\n        300\n      ],\n      \"parameters\": {\n        \"simple\": false,\n        \"filters\": {\n          \"q\": \"has:attachment\"\n        },\n        \"options\": {\n          \"downloadAttachments\": true\n        },\n        \"pollTimes\": {\n          \"item\": [\n            {\n              \"mode\": \"everyMinute\"\n            }\n          ]\n        }\n      },\n      \"notesInFlow\": true,\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"b87b2211-03d3-4742-98c9-977ae4a8d581\",\n      \"name\": \"attach binary data outputs\",\n      \"type\": \"n8n-nodes-base.function\",\n      \"position\": [\n        900,\n        300\n      ],\n      \"parameters\": {\n        \"functionCode\": \"let results = [];\\n\\nfor (item of items) {\\n    for (key of Object.keys(item.binary)) {\\n        results.push({\\n            json: {\\n                fileName: item.binary[key].fileName\\n            },\\n            binary: {\\n                data: item.binary[key],\\n            }\\n        });\\n    }\\n}\\n\\nreturn results;\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"f8e19c97-0983-4365-bc63-179605050ef2\",\n      \"name\": \"upload files to google drive\",\n      \"type\": \"n8n-nodes-base.googleDrive\",\n      \"position\": [\n        1140,\n        300\n      ],\n      \"parameters\": {\n        \"name\": \"={{ $json.fileName.split(\\\".\\\")[0] + \\\"-\\\" + $('Trigger - New Email').item.json.from.value[0].address + \\\".\\\" + $json.fileName.split(\\\".\\\")[1]}}\",\n        \"driveId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"My Drive\",\n          \"cachedResultUrl\": \"https://drive.google.com/drive/my-drive\",\n          \"cachedResultName\": \"My Drive\"\n        },\n        \"options\": {},\n        \"folderId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"root\",\n          \"cachedResultUrl\": \"https://drive.google.com/drive\",\n          \"cachedResultName\": \"/ (Root folder)\"\n        }\n      },\n      \"typeVersion\": 3\n    }\n  ],\n  \"pinData\": {},\n  \"connections\": {\n    \"Trigger - New Email\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"attach binary data outputs\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"attach binary data outputs\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"upload files to google drive\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.gmailTrigger",
      "n8n-nodes-base.function",
      "n8n-nodes-base.googleDrive"
    ],
    "trigger": "trigger - new email"
  }
}