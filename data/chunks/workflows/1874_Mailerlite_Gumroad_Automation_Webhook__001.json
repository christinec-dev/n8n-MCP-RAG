{
  "source": "1874_Mailerlite_Gumroad_Automation_Webhook.json",
  "index": 1,
  "content": "{\n  \"id\": \"06v55r6E13Wfvo66\",\n  \"meta\": {\n    \"instanceId\": \"dfec462482c1b16c8ef1928d51584c7f0ae64b3bfaa72e08675b15754b903bd2\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"name\": \"Gumroad sale trigger\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"789f1dec-d2d2-4e09-9530-719d354d259c\",\n      \"name\": \"Assign to group\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        140,\n        -280\n      ],\n      \"parameters\": {\n        \"url\": \"=https://connect.mailerlite.com/api/subscribers/{{ $json.id }}/groups/152489030254069581\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"authentication\": \"predefinedCredentialType\",\n        \"nodeCredentialType\": \"mailerLiteApi\"\n      },\n      \"credentials\": {\n        \"mailerLiteApi\": {\n          \"id\": \"i9V49FSxbwJhAGfI\",\n          \"name\": \"Mailer Lite account\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"53c0df02-5571-485c-91ce-6be2f62fd6d6\",\n      \"name\": \"Gumroad Sale Trigger\",\n      \"type\": \"n8n-nodes-base.gumroadTrigger\",\n      \"position\": [\n        -520,\n        -280\n      ],\n      \"webhookId\": \"06a01b99-cbf1-4694-8502-94ac51670ba4\",\n      \"parameters\": {\n        \"resource\": \"sale\"\n      },\n      \"credentials\": {\n        \"gumroadApi\": {\n          \"id\": \"wgjGSvLjsRBJImsQ\",\n          \"name\": \"Gumroad account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"ee782134-e2d4-4f8b-a9d9-a09a919577ab\",\n      \"name\": \"append row in CRM\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        480,\n        -280\n      ],\n      \"parameters\": {\n        \"columns\": {\n          \"value\": {\n            \"date\": \"={{ $('Gumroad Sale Trigger').item.json.sale_timestamp }}\",\n            \"email\": \"={{ $('Gumroad Sale Trigger').item.json.email }}\",\n            \"country\": \"={{ $('Gumroad Sale Trigger').item.json.ip_country }}\",\n            \"product name\": \"={{ $('Gumroad Sale Trigger').item.json.product_name }}\"\n          },\n          \"schema\": [\n            {\n              \"id\": \"date\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"date\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"product name\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"product name\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"email\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"email\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"country\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"country\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": [],\n          \"attemptToConvertTypes\": false,\n          \"convertFieldsToString\": false\n        },\n        \"options\": {},\n        \"operation\": \"append\",\n        \"sheetName\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gid=0\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1XYMstoZ4j3O5T-UYz21ky7P5bkUtzYXQGYCQTRVWCI4/edit#gid=0\",\n          \"cachedResultName\": \"Sheet1\"\n        },\n        \"documentId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"1XYMstoZ4j3O5T-UYz21ky7P5bkUtzYXQGYCQTRVWCI4\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1XYMstoZ4j3O5T-UYz21ky7P5bkUtzYXQGYCQTRVWCI4/edit?usp=drivesdk\",\n          \"cachedResultName\": \"Gumroad sales CRM\"\n        }\n      },\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"Ou2SgvNZctBeYWT5\",\n          \"name\": \"Google Sheets account\"\n        }\n      },\n      \"typeVersion\": 4.5\n    },\n    {\n      \"id\": \"98ff519b-3065-4c6b-bdeb-2d9095e3f52a\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -680,\n        -540\n      ],\n      \"parameters\": {\n        \"width\": 460,\n        \"height\": 460,\n        \"content\": \"## Trigger on a new Gumroad sale\\n### Requirements\\n- A [Gumroad]() account\\n- A product listed. We used ours [here](https://1node.gumroad.com/l/topaitools)\\n- Head to Settings > Advanced, and create a new application\\n\\n### Set up\\n- Paste your access token on this Gumroad sale trigger\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"f5ccfe9f-c56c-4394-bebf-1f7438a0dcdf\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -140,\n        -660\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 480,\n        \"height\": 580,\n        \"content\": \"## Connection to [MailerLite](https://www.mailerlite.com/a/Kr9Yplim6ZhV) newsletter \\n### Requirements\\n- A [Mailerlite](https://www.mailerlite.com/a/Kr9Yplim6ZhV) account\\n- A subscriber group created\\n- Generate a new API from the Integrations menu\\n\\n### Set up\\n- You will first need to create the subscriber with a simple Mailer lite node\\n- In the second node call the endpoint to [assign that same subscriber to the group](https://developers.mailerlite.com/docs/groups.html#assign-subscriber-to-a-group) you created manually on Mailerlite. For example, we named the group \\\"Gumroad\\\"\\n- To get the group id, we ran a node that calls the [\\\"list groups\\\" endpoint](https://developers.mailerlite.com/docs/groups.html#list-all-groups) and we appended it to the url.\\n\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"e4cea86a-494f-4c3c-9743-3e8eca461a04\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        420,\n        -460\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 480,\n        \"height\": 380,\n        \"content\": \"## Load into CRM\\n### Requirements\\n- Set up your api and credentials for Google Sheets. You can find the n8n docs [here](https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.googlesheets/?utm_source=n8n_app&utm_medium=node_settings_modal-credential_link&utm_campaign=n8n-nodes-base.googleSheets)\\n- Append the row to your table with your desired data collected previously\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"e81b7ae0-510e-454e-82ff-6d42bde9e81a\",\n      \"name\": \"add subscriber to MailerLite\",\n      \"type\": \"n8n-nodes-base.mailerLite\",\n      \"position\": [\n        -60,\n        -280\n      ],\n      \"parameters\": {\n        \"email\": \"={{ $json.email }}\",\n        \"additionalFields\": {\n          \"customFieldsUi\": {\n            \"customFieldsValues\": [\n              {\n                \"value\": \"={{ $json.ip_country }}\",\n                \"fieldId\": \"country\"\n              }\n            ]\n          }\n        }\n      },\n      \"credentials\": {\n        \"mailerLiteApi\": {\n          \"id\": \"i9V49FSxbwJhAGfI\",\n          \"name\": \"Mailer Lite account\"\n        }\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"9cc00d13-81d9-4584-9066-4b00b2ff7a47\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -160,\n        -60\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 520,\n        \"height\": 180,\n        \"content\": \"## Why assign the subscriber to a group? \\nIn [MailerLite](https://www.mailerlite.com/a/Kr9Yplim6ZhV) you can set up an automation that when a new subscriber is added into a group, a new email sequence begins, which allows you to send multiple emails to this user at a specific frequency.\\n\\nThis is a very powerful feature to funnel users to engage with your products or services.\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": true,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"3b94b27b-05cc-4996-9f1f-33ba7c3632ae\",\n  \"connections\": {\n    \"Assign to group\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"append row in CRM\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Gumroad Sale Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"add subscriber to MailerLite\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"add subscriber to MailerLite\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Assign to group\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.gumroadTrigger",
      "n8n-nodes-base.googleSheets",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.mailerLite",
      "n8n-nodes-base.stickyNote"
    ],
    "trigger": "gumroad sale trigger"
  }
}