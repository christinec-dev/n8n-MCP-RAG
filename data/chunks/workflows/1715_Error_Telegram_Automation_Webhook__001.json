{
  "source": "1715_Error_Telegram_Automation_Webhook.json",
  "index": 1,
  "content": "{\n  \"id\": \"cZPEH5aMMZNy61xs\",\n  \"meta\": {\n    \"instanceId\": \"3378b0d68c3b7ebfc71b79896d94e1a044dec38e99a1160aed4e9c323910fbe2\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"name\": \"template in store\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"14f93cdb-72cb-419a-b8d7-a68ae9383290\",\n      \"name\": \"Google Drive Trigger\",\n      \"type\": \"n8n-nodes-base.googleDriveTrigger\",\n      \"position\": [\n        440,\n        320\n      ],\n      \"parameters\": {\n        \"event\": \"fileCreated\",\n        \"options\": {},\n        \"pollTimes\": {\n          \"item\": [\n            {\n              \"mode\": \"everyMinute\"\n            }\n          ]\n        },\n        \"triggerOn\": \"specificFolder\",\n        \"folderToWatch\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"18m0i341QLQuyWuHv_FBdz8-r-QDtofYm\",\n          \"cachedResultUrl\": \"https://drive.google.com/drive/folders/18m0i341QLQuyWuHv_FBdz8-r-QDtofYm\",\n          \"cachedResultName\": \"Influencersde\"\n        }\n      },\n      \"credentials\": {\n        \"googleDriveOAuth2Api\": {\n          \"id\": \"2TbhWtnbRfSloGxX\",\n          \"name\": \"Google Drive account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"d4ab0d11-b110-46fa-9cd2-6091737c302e\",\n      \"name\": \"Google Drive\",\n      \"type\": \"n8n-nodes-base.googleDrive\",\n      \"position\": [\n        620,\n        320\n      ],\n      \"parameters\": {\n        \"fileId\": {\n          \"__rl\": true,\n          \"mode\": \"\",\n          \"value\": \"={{ $json.id || $json.data[0].id }}\"\n        },\n        \"options\": {},\n        \"operation\": \"download\",\n        \"authentication\": \"oAuth2\"\n      },\n      \"credentials\": {\n        \"googleDriveOAuth2Api\": {\n          \"id\": \"2TbhWtnbRfSloGxX\",\n          \"name\": \"Google Drive account\"\n        }\n      },\n      \"retryOnFail\": true,\n      \"typeVersion\": 1,\n      \"waitBetweenTries\": 5000\n    },\n    {\n      \"id\": \"fde9df88-3f9e-4732-bb1c-72eb33ce6826\",\n      \"name\": \"Error Trigger\",\n      \"type\": \"n8n-nodes-base.errorTrigger\",\n      \"position\": [\n        840,\n        660\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"ecfe1ad1-6887-492b-a2f7-f9b6c43f9b91\",\n      \"name\": \"Telegram\",\n      \"type\": \"n8n-nodes-base.telegram\",\n      \"position\": [\n        1180,\n        640\n      ],\n      \"webhookId\": \"f6729386-9905-45f1-800f-4fe01a06ac9c\",\n      \"parameters\": {\n        \"text\": \"=\\ud83d\\udd14 ERROR SUBIENDO VIDEOS\",\n        \"chatId\": \"-4127128831\",\n        \"additionalFields\": {\n          \"appendAttribution\": false\n        }\n      },\n      \"credentials\": {\n        \"telegramApi\": {\n          \"id\": \"vzA62UXRgiFICuPP\",\n          \"name\": \"Telegram account\"\n        }\n      },\n      \"retryOnFail\": true,\n      \"typeVersion\": 1.2,\n      \"waitBetweenTries\": 5000\n    },\n    {\n      \"id\": \"6ed274c7-726f-40aa-92b0-70768dc053a5\",\n      \"name\": \"If\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        980,\n        660\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 1,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"9fadb3fd-2547-42bd-8f40-f410a97dcf57\",\n              \"operator\": {\n                \"type\": \"string\",\n                \"operation\": \"notContains\"\n              },\n              \"leftValue\": \"={{ $json.trigger.error.message }}\",\n              \"rightValue\": \"The DNS server returned an error, perhaps the server is offline\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"dd4b2dfa-ccba-45d8-b388-755888343b4c\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        0,\n        0\n      ],\n      \"parameters\": {\n        \"width\": 860,\n        \"height\": 260,\n        \"content\": \"## Description\\nThis automation allows you to upload a video to a configured Google Drive folder, and it will automatically create descriptions and upload it to Instagram and TikTok.\\n\\n## How to Use\\n1. Generate an API token at upload-post.com and add to Upload to Tiktok and Upload to Instagram nodes\\n2. Configure your Google Drive folder\\n3. Customize the OpenAI prompt for your specific use case\\n4. Optional: Configure Telegram for error notifications\\n\\n## Requirements\\n- upload-post.com account\\n- Google Drive account\\n- OpenAI API key\\n\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"299e3e95-dbcb-4798-b843-a4424ce3f3bf\",\n      \"name\": \"Get Audio from Video\",\n      \"type\": \"@n8n/n8n-nodes-langchain.openAi\",\n      \"notes\": \"Extract the audio from video for generate the description\",\n      \"position\": [\n        1080,\n        320\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"resource\": \"audio\",\n        \"operation\": \"transcribe\"\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"XJdxgMSXFgwReSsh\",\n          \"name\": \"n8n key\"\n        }\n      },\n      \"notesInFlow\": true,\n      \"retryOnFail\": true,\n      \"typeVersion\": 1,\n      \"waitBetweenTries\": 5000\n    },\n    {\n      \"id\": \"da9048ce-542e-44e0-ba67-ab853822c428\",\n      \"name\": \"Read video from Google Drive\",\n      \"type\": \"n8n-nodes-base.writeBinaryFile\",\n      \"position\": [\n        800,\n        320\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"fileName\": \"={{ $json.originalFilename.replaceAll(\\\" \\\", \\\"_\\\") }}\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"5977baf1-d4a2-439f-aafe-14745201d3d8\",\n      \"name\": \"Generate Description for Videos in Tiktok and Instagram\",\n      \"type\": \"@n8n/n8n-nodes-langchain.openAi\",\n      \"notes\": \"Request to OpenAi for generate description with the audio extracted from the video\",\n      \"position\": [\n        1280,\n        320\n      ],\n      \"parameters\": {\n        \"modelId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gpt-4o\",\n          \"cachedResultName\": \"GPT-4O\"\n        },\n        \"options\": {},\n        \"messages\": {\n          \"values\": [\n            {\n              \"role\": \"system\",\n              \"content\": \"You are an expert assistant in creating engaging social media video titles.\"\n            },\n            {\n              \"content\": \"=I'm going to upload a video to social media. Here are some examples of descriptions that have worked well on Instagram:\\n\\nFollow and save for later. Discover InfluencersDe, the AI tool that automates TikTok creation and publishing to drive traffic to your website. Perfect for entrepreneurs and brands.\\n#digitalmarketing #ugc #tiktok #ai #influencersde #contentcreation\\n\\nDiscover the video marketing revolution with InfluencersDe!\\n.\\n.\\n.\\n#socialmedia #videomarketing #ai #tiktok #influencersde #growthhacking\\n\\nDon't miss InfluencersDe, the tool that transforms your marketing strategy with just one click!\\n.\\n.\\n.\\n#ugc #ai #tiktok #digitalmarketing #influencersde #branding\\n\\nCan you create another title for the Instagram post based on this recognized audio from the video?\\n\\nAudio: {{ $('Get Audio from Video').item.json.text }}\\n\\nIMPORTANT: Reply only with the description, don't add anything else.\"\n            }\n          ]\n        }\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"XJdxgMSXFgwReSsh\",\n          \"name\": \"n8n key\"\n        }\n      },\n      \"notesInFlow\": true,\n      \"retryOnFail\": true,\n      \"typeVersion\": 1.4,\n      \"waitBetweenTries\": 5000\n    },\n    {\n      \"id\": \"a139c8b0-b934-492b-8f85-e42c9c345af4\",\n      \"name\": \"Read Video from Google Drive\",\n      \"type\": \"n8n-nodes-base.readBinaryFile\",\n      \"position\": [\n        1840,\n        100\n      ],\n      \"parameters\": {\n        \"filePath\": \"={{ $('Read video from Google Drive').item.json.originalFilename.replaceAll(\\\" \\\", \\\"_\\\") }}\",\n        \"dataPropertyName\": \"datavideo\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"63230edb-8346-4441-929f-1f6403507501\",\n      \"name\": \"Read Video from Google Drive2\",\n      \"type\": \"n8n-nodes-base.readBinaryFile\",\n      \"position\": [\n        1840,\n        460\n      ],\n      \"parameters\": {\n        \"filePath\": \"={{ $('Read video from Google Drive').item.json.originalFilename.replaceAll(\\\" \\\", \\\"_\\\") }}\",\n        \"dataPropertyName\": \"datavideo\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"5d6e26ef-1bb4-43d6-a282-151c95856905\",\n      \"name\": \"Upload Video and Description to Tiktok\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"notes\": \"Generate in upload-post.com the token and add to the credentials in the header-> Authorization: Apikey (token here)\",\n      \"position\": [\n        2100,\n        100\n      ],\n      \"parameters\": {\n        \"url\": \"https://api.upload-post.com/api/upload\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"sendBody\": true,\n        \"contentType\": \"multipart-form-data\",\n        \"authentication\": \"genericCredentialType\",\n        \"bodyParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"title\",\n              \"value\": \"={{ $('Generate Description for Videos in Tiktok and Instagram').item.json.message.content.replaceAll(\\\"\\\\\\\"\\\", \\\"\\\") }}\"\n            },\n            {\n              \"name\": \"platform[]\",\n              \"value\": \"tiktok\"\n            },\n            {\n              \"name\": \"video\",\n              \"parameterType\": \"formBinaryData\",\n              \"inputDataFieldName\": \"datavideo\"\n            },\n            {\n              \"name\": \"user\",\n              \"value\": \"Add user generated in upload-post\"\n            }\n          ]\n        },\n        \"genericAuthType\": \"httpHeaderAuth\"\n      },\n      \"credentials\": {\n        \"httpHeaderAuth\": {\n          \"id\": \"47dO31ED0WIaJkR6\",\n          \"name\": \"Header Auth account\"\n        }\n      },\n      \"notesInFlow\": true,\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"ed785663-50e4-43cc-9dc0-a340d0360b38\",\n      \"name\": \"Upload Video and Description to Instagram\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"notes\": \"Generate in upload-post.com the token and add to the credentials in the header-> Authorization: Apikey (token here)\",\n      \"position\": [\n        2100,\n        460\n      ],\n      \"parameters\": {\n        \"url\": \"https://api.upload-post.com/api/upload\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"sendBody\": true,\n        \"contentType\": \"multipart-form-data\",\n        \"authentication\": \"genericCredentialType\",\n        \"bodyParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"title\",\n              \"value\": \"={{ $('Generate Description for Videos in Tiktok and Instagram').item.json.message.content.replaceAll(\\\"\\\\\\\"\\\", \\\"\\\") }}\"\n            },\n            {\n              \"name\": \"platform[]\",\n              \"value\": \"instagram\"\n            },\n            {\n              \"name\": \"video\",\n              \"parameterType\": \"formBinaryData\",\n              \"inputDataFieldName\": \"datavideo\"\n            },\n            {\n              \"name\": \"user\",\n              \"value\": \"Add user generated in upload-post\"\n            }\n          ]\n        },\n        \"genericAuthType\": \"httpHeaderAuth\"\n      },\n      \"credentials\": {\n        \"httpHeaderAuth\": {\n          \"id\": \"47dO31ED0WIaJkR6\",\n          \"name\": \"Header Auth account\"\n        }\n      },\n      \"notesInFlow\": true,\n      \"typeVersion\": 4.2\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"fdcd0643-0958-426c-ab1d-16fb061b4e38\",\n  \"connections\": {\n    \"If\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Telegram\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Google Drive\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Read video from Google Drive\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Error Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"If\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get Audio from Video\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Generate Description for Videos in Tiktok and Instagram\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Google Drive Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Google Drive\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Read Video from Google Drive\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Upload Video and Description to Tiktok\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Read video from Google Drive\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get Audio from Video\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Read Video from Google Drive2\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Upload Video and Description to Instagram\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Generate Description for Videos in Tiktok and Instagram\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Read Video from Google Drive\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Read Video from Google Drive2\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.googleDriveTrigger",
      "n8n-nodes-base.googleDrive",
      "n8n-nodes-base.errorTrigger",
      "n8n-nodes-base.telegram",
      "n8n-nodes-base.if",
      "n8n-nodes-base.stickyNote",
      "@n8n/n8n-nodes-langchain.openAi",
      "n8n-nodes-base.writeBinaryFile",
      "@n8n/n8n-nodes-langchain.openAi",
      "n8n-nodes-base.readBinaryFile",
      "n8n-nodes-base.readBinaryFile",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.httpRequest"
    ],
    "trigger": "google drive trigger"
  }
}