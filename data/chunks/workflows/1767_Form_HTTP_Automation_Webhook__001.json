{
  "source": "1767_Form_HTTP_Automation_Webhook.json",
  "index": 1,
  "content": "{\n  \"id\": \"XxkmcgZC4OtIOVoD\",\n  \"meta\": {\n    \"instanceId\": \"b3c467df4053d13fe31cc98f3c66fa1d16300ba750506bfd019a0913cec71ea3\"\n  },\n  \"name\": \"Youtube Video Transcript Extraction\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"686e639a-650d-480d-9887-11bd4140f1fe\",\n      \"name\": \"YoutubeVideoURL\",\n      \"type\": \"n8n-nodes-base.formTrigger\",\n      \"position\": [\n        -20,\n        0\n      ],\n      \"webhookId\": \"156a04c8-917d-4624-a46e-8fbcab89d16b\",\n      \"parameters\": {\n        \"options\": {},\n        \"formTitle\": \"Youtube Video Transcriber\",\n        \"formFields\": {\n          \"values\": [\n            {\n              \"fieldLabel\": \"Youtube Video Url\",\n              \"requiredField\": true\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"5384c4ed-a726-4253-8a88-d413124f80be\",\n      \"name\": \"cleanedTranscript\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        740,\n        0\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"7653a859-556d-4e00-bafa-6f70f90de0d7\",\n              \"name\": \"transcript\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.cleanedTranscript }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"83b6567f-c931-429c-8d7c-0b2549820ca1\",\n      \"name\": \"processTranscript\",\n      \"type\": \"n8n-nodes-base.function\",\n      \"position\": [\n        500,\n        0\n      ],\n      \"parameters\": {\n        \"functionCode\": \"// Extract and process the transcript\\nconst data = $input.first().json;\\n\\nif (!data.transcript && !data.text) {\\n  return {\\n    json: {\\n      success: false,\\n      message: 'No transcript available for this video',\\n      videoUrl: $input.first().json.body?.videoUrl || 'Unknown'\\n    }\\n  };\\n}\\n\\n// Process the transcript text\\nlet transcriptText = '';\\n\\n// Handle different API response formats\\nif (data.transcript) {\\n  // Format for array of transcript segments\\n  if (Array.isArray(data.transcript)) {\\n    data.transcript.forEach(segment => {\\n      if (segment.text) {\\n        transcriptText += segment.text + ' ';\\n      }\\n    });\\n  } else if (typeof data.transcript === 'string') {\\n    transcriptText = data.transcript;\\n  }\\n} else if (data.text) {\\n  // Format for single transcript object with text property\\n  transcriptText = data.text;\\n}\\n\\n// Clean up the transcript (remove extra spaces, normalize punctuation)\\nconst cleanedTranscript = transcriptText\\n  .replace(/\\\\s+/g, ' ')\\n  .replace(/\\\\s([.,!?])/g, '$1')\\n  .trim();\\n\\nreturn {\\n  json: {\\n    success: true,\\n    videoUrl: $input.first().json.body?.videoUrl || 'From transcript',\\n    rawTranscript: data.text || data.transcript,\\n    cleanedTranscript,\\n    duration: data.duration,\\n    offset: data.offset,\\n    language: data.lang\\n  }\\n};\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"cebf0fd7-6b66-4287-bede-fab53061bed2\",\n      \"name\": \"extractTranscript\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        240,\n        0\n      ],\n      \"parameters\": {\n        \"url\": \"https://youtube-transcript3.p.rapidapi.com/api/transcript\",\n        \"options\": {},\n        \"sendBody\": true,\n        \"sendQuery\": true,\n        \"sendHeaders\": true,\n        \"bodyParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"url\",\n              \"value\": \"={{ $json['Youtube Video Url'] }}\"\n            }\n          ]\n        },\n        \"queryParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"videoId\",\n              \"value\": \"ZacjOVVgoLY\"\n            }\n          ]\n        },\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"x-rapidapi-host\",\n              \"value\": \"youtube-transcript3.p.rapidapi.com\"\n            },\n            {\n              \"name\": \"x-rapidapi-key\",\n              \"value\": \"\\\"your_api_key\\\"\"\n            },\n            {\n              \"name\": \"Content-Type\",\n              \"value\": \"application/json\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"084b006b-36f9-46a7-8a0b-7656126b29cd\",\n  \"connections\": {\n    \"YoutubeVideoURL\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"extractTranscript\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"extractTranscript\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"processTranscript\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"processTranscript\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"cleanedTranscript\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.formTrigger",
      "n8n-nodes-base.set",
      "n8n-nodes-base.function",
      "n8n-nodes-base.httpRequest"
    ],
    "trigger": null
  }
}