{
  "source": "1147_Splitout_GitHub_Automation_Webhook.json",
  "index": 1,
  "content": "{\n  \"id\": \"7zRCNv7B5WFRg7ux\",\n  \"meta\": {\n    \"instanceId\": \"e634e668fe1fc93a75c4f2a7fc0dad807ca318b79654157eadb9578496acbc76\"\n  },\n  \"name\": \"Restore your credentials from GitHub\",\n  \"tags\": [\n    {\n      \"id\": \"2RWIfLUVCa0bnmGX\",\n      \"name\": \"N8n\",\n      \"createdAt\": \"2025-03-06T09:58:39.214Z\",\n      \"updatedAt\": \"2025-03-06T09:58:39.214Z\"\n    }\n  ],\n  \"nodes\": [\n    {\n      \"id\": \"f8aff38c-3e40-4820-b8f5-50e3e1f878c8\",\n      \"name\": \"When clicking â€˜Test workflowâ€™\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        -640,\n        -120\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"f838e0c6-36aa-4c0b-bdd2-ef096ffd3d1d\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -1020,\n        -140\n      ],\n      \"parameters\": {\n        \"width\": 320,\n        \"height\": 420,\n        \"content\": \"## Restore from GitHub \\nThis workflow will restore all instance credentials from GitHub backups.\\n\\n\\n### Setup\\nOpen `Globals` node and update the values below ðŸ‘‡\\n\\n- **repo.owner:** your Github username\\n- **repo.name:** the name of your repository\\n- **repo.path:** the folder to use within the repository.\\n\\n\\nIf your username was `john-doe` and your repository was called `n8n-backups` and you wanted the credentials to go into a `credentials` folder you would set:\\n\\n- repo.owner - john-doe\\n- repo.name - n8n-backups\\n- repo.path - credentials/\\n\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"8f59b7b0-ea9d-4209-8c6b-d48fe9d8cf7b\",\n      \"name\": \"Globals\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        -380,\n        -120\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"6cf546c5-5737-4dbd-851b-17d68e0a3780\",\n              \"name\": \"repo.owner\",\n              \"type\": \"string\",\n              \"value\": \"BeyondspaceStudio\"\n            },\n            {\n              \"id\": \"452efa28-2dc6-4ea3-a7a2-c35d100d0382\",\n              \"name\": \"repo.name\",\n              \"type\": \"string\",\n              \"value\": \"n8n-backup\"\n            },\n            {\n              \"id\": \"81c4dc54-86bf-4432-a23f-22c7ea831e74\",\n              \"name\": \"repo.path\",\n              \"type\": \"string\",\n              \"value\": \"credentials\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"d72bf1a6-f3a0-4dc0-afc0-e39c7e8b16f3\",\n      \"name\": \"Sticky Note4\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -440,\n        -240\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 150,\n        \"height\": 80,\n        \"content\": \"## Edit this node ðŸ‘‡\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"4eeb0ed5-7e90-4f09-8296-04c0349de49b\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        100,\n        20\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"content\": \"## Skip credential\\n- The empty json files\\n- The n8n account api\\n- ...edit this node at will\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"40856ade-3ff7-43ef-8c45-ec5a126a5787\",\n      \"name\": \"Get all files in given path\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        -160,\n        -120\n      ],\n      \"parameters\": {\n        \"url\": \"=https://api.github.com/repos/{{ $json.repo.owner }}/{{ $json.repo.name }}/contents/{{ $json.repo.path }}\",\n        \"options\": {},\n        \"authentication\": \"predefinedCredentialType\",\n        \"nodeCredentialType\": \"githubApi\"\n      },\n      \"credentials\": {\n        \"githubApi\": {\n          \"id\": \"3FYHiPFtycAFT8V0\",\n          \"name\": \"GitHub account\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"4284aadd-4840-4754-9416-6bb74a1df192\",\n      \"name\": \"Split the result\",\n      \"type\": \"n8n-nodes-base.splitOut\",\n      \"position\": [\n        -600,\n        200\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"fieldToSplitOut\": \"path\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"48a04e72-5f9e-4dc3-863d-a8bb30f1c8c2\",\n      \"name\": \"Get file content from GitHub\",\n      \"type\": \"n8n-nodes-base.github\",\n      \"position\": [\n        -360,\n        200\n      ],\n      \"parameters\": {\n        \"owner\": {\n          \"__rl\": true,\n          \"mode\": \"name\",\n          \"value\": \"BeyondspaceStudio\"\n        },\n        \"filePath\": \"={{ $('Get all files in given path').item.json.path }}\",\n        \"resource\": \"file\",\n        \"operation\": \"get\",\n        \"repository\": {\n          \"__rl\": true,\n          \"mode\": \"name\",\n          \"value\": \"n8n-backup\"\n        },\n        \"additionalParameters\": {}\n      },\n      \"credentials\": {\n        \"githubApi\": {\n          \"id\": \"3FYHiPFtycAFT8V0\",\n          \"name\": \"GitHub account\"\n        }\n      },\n      \"typeVersion\": 1,\n      \"alwaysOutputData\": true\n    },\n    {\n      \"id\": \"507c8514-6acf-4568-83cc-bb07f06e6a96\",\n      \"name\": \"Convert files to JSON\",\n      \"type\": \"n8n-nodes-base.extractFromFile\",\n      \"position\": [\n        -140,\n        200\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"operation\": \"fromJson\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"084e7306-4c7b-4a9b-8f3e-f844ab340f6a\",\n      \"name\": \"Restore n8n Credentials\",\n      \"type\": \"n8n-nodes-base.n8n\",\n      \"position\": [\n        380,\n        200\n      ],\n      \"parameters\": {\n        \"data\": \"={{ JSON.stringify($json.data.data) }}\",\n        \"name\": \"={{ $json.data.name }}\",\n        \"resource\": \"credential\",\n        \"requestOptions\": {},\n        \"credentialTypeName\": \"={{ $json.data.type }}\"\n      },\n      \"credentials\": {\n        \"n8nApi\": {\n          \"id\": \"dzYjDgtEXtpRPKhe\",\n          \"name\": \"n8n account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"f8267df1-eb0a-491e-bed4-01480583a535\",\n      \"name\": \"Check for skipped Credentials\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        100,\n        200\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"or\",\n          \"conditions\": [\n            {\n              \"id\": \"ad031296-4ac0-4087-bc35-7975a2cc25e6\",\n              \"operator\": {\n                \"type\": \"object\",\n                \"operation\": \"empty\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $json.data }}\",\n              \"rightValue\": \"\"\n            },\n            {\n              \"id\": \"ca912a57-6a4b-4b9a-be0e-37b69d3e4917\",\n              \"operator\": {\n                \"type\": \"string\",\n                \"operation\": \"contains\"\n              },\n              \"leftValue\": \"={{ $json.data.name }}\",\n              \"rightValue\": \"n8n account\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"8a89a054-697f-4705-89a8-5d3288936206\",\n  \"connections\": {\n    \"Globals\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get all files in given path\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Split the result\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get file content from GitHub\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Convert files to JSON\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Check for skipped Credentials\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get all files in given path\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Split the result\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get file content from GitHub\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Convert files to JSON\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Check for skipped Credentials\": {\n      \"main\": [\n        [],\n        [\n          {\n            \"node\": \"Restore n8n Credentials\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When clicking â€˜Test workflowâ€™\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Globals\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.manualTrigger",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.set",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.splitOut",
      "n8n-nodes-base.github",
      "n8n-nodes-base.extractFromFile",
      "n8n-nodes-base.n8n",
      "n8n-nodes-base.if"
    ],
    "trigger": null
  }
}