{
  "source": "1898_Splitout_Code_Automation_Webhook.json",
  "index": 1,
  "content": "{\n  \"id\": \"kJMoiGRorIlsTYZv\",\n  \"meta\": {\n    \"instanceId\": \"558d88703fb65b2d0e44613bc35916258b0f0bf983c5d4730c00c424b77ca36a\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"name\": \"Amazon keywords\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"ac4b8cad-b8a3-4cc0-a848-1b6976c1d78a\",\n      \"name\": \"Clean Keywords\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        380,\n        620\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"ignoreConversionErrors\": true\n        },\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"fb95058f-0c20-4249-8a45-7b935fde1874\",\n              \"name\": \"Keywords\",\n              \"type\": \"array\",\n              \"value\": \"={{ $json.value }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.3\n    },\n    {\n      \"id\": \"62575572-e4d2-43e8-9339-d4737961883e\",\n      \"name\": \"Get airtable data\",\n      \"type\": \"n8n-nodes-base.airtable\",\n      \"position\": [\n        -220,\n        620\n      ],\n      \"parameters\": {\n        \"id\": \"={{ $json.query.q }}\",\n        \"base\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"appGZ14ny5J2PYbq8\",\n          \"cachedResultUrl\": \"https://airtable.com/appGZ14ny5J2PYbq8\",\n          \"cachedResultName\": \"Amazon keyword\"\n        },\n        \"table\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"tblvK8Nq4Jqb2Ubun\",\n          \"cachedResultUrl\": \"https://airtable.com/appGZ14ny5J2PYbq8/tblvK8Nq4Jqb2Ubun\",\n          \"cachedResultName\": \"Table 1\"\n        },\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"airtableTokenApi\": {\n          \"id\": \"FV1F34pRcGoKZ8GY\",\n          \"name\": \"Airtable Personal Access Token account\"\n        }\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"e165df91-c212-4c47-8b79-2e637d0fcb7b\",\n      \"name\": \"Get Amazon keywords\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        0,\n        620\n      ],\n      \"parameters\": {\n        \"url\": \"=https://completion.amazon.com/api/2017/suggestions?mid=ATVPDKIKX0DER&alias=aps&prefix={{ $json.Keyword }}\",\n        \"options\": {}\n      },\n      \"typeVersion\": 4.1\n    },\n    {\n      \"id\": \"49fca0c4-7d1b-4369-9274-2c0b2bb81c8b\",\n      \"name\": \"Format output\",\n      \"type\": \"n8n-nodes-base.splitOut\",\n      \"position\": [\n        200,\n        620\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"fieldToSplitOut\": \"suggestions\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"cb00c467-49dd-4504-b5bb-d512baf55bfd\",\n      \"name\": \"Aggregate keywords\",\n      \"type\": \"n8n-nodes-base.aggregate\",\n      \"position\": [\n        600,\n        620\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"fieldsToAggregate\": {\n          \"fieldToAggregate\": [\n            {\n              \"fieldToAggregate\": \"Keywords\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"0b04d232-488d-4420-b991-d12b511d5fde\",\n      \"name\": \"Combine into string\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        800,\n        620\n      ],\n      \"parameters\": {\n        \"jsCode\": \"return [{\\n  json: {\\n    keywords: items[0].json.Keywords.join(\\\", \\\")\\n  }\\n}];\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"dae32617-6d15-4f30-a27f-894787c137e2\",\n      \"name\": \"Save keywords\",\n      \"type\": \"n8n-nodes-base.airtable\",\n      \"position\": [\n        1000,\n        620\n      ],\n      \"parameters\": {\n        \"base\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"appGZ14ny5J2PYbq8\",\n          \"cachedResultUrl\": \"https://airtable.com/appGZ14ny5J2PYbq8\",\n          \"cachedResultName\": \"Amazon keyword\"\n        },\n        \"table\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"tblvK8Nq4Jqb2Ubun\",\n          \"cachedResultUrl\": \"https://airtable.com/appGZ14ny5J2PYbq8/tblvK8Nq4Jqb2Ubun\",\n          \"cachedResultName\": \"Table 1\"\n        },\n        \"columns\": {\n          \"value\": {\n            \"id\": \"={{ $('Get airtable data').item.json.id }}\",\n            \"Keyword output\": \"={{ $json.keywords }}\"\n          },\n          \"schema\": [\n            {\n              \"id\": \"id\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"readOnly\": true,\n              \"required\": false,\n              \"displayName\": \"id\",\n              \"defaultMatch\": true\n            },\n            {\n              \"id\": \"Keyword\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"readOnly\": false,\n              \"required\": false,\n              \"displayName\": \"Keyword\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Trigger\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": true,\n              \"readOnly\": true,\n              \"required\": false,\n              \"displayName\": \"Trigger\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Keyword output\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"readOnly\": false,\n              \"required\": false,\n              \"displayName\": \"Keyword output\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": [\n            \"id\"\n          ]\n        },\n        \"options\": {},\n        \"operation\": \"update\"\n      },\n      \"credentials\": {\n        \"airtableTokenApi\": {\n          \"id\": \"FV1F34pRcGoKZ8GY\",\n          \"name\": \"Airtable Personal Access Token account\"\n        }\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"aa451c9b-cfc7-4a9a-9ab5-1e6690039eb6\",\n      \"name\": \"Receive Keyword\",\n      \"type\": \"n8n-nodes-base.webhook\",\n      \"position\": [\n        -460,\n        620\n      ],\n      \"webhookId\": \"e1df17af-e8b8-4261-ba45-aba7106c65bd\",\n      \"parameters\": {\n        \"path\": \"e1df17af-e8b8-4261-ba45-aba7106c65bd\",\n        \"options\": {},\n        \"responseMode\": \"lastNode\"\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"8dc19b86-ac56-487d-9678-04c9f8306786\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -560,\n        140\n      ],\n      \"parameters\": {\n        \"width\": 589.0376569037658,\n        \"height\": 163.2468619246862,\n        \"content\": \"## How to build your own Amazon keywords tool with n8n (For free and no coding)\\n\\nThis workflow gives you Amazon keywords for your Amazon FBA business.\\n\\n[ðŸ’¡ You can read more about this workflow here](https://rumjahn.com/how-to-build-your-own-amazon-keywords-tool-with-n8n-for-free-and-no-coding/)\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"c1341984-f1a7-4c7e-8a23-46adea6d2afe\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -520,\n        420\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 239.99999999999977,\n        \"height\": 389.08073541167073,\n        \"content\": \"## Send keywords \\nYou need to send the workflow a keyword through webhook. You can get my airtable example to see how to send keyword.\\n[Download airtable here.](https://airtable.com/invite/l?inviteId=invgv9FzNB258bm5Z&inviteToken=6f820e142d3324318254c1768fa57809b3ef0bcb7212ea27730fd2d140c69ad5&utm_medium=email&utm_source=product_team&utm_content=transactional-alerts)\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"17c13b36-a350-4031-bb9b-a6f8dabd1b90\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -60,\n        418.41726618705036\n      ],\n      \"parameters\": {\n        \"color\": 6,\n        \"width\": 218.65707434052769,\n        \"height\": 386.2350119904079,\n        \"content\": \"## Send to Amazon\\nAmazon has a completion API that gives you keyword data.\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"3deef28b-90b9-4357-a46d-78d750126b65\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        960,\n        400\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 181.6626698641084,\n        \"height\": 389.08073541167073,\n        \"content\": \"## Save keywords \\nDownload my airtable example to save the keywords.\\n[Download airtable here.](https://airtable.com/invite/l?inviteId=invgv9FzNB258bm5Z&inviteToken=6f820e142d3324318254c1768fa57809b3ef0bcb7212ea27730fd2d140c69ad5&utm_medium=email&utm_source=product_team&utm_content=transactional-alerts)\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"6db9ae9c-6c1f-48e0-8bb0-b18db21809bf\",\n  \"connections\": {\n    \"Format output\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Clean Keywords\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Clean Keywords\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Aggregate keywords\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Receive Keyword\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get airtable data\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get airtable data\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get Amazon keywords\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Aggregate keywords\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Combine into string\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Combine into string\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Save keywords\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get Amazon keywords\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Format output\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.set",
      "n8n-nodes-base.airtable",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.splitOut",
      "n8n-nodes-base.aggregate",
      "n8n-nodes-base.code",
      "n8n-nodes-base.airtable",
      "n8n-nodes-base.webhook",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote"
    ],
    "trigger": null
  }
}