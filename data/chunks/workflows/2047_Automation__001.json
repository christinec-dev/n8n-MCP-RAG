{
  "source": "2047_Automation.json",
  "index": 1,
  "content": "{\n  \"\\\"id\\\"\": \"\\\"wokWVLDQUDi0DC7I\\\",\",\n  \"\\\"meta\\\"\": \"{\",\n  \"\\\"instanceId\\\"\": \"\\\"03907a25f048377a8789a4332f28148522ba31ee907fababf704f1d88130b1b6\\\",\",\n  \"\\\"templateCredsSetupCompleted\\\"\": \"true\",\n  \"\\\"name\\\"\": \"\\\"Perplexity\\\"\",\n  \"\\\"tags\\\"\": \"[],\",\n  \"\\\"nodes\\\"\": \"[\",\n  \"\\\"type\\\"\": \"\\\"ai_tool\\\",\",\n  \"\\\"position\\\"\": \"[\",\n  \"\\\"parameters\\\"\": \"{\",\n  \"\\\"color\\\"\": \"3,\",\n  \"\\\"width\\\"\": \"420,\",\n  \"\\\"height\\\"\": \"340,\",\n  \"\\\"content\\\"\": \"\\\"## Optional\\\"\",\n  \"\\\"typeVersion\\\"\": \"4.2\",\n  \"\\\"model\\\"\": \"\\\"gpt-4o-mini-2024-07-18\\\",\",\n  \"\\\"options\\\"\": \"{},\",\n  \"\\\"responseFormat\\\"\": \"\\\"text\\\",\",\n  \"\\\"credentials\\\"\": \"{\",\n  \"\\\"openAiApi\\\"\": \"{\",\n  \"\\\"topP\\\"\": \"1,\",\n  \"\\\"timeout\\\"\": \"60000,\",\n  \"\\\"maxTokens\\\"\": \"-1,\",\n  \"\\\"maxRetries\\\"\": \"2,\",\n  \"\\\"temperature\\\"\": \"0,\",\n  \"\\\"presencePenalty\\\"\": \"0,\",\n  \"\\\"frequencyPenalty\\\"\": \"0\",\n  \"\\\"schemaType\\\"\": \"\\\"manual\\\",\",\n  \"\\\"inputSchema\\\"\": \"\\\"{\\\\n \\\\\\\"type\\\\\\\": \\\\\\\"object\\\\\\\",\\\\n \\\\\\\"properties\\\\\\\": {\\\\n \\\\\\\"article\\\\\\\": {\\\\n \\\\\\\"type\\\\\\\": \\\\\\\"object\\\\\\\",\\\\n \\\\\\\"required\\\\\\\": [\\\\\\\"category\\\\\\\", \\\\\\\"title\\\\\\\", \\\\\\\"metadata\\\\\\\", \\\\\\\"content\\\\\\\", \\\\\\\"hashtags\\\\\\\"],\\\\n \\\\\\\"properties\\\\\\\": {\\\\n \\\\\\\"category\\\\\\\": {\\\\n \\\\\\\"type\\\\\\\": \\\\\\\"string\\\\\\\",\\\\n \\\\\\\"description\\\\\\\": \\\\\\\"Article category\\\\\\\"\\\\n },\\\\n \\\\\\\"title\\\\\\\": {\\\\n \\\\\\\"type\\\\\\\": \\\\\\\"string\\\\\\\",\\\\n \\\\\\\"description\\\\\\\": \\\\\\\"Article title\\\\\\\"\\\\n },\\\\n \\\\\\\"metadata\\\\\\\": {\\\\n \\\\\\\"type\\\\\\\": \\\\\\\"object\\\\\\\",\\\\n \\\\\\\"properties\\\\\\\": {\\\\n \\\\\\\"timePosted\\\\\\\": {\\\\n \\\\\\\"type\\\\\\\": \\\\\\\"string\\\\\\\",\\\\n \\\\\\\"description\\\\\\\": \\\\\\\"Time since article was posted\\\\\\\"\\\\n },\\\\n \\\\\\\"author\\\\\\\": {\\\\n \\\\\\\"type\\\\\\\": \\\\\\\"string\\\\\\\",\\\\n \\\\\\\"description\\\\\\\": \\\\\\\"Article author name\\\\\\\"\\\\n },\\\\n \\\\\\\"tag\\\\\\\": {\\\\n \\\\\\\"type\\\\\\\": \\\\\\\"string\\\\\\\",\\\\n \\\\\\\"description\\\\\\\": \\\\\\\"Article primary tag\\\\\\\"\\\\n }\\\\n },\\\\n \\\\\\\"required\\\\\\\": [\\\\\\\"timePosted\\\\\\\", \\\\\\\"author\\\\\\\", \\\\\\\"tag\\\\\\\"]\\\\n },\\\\n \\\\\\\"content\\\\\\\": {\\\\n \\\\\\\"type\\\\\\\": \\\\\\\"object\\\\\\\",\\\\n \\\\\\\"properties\\\\\\\": {\\\\n \\\\\\\"mainText\\\\\\\": {\\\\n \\\\\\\"type\\\\\\\": \\\\\\\"string\\\\\\\",\\\\n \\\\\\\"description\\\\\\\": \\\\\\\"Main article content\\\\\\\"\\\\n },\\\\n \\\\\\\"sections\\\\\\\": {\\\\n \\\\\\\"type\\\\\\\": \\\\\\\"array\\\\\\\",\\\\n \\\\\\\"items\\\\\\\": {\\\\n \\\\\\\"type\\\\\\\": \\\\\\\"object\\\\\\\",\\\\n \\\\\\\"properties\\\\\\\": {\\\\n \\\\\\\"title\\\\\\\": {\\\\n \\\\\\\"type\\\\\\\": \\\\\\\"string\\\\\\\",\\\\n \\\\\\\"description\\\\\\\": \\\\\\\"Section title\\\\\\\"\\\\n },\\\\n \\\\\\\"text\\\\\\\": {\\\\n \\\\\\\"type\\\\\\\": \\\\\\\"string\\\\\\\",\\\\n \\\\\\\"description\\\\\\\": \\\\\\\"Section content\\\\\\\"\\\\n },\\\\n \\\\\\\"quote\\\\\\\": {\\\\n \\\\\\\"type\\\\\\\": \\\\\\\"string\\\\\\\",\\\\n \\\\\\\"description\\\\\\\": \\\\\\\"Blockquote text\\\\\\\"\\\\n }\\\\n },\\\\n \\\\\\\"required\\\\\\\": [\\\\\\\"title\\\\\\\", \\\\\\\"text\\\\\\\", \\\\\\\"quote\\\\\\\"]\\\\n }\\\\n }\\\\n },\\\\n \\\\\\\"required\\\\\\\": [\\\\\\\"mainText\\\\\\\", \\\\\\\"sections\\\\\\\"]\\\\n },\\\\n \\\\\\\"hashtags\\\\\\\": {\\\\n \\\\\\\"type\\\\\\\": \\\\\\\"array\\\\\\\",\\\\n \\\\\\\"items\\\\\\\": {\\\\n \\\\\\\"type\\\\\\\": \\\\\\\"string\\\\\\\"\\\\n },\\\\n \\\\\\\"description\\\\\\\": \\\\\\\"Article hashtags\\\\\\\"\\\\n }\\\\n }\\\\n }\\\\n }\\\\n}\\\"\",\n  \"\\\"webhookId\\\"\": \"\\\"6a8e3ae7-02ae-4663-a27a-07df448550ab\\\",\",\n  \"\\\"path\\\"\": \"\\\"pblog\\\",\",\n  \"\\\"responseMode\\\"\": \"\\\"responseNode\\\"\",\n  \"\\\"respondWith\\\"\": \"\\\"text\\\",\",\n  \"\\\"responseBody\\\"\": \"\\\"={{ $json.text }}\\\"\",\n  \"\\\"text\\\"\": \"\\\"=Convert this verbatim into HTML: {{ $json.article.toJsonString() }}\\\\n\\\\n## Formatting Guidelines\\\\n- HTML document must be single line document without tabs or line breaks\\\\n- Use proper HTML tags throughout\\\\n- Do not use these tags: <html> <body> <style> <head>\\\\n- Use <h1> tag for main title\\\\n- Use <h2> tags for secondary titles\\\\n- Structure with <p> tags for paragraphs\\\\n- Include appropriate spacing\\\\n- Use <blockquote> for direct quotes\\\\n- Maintain consistent formatting\\\\n- Write in clear, professional tone\\\\n- Break up long paragraphs\\\\n- Use engaging subheadings\\\\n- Include transitional phrases\\\\n\\\\nThe final JSON response should contain only the title and content fields, with the content including all HTML formatting.\\\\n{\\\\n\\\\t\\\\\\\"title\\\\\\\": \\\\\\\"the title\\\\\\\",\\\\n\\\\t\\\\\\\"content\\\\\\\": \\\\\\\"the HTML\\\\\\\"\\\\n}\\\",\",\n  \"\\\"chatId\\\"\": \"\\\"={{ $json.telegram_chat_id }}\\\",\",\n  \"\\\"additionalFields\\\"\": \"{\",\n  \"\\\"parse_mode\\\"\": \"\\\"HTML\\\",\",\n  \"\\\"appendAttribution\\\"\": \"false\",\n  \"\\\"telegramApi\\\"\": \"{\",\n  \"\\\"promptType\\\"\": \"\\\"define\\\"\",\n  \"\\\"conditions\\\"\": \"[\",\n  \"\\\"version\\\"\": \"2,\",\n  \"\\\"leftValue\\\"\": \"\\\"\\\",\",\n  \"\\\"caseSensitive\\\"\": \"true,\",\n  \"\\\"typeValidation\\\"\": \"\\\"strict\\\"\",\n  \"\\\"combinator\\\"\": \"\\\"and\\\",\",\n  \"\\\"operator\\\"\": \"{\",\n  \"\\\"operation\\\"\": \"\\\"equals\\\"\",\n  \"\\\"singleValue\\\"\": \"true\",\n  \"\\\"rightValue\\\"\": \"\\\"\\\"\",\n  \"\\\"assignments\\\"\": \"[\",\n  \"\\\"value\\\"\": \"\\\"=Error. No topic provided.\\\"\",\n  \"\\\"systemMessage\\\"\": \"\\\"Use the perplexity_research_tool to provide research on the users topic.\\\\n\\\\n\\\"\",\n  \"\\\"hasOutputParser\\\"\": \"true\",\n  \"\\\"fields\\\"\": \"{\",\n  \"\\\"values\\\"\": \"[\",\n  \"\\\"stringValue\\\"\": \"\\\"= {{ $json.text }}\\\"\",\n  \"\\\"workflowId\\\"\": \"{\",\n  \"\\\"__rl\\\"\": \"true,\",\n  \"\\\"mode\\\"\": \"\\\"id\\\",\",\n  \"\\\"description\\\"\": \"\\\"Call this tool to perform Perplexity research.\\\",\",\n  \"\\\"jsonSchemaExample\\\"\": \"\\\"{\\\\n \\\\\\\"topic\\\\\\\": \\\\\\\"\\\\\\\"\\\\n}\\\"\",\n  \"\\\"retryOnFail\\\"\": \"true,\",\n  \"\\\"agent\\\"\": \"\\\"conversationalAgent\\\",\",\n  \"\\\"includeOtherFields\\\"\": \"true\",\n  \"\\\"url\\\"\": \"\\\"https://api.perplexity.ai/chat/completions\\\",\",\n  \"\\\"method\\\"\": \"\\\"POST\\\",\",\n  \"\\\"jsonBody\\\"\": \"\\\"={\\\\n \\\\\\\"model\\\\\\\": \\\\\\\"llama-3.1-sonar-small-128k-online\\\\\\\",\\\\n \\\\\\\"messages\\\\\\\": [\\\\n {\\\\n \\\\\\\"role\\\\\\\": \\\\\\\"system\\\\\\\",\\\\n \\\\\\\"content\\\\\\\": \\\\\\\"{{ $json.system }}\\\\\\\"\\\\n },\\\\n {\\\\n \\\\\\\"role\\\\\\\": \\\\\\\"user\\\\\\\",\\\\n \\\\\\\"content\\\\\\\": \\\\\\\"{{ $json.user }}\\\\\\\"\\\\n }\\\\n ],\\\\n \\\\\\\"max_tokens\\\\\\\": \\\\\\\"4000\\\\\\\",\\\\n \\\\\\\"temperature\\\\\\\": 0.2,\\\\n \\\\\\\"top_p\\\\\\\": 0.9,\\\\n \\\\\\\"return_citations\\\\\\\": true,\\\\n \\\\\\\"search_domain_filter\\\\\\\": [\\\\n \\\\\\\"perplexity.ai\\\\\\\"\\\\n ],\\\\n \\\\\\\"return_images\\\\\\\": false,\\\\n \\\\\\\"return_related_questions\\\\\\\": false,\\\\n \\\\\\\"search_recency_filter\\\\\\\": \\\\\\\"month\\\\\\\",\\\\n \\\\\\\"top_k\\\\\\\": 0,\\\\n \\\\\\\"stream\\\\\\\": false,\\\\n \\\\\\\"presence_penalty\\\\\\\": 0,\\\\n \\\\\\\"frequency_penalty\\\\\\\": 1\\\\n}\\\",\",\n  \"\\\"sendBody\\\"\": \"true,\",\n  \"\\\"specifyBody\\\"\": \"\\\"json\\\",\",\n  \"\\\"authentication\\\"\": \"\\\"genericCredentialType\\\",\",\n  \"\\\"genericAuthType\\\"\": \"\\\"httpHeaderAuth\\\"\",\n  \"\\\"httpCustomAuth\\\"\": \"{\",\n  \"\\\"httpHeaderAuth\\\"\": \"{\",\n  \"\\\"active\\\"\": \"false,\",\n  \"\\\"pinData\\\"\": \"{},\",\n  \"\\\"settings\\\"\": \"{\",\n  \"\\\"executionOrder\\\"\": \"\\\"v1\\\"\",\n  \"\\\"versionId\\\"\": \"\\\"9ebf0569-4d9d-4783-b797-e5df2a8e8415\\\",\",\n  \"\\\"connections\\\"\": \"{\",\n  \"\\\"If\\\"\": \"{\",\n  \"\\\"main\\\"\": \"[\",\n  \"\\\"node\\\"\": \"\\\"Perplexity Topic Agent\\\",\",\n  \"\\\"index\\\"\": \"0\",\n  \"\\\"If2\\\"\": \"{\",\n  \"\\\"Article\\\"\": \"{\",\n  \"\\\"Chat Id\\\"\": \"{\",\n  \"\\\"If HTML\\\"\": \"{\",\n  \"\\\"Prompts\\\"\": \"{\",\n  \"\\\"Webhook\\\"\": \"{\",\n  \"\\\"Chat Id1\\\"\": \"{\",\n  \"\\\"Contents\\\"\": \"{\",\n  \"\\\"If Topic\\\"\": \"{\",\n  \"\\\"Get Topic\\\"\": \"{\",\n  \"\\\"Telegram2\\\"\": \"{\",\n  \"\\\"If Article\\\"\": \"{\",\n  \"\\\"Perplexity\\\"\": \"{\",\n  \"\\\"gpt-4o-mini\\\"\": \"{\",\n  \"\\\"ai_languageModel\\\"\": \"[\",\n  \"\\\"Extract JSON\\\"\": \"{\",\n  \"\\\"gpt-4o-mini1\\\"\": \"{\",\n  \"\\\"gpt-4o-mini2\\\"\": \"{\",\n  \"\\\"gpt-4o-mini3\\\"\": \"{\",\n  \"\\\"gpt-4o-mini5\\\"\": \"{\",\n  \"\\\"Basic LLM Chain\\\"\": \"{\",\n  \"\\\"If Topic Exists\\\"\": \"{\",\n  \"\\\"Create HTML Article\\\"\": \"{\",\n  \"\\\"Improve Users Topic\\\"\": \"{\",\n  \"\\\"Perplexity Topic Agent\\\"\": \"{\",\n  \"\\\"Execute Workflow Trigger\\\"\": \"{\",\n  \"\\\"No Operation, do nothing\\\"\": \"{\",\n  \"\\\"Structured Output Parser1\\\"\": \"{\",\n  \"\\\"ai_outputParser\\\"\": \"[\",\n  \"\\\"Call Perplexity Researcher\\\"\": \"{\",\n  \"\\\"ai_tool\\\"\": \"[\"\n}",
  "metadata": {
    "node_types": [],
    "trigger": null
  }
}