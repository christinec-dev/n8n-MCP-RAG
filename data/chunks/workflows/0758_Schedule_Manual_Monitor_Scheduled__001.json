{
  "source": "0758_Schedule_Manual_Monitor_Scheduled.json",
  "index": 1,
  "content": "{\n  \"meta\": {\n    \"instanceId\": \"cb484ba7b742928a2048bf8829668bed5b5ad9787579adea888f05980292a4a7\"\n  },\n  \"nodes\": [\n    {\n      \"id\": \"692e2883-0d1b-4162-8472-6d15c12c8b43\",\n      \"name\": \"When clicking ‘Test workflow’\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        0,\n        0\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"1b226699-d463-42c9-aab0-e328afdb73b9\",\n      \"name\": \"Check if Primary Opportunity Contains Value\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        900,\n        -60\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"e5aed92c-9a3e-4e05-8ce2-9a707abc3115\",\n              \"operator\": {\n                \"type\": \"string\",\n                \"operation\": \"notEmpty\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $json.Gong__Primary_Opportunity__c }}\",\n              \"rightValue\": \"\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"1ebe8eba-5a86-4d17-a629-aa8d2e932693\",\n      \"name\": \"Check if Opportunity Stage is Meeting Booked or Discovery\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        660,\n        0\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"or\",\n          \"conditions\": [\n            {\n              \"id\": \"8c39be67-f158-4d26-a1e9-cfdba686e272\",\n              \"operator\": {\n                \"name\": \"filter.operator.equals\",\n                \"type\": \"string\",\n                \"operation\": \"equals\"\n              },\n              \"leftValue\": \"={{ $json.Gong__Opp_Stage_Time_Of_Call__c }}\",\n              \"rightValue\": \"Discovery\"\n            },\n            {\n              \"id\": \"4cacf9be-3d86-49d6-b7f6-672a57025f0e\",\n              \"operator\": {\n                \"name\": \"filter.operator.equals\",\n                \"type\": \"string\",\n                \"operation\": \"equals\"\n              },\n              \"leftValue\": \"={{ $json.Gong__Opp_Stage_Time_Of_Call__c }}\",\n              \"rightValue\": \"Meeting Booked\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"ee00437a-8586-449c-ab4f-04b91d5f247b\",\n      \"name\": \"Sticky Note5\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -440,\n        -360\n      ],\n      \"parameters\": {\n        \"width\": 340,\n        \"height\": 820,\n        \"content\": \"![Callforge](https://uploads.n8n.io/templates/callforgeshadow.png)\\n## CallForge\\nCallForge allows you to extract important information for different departments from your Sales Gong Calls. \\n\\n### Salesforce Trigger\\nThis workflow triggers the AI agent to run, processing calls every hour. It uses the Gong/Salesforce integration to look for new conversation objects in Salesforce which indicate that a new recording has synced to Salesforce. This allows us to filter calls based on internal milestones and metrics ensuring only calls that meet a certain criteria are processed. \"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"2906d433-070d-4240-ba2f-a1669ce5ccc1\",\n      \"name\": \"Sticky Note4\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -80,\n        -360\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 1940,\n        \"height\": 820,\n        \"content\": \"## Get Gong Transcript and Call Details\\nThe transcript is to pass into the AI prompt, but needs to be transformed first. The Call details provide the Prompt with metadata.\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"96cb8746-3605-4723-b8b5-33bbe8841eaa\",\n      \"name\": \"Format call into correct JSON Object\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        1360,\n        -140\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"881fab8b-2f6e-474e-a913-c4bde2b6bd2e\",\n              \"name\": \"id\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.metaData.id }}\"\n            },\n            {\n              \"id\": \"29aad399-1bb7-49e3-8fc9-cf8a6353536a\",\n              \"name\": \"url\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.metaData.url }}\"\n            },\n            {\n              \"id\": \"709d029e-6843-42e1-94cc-d01857918617\",\n              \"name\": \"title\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.metaData.title }}\"\n            },\n            {\n              \"id\": \"39de0391-207b-46ec-9230-cf83667c42b8\",\n              \"name\": \"scheduled\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.metaData.scheduled }}\"\n            },\n            {\n              \"id\": \"05e3a4a5-12a4-4e14-a8bf-4231e4b2c5b1\",\n              \"name\": \"started\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.metaData.started }}\"\n            },\n            {\n              \"id\": \"19de15be-56e5-4935-807c-9530cb1da5a8\",\n              \"name\": \"duration\",\n              \"type\": \"number\",\n              \"value\": \"={{ $json.metaData.duration }}\"\n            },\n            {\n              \"id\": \"5a15284b-7c7f-4174-ae6a-82a0dade0542\",\n              \"name\": \"primaryUserId\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.metaData.primaryUserId }}\"\n            },\n            {\n              \"id\": \"aa58e20b-ddaa-4ed1-a0e2-06125103216f\",\n              \"name\": \"direction\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.metaData.direction }}\"\n            },\n            {\n              \"id\": \"0f877bb4-a75f-4691-92b0-8b29b939a5b4\",\n              \"name\": \"system\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.metaData.system }}\"\n            },\n            {\n              \"id\": \"05b3cb81-244d-4f42-a681-13aca1c1df0d\",\n              \"name\": \"scope\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.metaData.scope }}\"\n            },\n            {\n              \"id\": \"2f9b87d1-e0bd-4170-88da-6966c00c7a2b\",\n              \"name\": \"media\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.metaData.media }}\"\n            },\n            {\n              \"id\": \"86282040-ceea-4a88-ae47-d5e3fa7cb1a7\",\n              \"name\": \"language\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.metaData.language }}\"\n            },\n            {\n              \"id\": \"6d8e4e35-5b84-4a1b-a2c1-605ea5e08e66\",\n              \"name\": \"workspaceId\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.metaData.workspaceId }}\"\n            },\n            {\n              \"id\": \"85f50bb3-306e-4fb3-921b-ff0f61acecbd\",\n              \"name\": \"sdrDisposition\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.metaData.sdrDisposition }}\"\n            },\n            {\n              \"id\": \"a779d6e8-0d07-4159-8b56-b3c2e49d1c19\",\n              \"name\": \"clientUniqueId\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.metaData.clientUniqueId }}\"\n            },\n            {\n              \"id\": \"14718f26-69e1-4e4b-90b5-dd059af6459e\",\n              \"name\": \"customData\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.metaData.customData }}\"\n            },\n            {\n              \"id\": \"4741d29d-0ad6-471d-8432-e7158daeb224\",\n              \"name\": \"purpose\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.metaData.purpose }}\"\n            },\n            {\n              \"id\": \"7e390036-376e-430d-bd28-43d52ae8794b\",\n              \"name\": \"meetingUrl\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.metaData.meetingUrl }}\"\n            },\n            {\n              \"id\": \"1ea1f639-8327-4e76-bb3b-f08182fdb87a\",\n              \"name\": \"isPrivate\",\n              \"type\": \"boolean\",\n              \"value\": \"={{ $json.metaData.isPrivate }}\"\n            },\n            {\n              \"id\": \"855ceef1-6bae-44ea-b2af-cc4aa38d6a37\",\n              \"name\": \"calendarEventId\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.metaData.calendarEventId }}\"\n            },\n            {\n              \"id\": \"f7c11074-70bb-46de-8e7b-2c6d095033c4\",\n              \"name\": \"sfOpp\",\n              \"type\": \"string\",\n              \"value\": \"={{ $('Get all custom Salesforce Gong Objects').item.json.Gong__Primary_Opportunity__c }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"5b5eb2c1-7f80-4211-b835-5188376c6df2\",\n      \"name\": \"Pass to Gong Call Preprocessor\",\n      \"type\": \"n8n-nodes-base.executeWorkflow\",\n      \"position\": [\n        1580,\n        -140\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"workflowId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"6mL5jWOJfuzkpjzx\",\n          \"cachedResultName\": \"Gong Call Preprocessor Demo\"\n        }\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"025d3ed7-2bd8-4a88-8834-034036c533c6\",\n      \"name\": \"Get Gong Call\",\n      \"type\": \"n8n-nodes-base.gong\",\n      \"position\": [\n        1140,\n        -140\n      ],\n      \"parameters\": {\n        \"call\": {\n          \"__rl\": true,\n          \"mode\": \"id\",\n          \"value\": \"={{ $json.Gong__Call_ID__c }}\"\n        },\n        \"options\": {},\n        \"operation\": \"get\",\n        \"requestOptions\": {}\n      },\n      \"credentials\": {\n        \"gongApi\": {\n          \"id\": \"EchfvOC4rjw8MUkr\",\n          \"name\": \"Liam Gong Cred\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"a4f63c5c-a23e-400f-9fa4-40c61756c321\",\n      \"name\": \"Sort by date\",\n      \"type\": \"n8n-nodes-base.sort\",\n      \"position\": [\n        440,\n        0\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"sortFieldsUi\": {\n          \"sortField\": [\n            {\n              \"order\": \"descending\",\n              \"fieldName\": \"CreatedDate\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"aa24b82b-3d65-4d1e-be04-7e7d5e439587\",\n      \"name\": \"Get all custom Salesforce Gong Objects\",\n      \"type\": \"n8n-nodes-base.salesforce\",\n      \"position\": [\n        220,\n        0\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"fields\": [\n            \"CreatedDate\",\n            \"LastActivityDate\",\n            \"Name\",\n            \"Gong__Call_ID__c\",\n            \"Gong__Talk_Time_Us__c\",\n            \"Gong__Talk_Time_Them__c\",\n            \"Gong__Title__c\",\n            \"Gong__View_call__c\",\n            \"Gong__Primary_Opportunity__c\",\n            \"Gong__Opp_Stage_Time_Of_Call__c\"\n          ],\n          \"conditionsUi\": {\n            \"conditionValues\": [\n              {\n                \"field\": \"CreatedDate\",\n                \"value\": \"={{ $now.minus(4, 'hours') }}\",\n                \"operation\": \">=\"\n              }\n            ]\n          }\n        },\n        \"resource\": \"customObject\",\n        \"operation\": \"getAll\",\n        \"customObject\": \"Gong__Gong_Call__c\"\n      },\n      \"credentials\": {\n        \"salesforceOAuth2Api\": {\n          \"id\": \"Ykybxuyh0jK0o3qH\",\n          \"name\": \"Angel SF Creds v3\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"c46f7b03-8ce0-468d-ac84-fae9ae5b2466\",\n      \"name\": \"Run Hourly\",\n      \"type\": \"n8n-nodes-base.scheduleTrigger\",\n      \"position\": [\n        0,\n        -160\n      ],\n      \"parameters\": {\n        \"rule\": {\n          \"interval\": [\n            {\n              \"field\": \"hours\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1.2\n    }\n  ],\n  \"pinData\": {},\n  \"connections\": {\n    \"Run Hourly\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get all custom Salesforce Gong Objects\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Sort by date\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Check if Opportunity Stage is Meeting Booked or Discovery\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get Gong Call\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Format call into correct JSON Object\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When clicking ‘Test workflow’\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get all custom Salesforce Gong Objects\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Format call into correct JSON Object\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Pass to Gong Call Preprocessor\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get all custom Salesforce Gong Objects\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Sort by date\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Check if Primary Opportunity Contains Value\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get Gong Call\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Check if Opportunity Stage is Meeting Booked or Discovery\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Check if Primary Opportunity Contains Value\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.manualTrigger",
      "n8n-nodes-base.if",
      "n8n-nodes-base.if",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.set",
      "n8n-nodes-base.executeWorkflow",
      "n8n-nodes-base.gong",
      "n8n-nodes-base.sort",
      "n8n-nodes-base.salesforce",
      "n8n-nodes-base.scheduleTrigger"
    ],
    "trigger": null
  }
}