{
  "source": "0433_Splitout_Webhook_Update_Webhook.json",
  "index": 1,
  "content": "{\n  \"meta\": {\n    \"instanceId\": \"29aba5a622661908a48f94e4ff4983d5d88a33ca233b57cebe114886a24f3172\"\n  },\n  \"nodes\": [\n    {\n      \"id\": \"85c8481e-9bc8-49ca-bce1-1d2d915829bd\",\n      \"name\": \"Respond All Items\",\n      \"type\": \"n8n-nodes-base.respondToWebhook\",\n      \"position\": [\n        2180,\n        500\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"respondWith\": \"allIncomingItems\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"194a1e37-ae2a-4142-a3f6-38161abbc20b\",\n      \"name\": \"Respond Asked Item\",\n      \"type\": \"n8n-nodes-base.respondToWebhook\",\n      \"position\": [\n        2180,\n        280\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"9bb8cb37-9723-4f85-8878-f3b0abe5763f\",\n      \"name\": \"Incoming Webhook Trigger\",\n      \"type\": \"n8n-nodes-base.webhook\",\n      \"position\": [\n        700,\n        300\n      ],\n      \"webhookId\": \"309c36da-224c-4023-b989-8f991502b625\",\n      \"parameters\": {\n        \"path\": \"eu-exchange-rate\",\n        \"options\": {},\n        \"responseMode\": \"responseNode\"\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"f1fe517a-bd74-45e0-b9df-9d7167d50068\",\n      \"name\": \"Get latest Euro exchange rates\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        920,\n        300\n      ],\n      \"parameters\": {\n        \"url\": \"={{ \\\"https://www.ecb.europa.eu/stats/eurofxref/eurofxref-daily.xml?\\\" + Math.floor(Math.random() * (999999999 - 100000000 + 1)) + 100000000 }}\",\n        \"options\": {}\n      },\n      \"typeVersion\": 4.1\n    },\n    {\n      \"id\": \"92d6936f-2c6f-4069-89bd-fe044664bb8b\",\n      \"name\": \"Convert XML to JSON\",\n      \"type\": \"n8n-nodes-base.xml\",\n      \"position\": [\n        1140,\n        300\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"a923e692-5da1-4e87-99c1-c22372a99d96\",\n      \"name\": \"Split Out Data\",\n      \"type\": \"n8n-nodes-base.splitOut\",\n      \"position\": [\n        1360,\n        300\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"fieldToSplitOut\": \"['gesmes:Envelope'].Cube.Cube.Cube\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"6a1de054-ef7a-41d9-886c-f31d4801b83e\",\n      \"name\": \"If Webhook Trigger has URL query\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        1580,\n        300\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"c3c32528-8f02-4414-be79-0cb8e18a4cbf\",\n              \"operator\": {\n                \"type\": \"object\",\n                \"operation\": \"notEmpty\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $('Incoming Webhook Trigger').item.json.query }}\",\n              \"rightValue\": \"\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"be62a49c-36db-48cf-819a-0c004fa37a0e\",\n      \"name\": \"Filter the currency symbol\",\n      \"type\": \"n8n-nodes-base.filter\",\n      \"position\": [\n        1880,\n        280\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"b67b8d32-f164-473d-9822-78759b4ea827\",\n              \"operator\": {\n                \"name\": \"filter.operator.equals\",\n                \"type\": \"string\",\n                \"operation\": \"equals\"\n              },\n              \"leftValue\": \"={{ $json.currency }}\",\n              \"rightValue\": \"={{ $('Incoming Webhook Trigger').item.json.query.foreign }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"99b449df-b350-4e35-ad9f-4555a7cacbc9\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        860,\n        100\n      ],\n      \"parameters\": {\n        \"width\": 431.3108108108107,\n        \"height\": 424.89189189189204,\n        \"content\": \"## Note\\n* The HTTP request adds a randomized URL parameter to ensure getting the latest data by prevent caching.\\n* The provided data is XML-formatted and therefore converted to JSON formatting.\\n\\nRead more about Euro foreign exchange reference rates [here](https://www.ecb.europa.eu/stats/policy_and_exchange_rates/euro_reference_exchange_rates/html/index.en.html).\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"pinData\": {},\n  \"connections\": {\n    \"Split Out Data\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"If Webhook Trigger has URL query\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Convert XML to JSON\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Split Out Data\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Incoming Webhook Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get latest Euro exchange rates\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Filter the currency symbol\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Respond Asked Item\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get latest Euro exchange rates\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Convert XML to JSON\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"If Webhook Trigger has URL query\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Filter the currency symbol\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Respond All Items\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.respondToWebhook",
      "n8n-nodes-base.respondToWebhook",
      "n8n-nodes-base.webhook",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.xml",
      "n8n-nodes-base.splitOut",
      "n8n-nodes-base.if",
      "n8n-nodes-base.filter",
      "n8n-nodes-base.stickyNote"
    ],
    "trigger": "incoming webhook trigger"
  }
}