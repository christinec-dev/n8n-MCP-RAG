{
  "source": "1237_Error_Telegram_Automation_Webhook.json",
  "index": 1,
  "content": "{\n  \"id\": \"9nBQ1BfwxLhuzTcK\",\n  \"meta\": {\n    \"instanceId\": \"3378b0d68c3b7ebfc71b79896d94e1a044dec38e99a1160aed4e9c323910fbe2\"\n  },\n  \"name\": \"google drive to instagram, tiktok and youtube\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"b6c1d2f5-a8de-42dc-a164-3b1e80b2f19d\",\n      \"name\": \"Google Drive Trigger\",\n      \"type\": \"n8n-nodes-base.googleDriveTrigger\",\n      \"position\": [\n        220,\n        320\n      ],\n      \"parameters\": {\n        \"event\": \"fileCreated\",\n        \"options\": {},\n        \"pollTimes\": {\n          \"item\": [\n            {\n              \"mode\": \"everyMinute\"\n            }\n          ]\n        },\n        \"triggerOn\": \"specificFolder\",\n        \"folderToWatch\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"18m0i341QLQuyWuHv_FBdz8-r-QDtofYm\",\n          \"cachedResultUrl\": \"https://drive.google.com/drive/folders/18m0i341QLQuyWuHv_FBdz8-r-QDtofYm\",\n          \"cachedResultName\": \"Influencersde\"\n        }\n      },\n      \"credentials\": {\n        \"googleDriveOAuth2Api\": {\n          \"id\": \"2TbhWtnbRfSloGxX\",\n          \"name\": \"Google Drive account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"1dda484a-f6f5-4677-85a3-09b2a47e69c4\",\n      \"name\": \"Google Drive\",\n      \"type\": \"n8n-nodes-base.googleDrive\",\n      \"position\": [\n        400,\n        320\n      ],\n      \"parameters\": {\n        \"fileId\": {\n          \"__rl\": true,\n          \"mode\": \"\",\n          \"value\": \"={{ $json.id || $json.data[0].id }}\"\n        },\n        \"options\": {},\n        \"operation\": \"download\",\n        \"authentication\": \"oAuth2\"\n      },\n      \"credentials\": {\n        \"googleDriveOAuth2Api\": {\n          \"id\": \"2TbhWtnbRfSloGxX\",\n          \"name\": \"Google Drive account\"\n        }\n      },\n      \"retryOnFail\": true,\n      \"typeVersion\": 1,\n      \"waitBetweenTries\": 5000\n    },\n    {\n      \"id\": \"f9388923-b20e-40f0-ba10-fd00b463b1a7\",\n      \"name\": \"Error Trigger\",\n      \"type\": \"n8n-nodes-base.errorTrigger\",\n      \"position\": [\n        620,\n        660\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"eda45ad6-d976-4665-9b6d-dae4c3212191\",\n      \"name\": \"Telegram\",\n      \"type\": \"n8n-nodes-base.telegram\",\n      \"position\": [\n        960,\n        640\n      ],\n      \"webhookId\": \"f6729386-9905-45f1-800f-4fe01a06ac9c\",\n      \"parameters\": {\n        \"text\": \"=ðŸ”” ERROR SUBIENDO VIDEOS\",\n        \"additionalFields\": {\n          \"appendAttribution\": false\n        }\n      },\n      \"retryOnFail\": true,\n      \"typeVersion\": 1.2,\n      \"waitBetweenTries\": 5000\n    },\n    {\n      \"id\": \"7b1d6015-49b8-423c-be64-e905ff791574\",\n      \"name\": \"If\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        760,\n        660\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 1,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"9fadb3fd-2547-42bd-8f40-f410a97dcf57\",\n              \"operator\": {\n                \"type\": \"string\",\n                \"operation\": \"notContains\"\n              },\n              \"leftValue\": \"={{ $json.trigger.error.message }}\",\n              \"rightValue\": \"The DNS server returned an error, perhaps the server is offline\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"6e9882aa-b11f-4c1a-8600-eedda9d92046\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -220,\n        0\n      ],\n      \"parameters\": {\n        \"width\": 860,\n        \"height\": 260,\n        \"content\": \"## Description\\nThis automation allows you to upload a video to a configured Google Drive folder, and it will automatically create descriptions and upload it to Instagram and TikTok.\\n\\n## How to Use\\n1. Generate an API token at upload-post.com and add to Upload to Tiktok and Upload to Instagram nodes\\n2. Configure your Google Drive folder\\n3. Customize the OpenAI prompt for your specific use case\\n4. Optional: Configure Telegram for error notifications\\n\\n## Requirements\\n- upload-post.com account\\n- Google Drive account\\n- OpenAI API key\\n\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"b3eed1dc-8273-4593-ab07-8860fffa0907\",\n      \"name\": \"Get Audio from Video\",\n      \"type\": \"@n8n/n8n-nodes-langchain.openAi\",\n      \"notes\": \"Extract the audio from video for generate the description\",\n      \"position\": [\n        860,\n        320\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"resource\": \"audio\",\n        \"operation\": \"transcribe\"\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"XJdxgMSXFgwReSsh\",\n          \"name\": \"n8n key\"\n        }\n      },\n      \"notesInFlow\": true,\n      \"retryOnFail\": true,\n      \"typeVersion\": 1,\n      \"waitBetweenTries\": 5000\n    },\n    {\n      \"id\": \"b057fea0-087e-4c7f-b5ac-6d16ca658437\",\n      \"name\": \"Read video from Google Drive\",\n      \"type\": \"n8n-nodes-base.writeBinaryFile\",\n      \"position\": [\n        580,\n        320\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"fileName\": \"={{ $json.originalFilename.replaceAll(\\\" \\\", \\\"_\\\") }}\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"f9296b8f-b631-4df4-b8b5-aa7139dd65cd\",\n      \"name\": \"Generate Description for Videos  in Tiktok and Instagram\",\n      \"type\": \"@n8n/n8n-nodes-langchain.openAi\",\n      \"notes\": \"Request to OpenAi for generate description with the audio extracted from the video\",\n      \"position\": [\n        1060,\n        320\n      ],\n      \"parameters\": {\n        \"modelId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gpt-4o\",\n          \"cachedResultName\": \"GPT-4O\"\n        },\n        \"options\": {},\n        \"messages\": {\n          \"values\": [\n            {\n              \"role\": \"system\",\n              \"content\": \"You are an expert assistant in creating engaging social media video titles.\"\n            },\n            {\n              \"content\": \"=I'm going to upload a video to social media. Here are some examples of descriptions that have worked well on Instagram:\\n\\nFollow and save for later. Discover InfluencersDe, the AI tool that automates TikTok creation and publishing to drive traffic to your website. Perfect for entrepreneurs and brands.\\n#digitalmarketing #ugc #tiktok #ai #influencersde #contentcreation\\n\\nDiscover the video marketing revolution with InfluencersDe!\\n.\\n.\\n.\\n#socialmedia #videomarketing #ai #tiktok #influencersde #growthhacking\\n\\nDon't miss InfluencersDe, the tool that transforms your marketing strategy with just one click!\\n.\\n.\\n.\\n#ugc #ai #tiktok #digitalmarketing #influencersde #branding\\n\\nCan you create another title for the Instagram post based on this recognized audio from the video?\\n\\nAudio: {{ $('Get Audio from Video').item.json.text }}\\n\\nIMPORTANT: Reply only with the description, don't add anything else.\"\n            }\n          ]\n        }\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"XJdxgMSXFgwReSsh\",\n          \"name\": \"n8n key\"\n        }\n      },\n      \"notesInFlow\": true,\n      \"retryOnFail\": true,\n      \"typeVersion\": 1.4,\n      \"waitBetweenTries\": 5000\n    },\n    {\n      \"id\": \"e80758fd-5532-48b0-b663-085629137fc0\",\n      \"name\": \"Read Video from Google Drive\",\n      \"type\": \"n8n-nodes-base.readBinaryFile\",\n      \"position\": [\n        1620,\n        100\n      ],\n      \"parameters\": {\n        \"filePath\": \"={{ $('Read video from Google Drive').item.json.originalFilename.replaceAll(\\\" \\\", \\\"_\\\") }}\",\n        \"dataPropertyName\": \"datavideo\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"8f13c601-4282-4a44-8e8a-dc88e4165ee4\",\n      \"name\": \"Read Video from Google Drive2\",\n      \"type\": \"n8n-nodes-base.readBinaryFile\",\n      \"position\": [\n        1620,\n        400\n      ],\n      \"parameters\": {\n        \"filePath\": \"={{ $('Read video from Google Drive').item.json.originalFilename.replaceAll(\\\" \\\", \\\"_\\\") }}\",\n        \"dataPropertyName\": \"datavideo\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"1b46976e-be37-49bd-b77b-e48d8e619954\",\n      \"name\": \"Upload Video and Description to Tiktok\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"notes\": \"Generate in upload-post.com the token and add to the credentials in the header-> Authorization: Apikey (token here)\",\n      \"position\": [\n        1880,\n        100\n      ],\n      \"parameters\": {\n        \"url\": \"https://api.upload-post.com/api/upload\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"sendBody\": true,\n        \"contentType\": \"multipart-form-data\",\n        \"authentication\": \"genericCredentialType\",\n        \"bodyParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"title\",\n              \"value\": \"={{ $('Generate Description for Videos  in Tiktok and Instagram').item.json.message.content.replaceAll(\\\"\\\\\\\"\\\", \\\"\\\") }}\"\n            },\n            {\n              \"name\": \"platform[]\",\n              \"value\": \"tiktok\"\n            },\n            {\n              \"name\": \"video\",\n              \"parameterType\": \"formBinaryData\",\n              \"inputDataFieldName\": \"datavideo\"\n            },\n            {\n              \"name\": \"user\",\n              \"value\": \"Add user generated in upload-post\"\n            }\n          ]\n        },\n        \"genericAuthType\": \"httpHeaderAuth\"\n      },\n      \"credentials\": {\n        \"httpHeaderAuth\": {\n          \"id\": \"WNjAx7UqrEZ1JDrR\",\n          \"name\": \"VituManco\"\n        }\n      },\n      \"notesInFlow\": true,\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"0404a57f-2c1a-4ccd-90df-893dd01acaa0\",\n      \"name\": \"Upload Video and Description to Instagram\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"notes\": \"Generate in upload-post.com the token and add to the credentials in the header-> Authorization: Apikey (token here)\",\n      \"position\": [\n        1880,\n        400\n      ],\n      \"parameters\": {\n        \"url\": \"https://api.upload-post.com/api/upload\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"sendBody\": true,\n        \"contentType\": \"multipart-form-data\",\n        \"authentication\": \"genericCredentialType\",\n        \"bodyParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"title\",\n              \"value\": \"={{ $('Generate Description for Videos  in Tiktok and Instagram').item.json.message.content.replaceAll(\\\"\\\\\\\"\\\", \\\"\\\") }}\"\n            },\n            {\n              \"name\": \"platform[]\",\n              \"value\": \"instagram\"\n            },\n            {\n              \"name\": \"video\",\n              \"parameterType\": \"formBinaryData\",\n              \"inputDataFieldName\": \"datavideo\"\n            },\n            {\n              \"name\": \"user\",\n              \"value\": \"Add user generated in upload-post\"\n            }\n          ]\n        },\n        \"genericAuthType\": \"httpHeaderAuth\"\n      },\n      \"credentials\": {\n        \"httpHeaderAuth\": {\n          \"id\": \"47dO31ED0WIaJkR6\",\n          \"name\": \"Header Auth account\"\n        }\n      },\n      \"notesInFlow\": true,\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"358da7b7-2d0a-475b-a10d-ffc499b5e99d\",\n      \"name\": \"Read Video from Google Drive3\",\n      \"type\": \"n8n-nodes-base.readBinaryFile\",\n      \"position\": [\n        1620,\n        660\n      ],\n      \"parameters\": {\n        \"filePath\": \"={{ $('Read video from Google Drive').item.json.originalFilename.replaceAll(\\\" \\\", \\\"_\\\") }}\",\n        \"dataPropertyName\": \"datavideo\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"0e46ee9b-e466-4a5d-8916-3836eed4fc2d\",\n      \"name\": \"Upload Video and Description to Youtube\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"notes\": \"Generate in upload-post.com the token and add to the credentials in the header-> Authorization: Apikey (token here)\",\n      \"position\": [\n        1880,\n        660\n      ],\n      \"parameters\": {\n        \"url\": \"https://api.upload-post.com/api/upload\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"sendBody\": true,\n        \"contentType\": \"multipart-form-data\",\n        \"authentication\": \"genericCredentialType\",\n        \"bodyParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"title\",\n              \"value\": \"={{ $('Generate Description for Videos  in Tiktok and Instagram').item.json.message.content.replaceAll(\\\"\\\\\\\"\\\", \\\"\\\").substring(0, 70) }}\\n\"\n            },\n            {\n              \"name\": \"platform[]\",\n              \"value\": \"youtube\"\n            },\n            {\n              \"name\": \"video\",\n              \"parameterType\": \"formBinaryData\",\n              \"inputDataFieldName\": \"datavideo\"\n            },\n            {\n              \"name\": \"user\",\n              \"value\": \"test2\"\n            }\n          ]\n        },\n        \"genericAuthType\": \"httpHeaderAuth\"\n      },\n      \"credentials\": {\n        \"httpHeaderAuth\": {\n          \"id\": \"47dO31ED0WIaJkR6\",\n          \"name\": \"Header Auth account\"\n        }\n      },\n      \"notesInFlow\": true,\n      \"typeVersion\": 4.2\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"13975e04-a6c4-42d0-887c-e6c4ff219f42\",\n  \"connections\": {\n    \"If\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Telegram\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Google Drive\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Read video from Google Drive\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Error Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"If\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get Audio from Video\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Generate Description for Videos  in Tiktok and Instagram\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Google Drive Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Google Drive\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Read Video from Google Drive\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Upload Video and Description to Tiktok\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Read video from Google Drive\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get Audio from Video\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Read Video from Google Drive2\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Upload Video and Description to Instagram\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Read Video from Google Drive3\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Upload Video and Description to Youtube\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Generate Description for Videos  in Tiktok and Instagram\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Read Video from Google Drive\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Read Video from Google Drive2\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Read Video from Google Drive3\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.googleDriveTrigger",
      "n8n-nodes-base.googleDrive",
      "n8n-nodes-base.errorTrigger",
      "n8n-nodes-base.telegram",
      "n8n-nodes-base.if",
      "n8n-nodes-base.stickyNote",
      "@n8n/n8n-nodes-langchain.openAi",
      "n8n-nodes-base.writeBinaryFile",
      "@n8n/n8n-nodes-langchain.openAi",
      "n8n-nodes-base.readBinaryFile",
      "n8n-nodes-base.readBinaryFile",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.readBinaryFile",
      "n8n-nodes-base.httpRequest"
    ],
    "trigger": "google drive trigger"
  }
}