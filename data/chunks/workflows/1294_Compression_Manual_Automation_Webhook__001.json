{
  "source": "1294_Compression_Manual_Automation_Webhook.json",
  "index": 1,
  "content": "{\n  \"id\": \"AQJ6QnF2yVdCWMnx\",\n  \"meta\": {\n    \"instanceId\": \"fb924c73af8f703905bc09c9ee8076f48c17b596ed05b18c0ff86915ef8a7c4a\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"name\": \"SQL agent with memory\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"3544950e-4d8e-46ca-8f56-61c152a5cae3\",\n      \"name\": \"Window Buffer Memory\",\n      \"type\": \"@n8n/n8n-nodes-langchain.memoryBufferWindow\",\n      \"position\": [\n        1220,\n        500\n      ],\n      \"parameters\": {\n        \"contextWindowLength\": 10\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"743cc4e7-5f24-4adc-b872-7241ee775bd0\",\n      \"name\": \"OpenAI Chat Model\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\n      \"position\": [\n        1000,\n        500\n      ],\n      \"parameters\": {\n        \"model\": \"gpt-4-turbo\",\n        \"options\": {\n          \"temperature\": 0.3\n        }\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"rveqdSfp7pCRON1T\",\n          \"name\": \"Ted's Tech Talks OpenAi\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"cc30066c-ad2c-4729-82c1-a6b0f4214dee\",\n      \"name\": \"When clicking \\\"Test workflow\\\"\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        500,\n        -80\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"0deacd0d-45cb-4738-8da0-9d1251858867\",\n      \"name\": \"Get chinook.zip example\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        700,\n        -80\n      ],\n      \"parameters\": {\n        \"url\": \"https://www.sqlitetutorial.net/wp-content/uploads/2018/03/chinook.zip\",\n        \"options\": {}\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"61f34708-f8ed-44a9-8522-6042d28511ae\",\n      \"name\": \"Extract zip file\",\n      \"type\": \"n8n-nodes-base.compression\",\n      \"position\": [\n        900,\n        -80\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"6a12d9ac-f1b7-4267-8b34-58cdb9d347bb\",\n      \"name\": \"Save chinook.db locally\",\n      \"type\": \"n8n-nodes-base.readWriteFile\",\n      \"position\": [\n        1100,\n        -80\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"fileName\": \"./chinook.db\",\n        \"operation\": \"write\",\n        \"dataPropertyName\": \"file_0\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"701d1325-4186-4185-886a-3738163db603\",\n      \"name\": \"Load local chinook.db\",\n      \"type\": \"n8n-nodes-base.readWriteFile\",\n      \"position\": [\n        620,\n        360\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"fileSelector\": \"./chinook.db\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"d7b3813d-8180-4ff1-87a4-bd54a03043af\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        440,\n        -280.9454545454546\n      ],\n      \"parameters\": {\n        \"width\": 834.3272727272731,\n        \"height\": 372.9454545454546,\n        \"content\": \"## Run this part only once\\nThis section:\\n* downloads the example zip file from https://www.sqlitetutorial.net/sqlite-sample-database/\\n* extracts the archive (it contains only a single file)\\n* saves the extracted `chinook.db` SQLite database locally\\n\\nNow you can use chat to \\\"talk\\\" to your data!\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"6bd25563-2c59-44c2-acf9-407bd28a15cf\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        400,\n        240\n      ],\n      \"parameters\": {\n        \"width\": 558.5454545454544,\n        \"height\": 297.89090909090913,\n        \"content\": \"## On every chat message:\\n* the local SQLite database is loaded\\n* JSON from Chat Trigger is combined with SQLite binary data\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"2be63956-236e-46f7-b8e4-0f55e2e25a5c\",\n      \"name\": \"Combine chat input with the binary\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        820,\n        360\n      ],\n      \"parameters\": {\n        \"mode\": \"raw\",\n        \"options\": {\n          \"includeBinary\": true\n        },\n        \"jsonOutput\": \"={{ $('Chat Trigger').item.json }}\\n\"\n      },\n      \"typeVersion\": 3.3\n    },\n    {\n      \"id\": \"7f4c9adb-eab4-40d7-ad2e-44f2c0e3e30a\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        980,\n        120\n      ],\n      \"parameters\": {\n        \"width\": 471.99692219161466,\n        \"height\": 511.16641410437836,\n        \"content\": \"### LangChain SQL Agent can make several queries before producing the final answer.\\nTry these examples:\\n1. \\\"Please describe the database\\\". This input usually requires just 1 query + an extra observation to produce a final answer.\\n2. \\\"What are the revenues by genre?\\\". This input will launch a series of Agent actions, because it needs to make several queries.\\n\\nThe final answer is stored in the memory and will be recalled on the next input from the user.\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"ac819eb5-13b2-4280-b9d6-06ec1209700e\",\n      \"name\": \"AI Agent\",\n      \"type\": \"@n8n/n8n-nodes-langchain.agent\",\n      \"position\": [\n        1020,\n        360\n      ],\n      \"parameters\": {\n        \"agent\": \"sqlAgent\",\n        \"options\": {},\n        \"dataSource\": \"sqlite\"\n      },\n      \"typeVersion\": 1.6\n    },\n    {\n      \"id\": \"5ecaa3eb-e93e-4e41-bbc0-98a8c2b2d463\",\n      \"name\": \"Chat Trigger\",\n      \"type\": \"@n8n/n8n-nodes-langchain.chatTrigger\",\n      \"position\": [\n        420,\n        360\n      ],\n      \"webhookId\": \"fb565f08-a459-4ff9-8249-1ede58599660\",\n      \"parameters\": {},\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"fbc06ddd-dbd8-49ee-bbee-2f495d5651a2\",\n  \"connections\": {\n    \"Chat Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Load local chinook.db\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Extract zip file\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Save chinook.db locally\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"OpenAI Chat Model\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"AI Agent\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Window Buffer Memory\": {\n      \"ai_memory\": [\n        [\n          {\n            \"node\": \"AI Agent\",\n            \"type\": \"ai_memory\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Load local chinook.db\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Combine chat input with the binary\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get chinook.zip example\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Extract zip file\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When clicking \\\"Test workflow\\\"\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get chinook.zip example\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Combine chat input with the binary\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"AI Agent\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "n8n-nodes-base.manualTrigger",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.compression",
      "n8n-nodes-base.readWriteFile",
      "n8n-nodes-base.readWriteFile",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.set",
      "n8n-nodes-base.stickyNote",
      "@n8n/n8n-nodes-langchain.agent",
      "@n8n/n8n-nodes-langchain.chatTrigger"
    ],
    "trigger": "chat trigger"
  }
}