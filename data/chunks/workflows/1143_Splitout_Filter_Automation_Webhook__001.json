{
  "source": "1143_Splitout_Filter_Automation_Webhook.json",
  "index": 1,
  "content": "{\n  \"id\": \"7fdJOvYNILCr24fH\",\n  \"meta\": {\n    \"instanceId\": \"568298fde06d3db80a2eea77fe5bf45f0c7bb898dea20b769944e9ac7c6c5a80\"\n  },\n  \"name\": \"Read sitemap and filter URLs\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"38910330-5286-4f3f-b62e-9216acccd503\",\n      \"name\": \"‘Test workflow’ trigger\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        -460,\n        -60\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"d4e5991b-62d9-45ca-962f-c1077f3bce19\",\n      \"name\": \"Set sitemap URL\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        -280,\n        -60\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"d6c5ac86-6d67-42fb-96ec-9826caf452e2\",\n              \"name\": \"sitemapUrl\",\n              \"type\": \"string\",\n              \"value\": \"https://duckduckgo.com/sitemap.xml\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"0d957deb-5830-4077-97e4-437dc7c0e527\",\n      \"name\": \"Split Out\",\n      \"type\": \"n8n-nodes-base.splitOut\",\n      \"position\": [\n        260,\n        -60\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"fieldToSplitOut\": \"urlset.url\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"7021088c-dfa1-4aae-b2e7-15b0ca10a750\",\n      \"name\": \"Get Sitemap\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        -100,\n        -60\n      ],\n      \"parameters\": {\n        \"url\": \"={{ $json.sitemapUrl }}\",\n        \"options\": {}\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"d3b86577-01fc-40f8-ab65-93ba420187b8\",\n      \"name\": \"Convert Sitemap to JSON\",\n      \"type\": \"n8n-nodes-base.xml\",\n      \"position\": [\n        80,\n        -60\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"trim\": true,\n          \"normalize\": true,\n          \"mergeAttrs\": true,\n          \"ignoreAttrs\": true,\n          \"normalizeTags\": true\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"bc0758ae-06eb-4a29-a91e-414407ec8ade\",\n      \"name\": \"Filter URLs\",\n      \"type\": \"n8n-nodes-base.filter\",\n      \"position\": [\n        440,\n        -60\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"0bf8e98c-b6c5-4129-852c-0d3e63f32f9f\",\n              \"operator\": {\n                \"type\": \"string\",\n                \"operation\": \"endsWith\"\n              },\n              \"leftValue\": \"={{ $json.loc }}\",\n              \"rightValue\": \".pdf\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"1d3fed97-1e72-426c-a48d-1a9683f40c4c\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -300,\n        -140\n      ],\n      \"parameters\": {\n        \"color\": 6,\n        \"width\": 150,\n        \"height\": 240,\n        \"content\": \"**Set your sitemap.xml\\nurl here.**\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"521ec74d-6707-47fd-992d-eecebed415ab\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        420,\n        -140\n      ],\n      \"parameters\": {\n        \"color\": 6,\n        \"width\": 150,\n        \"height\": 240,\n        \"content\": \"**Create your filter here.**\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"07e6c3de-cc72-490d-b614-67034ce04bfb\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -140,\n        -180\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 540,\n        \"height\": 300,\n        \"content\": \"## Fetch and process the sitemap.xml file\\nThis part fetches and process the sitemap.xml file from XML data to JSON that we can work with.\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"abf5f02d-d2a0-43f1-9a1f-386cc4f9861b\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -780,\n        -220\n      ],\n      \"parameters\": {\n        \"width\": 280,\n        \"height\": 420,\n        \"content\": \"## Sitemap.xml reader\\nThis workflow reads an sitemap.xml and filters out the entries you want.\\n\\nBy default only PDF documents are returned at the end of the workflow.\\n\\n**SETUP**\\n- Edit the **Set sitemap URL** block and add the url to the sitemap you want to read.\\n\\n- Edit the **Filter URLs** to your needs.\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"74793599-4c7d-4532-bbd5-a2ce4761fbc8\",\n  \"connections\": {\n    \"Split Out\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Filter URLs\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get Sitemap\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Convert Sitemap to JSON\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Set sitemap URL\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get Sitemap\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Convert Sitemap to JSON\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Split Out\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"‘Test workflow’ trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set sitemap URL\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.manualTrigger",
      "n8n-nodes-base.set",
      "n8n-nodes-base.splitOut",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.xml",
      "n8n-nodes-base.filter",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote"
    ],
    "trigger": "‘test workflow’ trigger"
  }
}