{
  "source": "0494_HTTP_Htmlextract_Send_Webhook.json",
  "index": 1,
  "content": "{\n  \"nodes\": [\n    {\n      \"name\": \"IF\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        1050,\n        500\n      ],\n      \"parameters\": {\n        \"conditions\": {\n          \"string\": [\n            {\n              \"value1\": \"={{$node[\\\"HTML Extract Data\\\"].data[\\\"title\\\"]}}\",\n              \"value2\": \"Show HN:\",\n              \"operation\": \"contains\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Send Email\",\n      \"type\": \"n8n-nodes-base.emailSend\",\n      \"position\": [\n        1450,\n        400\n      ],\n      \"parameters\": {\n        \"text\": \"={{$node[\\\"Function\\\"].data[\\\"emailText\\\"]}}\",\n        \"options\": {},\n        \"subject\": \"Trending Show HN\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Cron\",\n      \"type\": \"n8n-nodes-base.cron\",\n      \"position\": [\n        250,\n        500\n      ],\n      \"parameters\": {\n        \"triggerTimes\": {\n          \"item\": [\n            {\n              \"hour\": 13\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Function\",\n      \"type\": \"n8n-nodes-base.function\",\n      \"position\": [\n        1250,\n        400\n      ],\n      \"parameters\": {\n        \"functionCode\": \"let emailText = 'Currently trending \\\"Show HN\\\":\\\\n\\\\n';\\n\\nfor (let item of items) {\\n  emailText += `${item.json.rank} ${item.json.title}\\\\n${item.json.url}\\\\n\\\\n`;\\n}\\n\\nreturn [{json: {emailText}}]\\n\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"HTTP Request\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        450,\n        500\n      ],\n      \"parameters\": {\n        \"url\": \"https://news.ycombinator.com/\",\n        \"options\": {},\n        \"responseFormat\": \"string\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"HTML Extract Items\",\n      \"type\": \"n8n-nodes-base.htmlExtract\",\n      \"position\": [\n        650,\n        500\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"extractionValues\": {\n          \"values\": [\n            {\n              \"key\": \"item\",\n              \"cssSelector\": \"tr.athing\",\n              \"returnArray\": true,\n              \"returnValue\": \"html\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"HTML Extract Data\",\n      \"type\": \"n8n-nodes-base.htmlExtract\",\n      \"position\": [\n        850,\n        500\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"dataPropertyName\": \"item\",\n        \"extractionValues\": {\n          \"values\": [\n            {\n              \"key\": \"title\",\n              \"cssSelector\": \"a\"\n            },\n            {\n              \"key\": \"url\",\n              \"attribute\": \"href\",\n              \"cssSelector\": \"a.storylink\",\n              \"returnValue\": \"attribute\"\n            },\n            {\n              \"key\": \"rank\",\n              \"cssSelector\": \".rank\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"connections\": {\n    \"IF\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Function\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Cron\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"HTTP Request\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Function\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Send Email\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"HTTP Request\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"HTML Extract Items\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"HTML Extract Data\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"IF\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"HTML Extract Items\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"HTML Extract Data\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.if",
      "n8n-nodes-base.emailSend",
      "n8n-nodes-base.cron",
      "n8n-nodes-base.function",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.htmlExtract",
      "n8n-nodes-base.htmlExtract"
    ],
    "trigger": null
  }
}