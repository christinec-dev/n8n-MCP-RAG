{
  "source": "0615_Webhook_Filemaker_Create_Webhook.json",
  "index": 1,
  "content": "{\n  \"meta\": {\n    \"instanceId\": \"5663a0748c6a6e6071d13694c60722e799714f53ff7a9bfdda15fbadbaeebb76\"\n  },\n  \"nodes\": [\n    {\n      \"id\": \"9bd2c2f7-d837-451e-8a25-a185713edefb\",\n      \"name\": \"Crypto\",\n      \"type\": \"n8n-nodes-base.crypto\",\n      \"position\": [\n        1640,\n        660\n      ],\n      \"parameters\": {\n        \"type\": \"SHA256\",\n        \"value\": \"={{$json[\\\"source_data\\\"]}}\",\n        \"action\": \"hmac\",\n        \"secret\": \"1\",\n        \"encoding\": \"base64\",\n        \"dataPropertyName\": \"target_data\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"75aca737-5e31-4022-8827-375cf8717a06\",\n      \"name\": \"Move Binary Data\",\n      \"type\": \"n8n-nodes-base.moveBinaryData\",\n      \"position\": [\n        1240,\n        660\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"setAllData\": false,\n        \"destinationKey\": \"raw_data\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"f1ece5d1-a38f-4548-80b4-a77f07c0cc95\",\n      \"name\": \"Set\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        1440,\n        660\n      ],\n      \"parameters\": {\n        \"values\": {\n          \"string\": [\n            {\n              \"name\": \"source_data\",\n              \"value\": \"={{$json[\\\"raw_data\\\"]}}\"\n            }\n          ]\n        },\n        \"options\": {},\n        \"keepOnlySet\": true\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"251bd7d1-e955-4b2c-a020-e0b2e3ebb5cc\",\n      \"name\": \"IF\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        1860,\n        660\n      ],\n      \"parameters\": {\n        \"conditions\": {\n          \"boolean\": [\n            {\n              \"value1\": \"={{$node[\\\"Crypto\\\"].json[\\\"target_data\\\"]}}\",\n              \"value2\": \"={{$node[\\\"Xero Webhook\\\"].json[\\\"headers\\\"][\\\"x-xero-signature\\\"]}}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"3a7041d6-e86b-414f-9d26-94c1ffe893cc\",\n      \"name\": \"Success\",\n      \"type\": \"n8n-nodes-base.respondToWebhook\",\n      \"position\": [\n        2080,\n        540\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"responseCode\": 200\n        },\n        \"respondWith\": \"noData\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"8dfe4916-2fce-4d51-8a41-66cb4e31bdf5\",\n      \"name\": \"Unauthorised\",\n      \"type\": \"n8n-nodes-base.respondToWebhook\",\n      \"position\": [\n        2080,\n        740\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"responseCode\": 401\n        },\n        \"respondWith\": \"noData\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"81b08d6b-065c-4e61-87b7-6428963339e2\",\n      \"name\": \"Create webhook record\",\n      \"type\": \"n8n-nodes-base.filemaker\",\n      \"position\": [\n        2320,\n        540\n      ],\n      \"parameters\": {\n        \"action\": \"create\",\n        \"layout\": \"Webhooks\",\n        \"fieldsParametersUi\": {\n          \"fields\": [\n            {\n              \"name\": \"json\",\n              \"value\": \"={{$node[\\\"Set\\\"].json[\\\"source_data\\\"]}}\"\n            }\n          ]\n        }\n      },\n      \"credentials\": {\n        \"fileMaker\": {\n          \"id\": \"T1MTy9Xu5m7Nubie\",\n          \"name\": \"Kounio FileMaker\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"48d977ee-64df-4788-8808-70cd6c7bf5f7\",\n      \"name\": \"Perform processWebhook script\",\n      \"type\": \"n8n-nodes-base.filemaker\",\n      \"position\": [\n        2540,\n        540\n      ],\n      \"parameters\": {\n        \"action\": \"performscript\",\n        \"layout\": \"Webhooks\",\n        \"script\": \"processWebhook\",\n        \"scriptParam\": \"={{ $json.response.recordId }}\"\n      },\n      \"credentials\": {\n        \"fileMaker\": {\n          \"id\": \"T1MTy9Xu5m7Nubie\",\n          \"name\": \"Kounio FileMaker\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"d6f4d1d4-4e69-4279-88e2-ea27036cea20\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        2600,\n        420\n      ],\n      \"parameters\": {\n        \"content\": \"## Script Parameter\\nPasses the record id as script parameter to be used in your processWebhook script\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"72b3f208-803b-45c5-b38d-eeef4425a2ba\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1620,\n        540\n      ],\n      \"parameters\": {\n        \"width\": 158.74371859296477,\n        \"height\": 121.3065326633166,\n        \"content\": \"## Input\\nAdd your Xero webhook secret here\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"54f36def-0ac9-4769-818f-2e8991f196a5\",\n      \"name\": \"Xero Webhook\",\n      \"type\": \"n8n-nodes-base.webhook\",\n      \"position\": [\n        1040,\n        660\n      ],\n      \"webhookId\": \"4cf50a61-b550-4ee6-984d-ad8c94e2b5c2\",\n      \"parameters\": {\n        \"path\": \"4cf50a61-b550-4ee6-984d-ad8c94e2b5c2\",\n        \"options\": {\n          \"rawBody\": true\n        },\n        \"httpMethod\": \"POST\",\n        \"responseMode\": \"responseNode\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"pinData\": {},\n  \"connections\": {\n    \"IF\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Success\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Unauthorised\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Set\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Crypto\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Crypto\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"IF\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Success\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Create webhook record\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Xero Webhook\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Move Binary Data\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Move Binary Data\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Create webhook record\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Perform processWebhook script\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.crypto",
      "n8n-nodes-base.moveBinaryData",
      "n8n-nodes-base.set",
      "n8n-nodes-base.if",
      "n8n-nodes-base.respondToWebhook",
      "n8n-nodes-base.respondToWebhook",
      "n8n-nodes-base.filemaker",
      "n8n-nodes-base.filemaker",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.webhook"
    ],
    "trigger": null
  }
}