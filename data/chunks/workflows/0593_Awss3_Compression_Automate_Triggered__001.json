{
  "source": "0593_Awss3_Compression_Automate_Triggered.json",
  "index": 1,
  "content": "{\n  \"meta\": {\n    \"instanceId\": \"9e331a89ae45a204c6dee51c77131d32a8c962ec20ccf002135ea60bd285dba9\"\n  },\n  \"nodes\": [\n    {\n      \"id\": \"5dbcd30b-7f84-4932-9dff-b5e9865f9b07\",\n      \"name\": \"When clicking ‘Test workflow’\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        860,\n        680\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"639dd225-ae36-4d2b-b341-8662ffe39836\",\n      \"name\": \"List ALL Files*\",\n      \"type\": \"n8n-nodes-base.awsS3\",\n      \"position\": [\n        1080,\n        680\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"folderKey\": \"=yourFolder\"\n        },\n        \"operation\": \"getAll\",\n        \"returnAll\": true,\n        \"bucketName\": \"=yourBucket\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"cb8b4b07-af86-45b0-9621-a02c22107741\",\n      \"name\": \"Download ALL Files from Folder*\",\n      \"type\": \"n8n-nodes-base.awsS3\",\n      \"position\": [\n        1300,\n        680\n      ],\n      \"parameters\": {\n        \"fileKey\": \"={{ $json.Key }}\",\n        \"bucketName\": \"=yourBucket\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"df2a3f56-7656-427c-a3b1-df3f1f4997e9\",\n      \"name\": \"All into one Item (include Binary)\",\n      \"type\": \"n8n-nodes-base.aggregate\",\n      \"position\": [\n        1520,\n        680\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"includeBinaries\": true\n        },\n        \"aggregate\": \"aggregateAllItemData\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"ca0085aa-77f0-4339-8821-11b8e53588da\",\n      \"name\": \"Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        420,\n        560\n      ],\n      \"parameters\": {\n        \"width\": 367.15098241985504,\n        \"height\": 363.66522445338995,\n        \"content\": \"## Instructions\\n\\nThis workflow downloads all Files from a specific folder in a S3 Bucket and compresses them so you can download it via n8n or do further processings.\\n\\nFill in your **Credentials and Settings** in the Nodes marked with _\\\"*\\\"_.\\n\\n![Image](https://let-the-work-flow.com/logo-64.png)\\nEnjoy the Workflow! ❤️ \\nhttps://let-the-work-flow.com\\nWorkflow Automation & Development\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"9b12152d-46b8-4e03-9a4b-5bbc0289c78c\",\n      \"name\": \"Compress all of them to a ZIP\",\n      \"type\": \"n8n-nodes-base.compression\",\n      \"position\": [\n        1740,\n        680\n      ],\n      \"parameters\": {\n        \"fileName\": \"=s3-export.zip\",\n        \"operation\": \"compress\",\n        \"binaryPropertyName\": \"={{ Object.keys($binary).join(',') }}\"\n      },\n      \"typeVersion\": 1.1\n    }\n  ],\n  \"pinData\": {},\n  \"connections\": {\n    \"List ALL Files*\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Download ALL Files from Folder*\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Download ALL Files from Folder*\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"All into one Item (include Binary)\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When clicking ‘Test workflow’\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"List ALL Files*\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"All into one Item (include Binary)\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Compress all of them to a ZIP\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.manualTrigger",
      "n8n-nodes-base.awsS3",
      "n8n-nodes-base.awsS3",
      "n8n-nodes-base.aggregate",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.compression"
    ],
    "trigger": null
  }
}