{
  "source": "1821_Manual_Stickynote_Automation_Webhook.json",
  "index": 1,
  "content": "{\n  \"id\": \"cKFPrgXstN3JgdJs\",\n  \"meta\": {\n    \"instanceId\": \"885b4fb4a6a9c2cb5621429a7b972df0d05bb724c20ac7dac7171b62f1c7ef40\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"name\": \"Extract & Summarize Yelp Business Review with Bright Data and Google Gemini\",\n  \"tags\": [\n    {\n      \"id\": \"Kujft2FOjmOVQAmJ\",\n      \"name\": \"Engineering\",\n      \"createdAt\": \"2025-04-09T01:31:00.558Z\",\n      \"updatedAt\": \"2025-04-09T01:31:00.558Z\"\n    },\n    {\n      \"id\": \"ddPkw7Hg5dZhQu2w\",\n      \"name\": \"AI\",\n      \"createdAt\": \"2025-04-13T05:38:08.053Z\",\n      \"updatedAt\": \"2025-04-13T05:38:08.053Z\"\n    }\n  ],\n  \"nodes\": [\n    {\n      \"id\": \"b7847e5b-1855-4bce-a9ba-123053085f99\",\n      \"name\": \"When clicking ‘Test workflow’\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        340,\n        -535\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"9bee5052-3aeb-4a76-a688-3128c20877ec\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        780,\n        -820\n      ],\n      \"parameters\": {\n        \"width\": 420,\n        \"height\": 220,\n        \"content\": \"## LLM Usages\\n\\nGoogle Gemini Flash Exp model is being used.\\n\\nBasic LLM Chain with the Output parser for building the structured data.\\n\\nSummarization Chain to summarize the structured response.\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"ee05bcc3-0971-4e8c-9e2d-89708fc4ecf4\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        320,\n        -820\n      ],\n      \"parameters\": {\n        \"width\": 400,\n        \"height\": 220,\n        \"content\": \"## Note\\n\\nDeals with the Yelp Business Review data extraction using the Bright Data and LLM for structured data extraction and summarization.\\n\\n**Please make sure to update the \\\"Set Yelp URL with the Bright Data Zone\\\" and the Webhook Notification URL**\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"8917dd4e-75aa-4c51-ba80-577be3573578\",\n      \"name\": \"Set Yelp URL with the Bright Data Zone\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"notes\": \"Set the URL which you are interested to scrap the data\",\n      \"position\": [\n        560,\n        -535\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"1c132dd6-31e4-453b-a8cf-cad9845fe55b\",\n              \"name\": \"url\",\n              \"type\": \"string\",\n              \"value\": \"https://www.yelp.com/search?find_desc=Restaurants&find_loc=San+Francisco%2C+CA&sortby=rating?product=unlocker&method=api\"\n            },\n            {\n              \"id\": \"0fa387df-2511-4228-b6aa-237cceb3e9c7\",\n              \"name\": \"zone\",\n              \"type\": \"string\",\n              \"value\": \"web_unlocker1\"\n            }\n          ]\n        }\n      },\n      \"notesInFlow\": true,\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"4cccab05-2584-4557-a58a-f92cbd67c67e\",\n      \"name\": \"HTTP Request to fetch the Yelp Business Reviews\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        780,\n        -535\n      ],\n      \"parameters\": {\n        \"url\": \"https://api.brightdata.com/request\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"sendBody\": true,\n        \"sendHeaders\": true,\n        \"authentication\": \"genericCredentialType\",\n        \"bodyParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"zone\",\n              \"value\": \"={{ $json.zone }}\"\n            },\n            {\n              \"name\": \"url\",\n              \"value\": \"={{ $json.url }}\"\n            },\n            {\n              \"name\": \"format\",\n              \"value\": \"raw\"\n            }\n          ]\n        },\n        \"genericAuthType\": \"httpHeaderAuth\",\n        \"headerParameters\": {\n          \"parameters\": [\n            {}\n          ]\n        }\n      },\n      \"credentials\": {\n        \"httpHeaderAuth\": {\n          \"id\": \"kdbqXuxIR8qIxF7y\",\n          \"name\": \"Header Auth account\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"5b39a992-1902-4afe-9cbb-2fca524a5272\",\n      \"name\": \"Google Gemini Chat Model\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatGoogleGemini\",\n      \"position\": [\n        1000,\n        -320\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"modelName\": \"models/gemini-2.0-flash-exp\"\n      },\n      \"credentials\": {\n        \"googlePalmApi\": {\n          \"id\": \"YeO7dHZnuGBVQKVZ\",\n          \"name\": \"Google Gemini(PaLM) Api account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"dba8b9f8-0739-4f34-9c3a-41ad447c1dd3\",\n      \"name\": \"Structured Output Parser\",\n      \"type\": \"@n8n/n8n-nodes-langchain.outputParserStructured\",\n      \"position\": [\n        1160,\n        -320\n      ],\n      \"parameters\": {\n        \"jsonSchemaExample\": \"[\\n   {\\n     \\\"restaurant_name\\\": \\\"string\\\",\\n     \\\"location\\\": \\\"string\\\",\\n     \\\"average_rating\\\": \\\"float\\\",\\n     \\\"review_count\\\": \\\"int\\\",\\n     \\\"reviews\\\": [\\n      {\\n        \\\"reviewer\\\": \\\"string\\\",\\n        \\\"rating\\\": \\\"float\\\",\\n        \\\"date\\\": \\\"YYYY-MM-DD\\\",\\n        \\\"text\\\": \\\"string\\\"\\n      }\\n    ]\\n   }\\n]\"\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"375dc3e5-02f4-499d-922d-31070188b864\",\n      \"name\": \"Summarization Chain\",\n      \"type\": \"@n8n/n8n-nodes-langchain.chainSummarization\",\n      \"position\": [\n        1376,\n        -660\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"summarizationMethodAndPrompts\": {\n            \"values\": {\n              \"prompt\": \"Write a concise summary of the following:\\n\\n\\n\\\"{text}\\\"\\n\\n\",\n              \"combineMapPrompt\": \"=Write a concise summary of the following:\\n\\n\\n\\n\\n\\nCONCISE SUMMARY: {{ $json.output }}\"\n            }\n          }\n        }\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"3846b2a2-a670-4264-9028-11c5f76770e8\",\n      \"name\": \"Merge\",\n      \"type\": \"n8n-nodes-base.merge\",\n      \"position\": [\n        1760,\n        -520\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 3.1\n    },\n    {\n      \"id\": \"5f617e4c-17c2-437b-8a7a-1cdab587c5dd\",\n      \"name\": \"Webhook Notifier for the merged response\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1972,\n        -535\n      ],\n      \"parameters\": {\n        \"url\": \"https://webhook.site/daf9d591-a130-4010-b1d3-0c66f8fcf467\",\n        \"options\": {},\n        \"sendBody\": true,\n        \"bodyParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"reviews\",\n              \"value\": \"={{ $json.output }}\"\n            },\n            {\n              \"name\": \"summary\",\n              \"value\": \"={{ $json.response.text }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"66bd58de-a235-43b3-bb3e-491644aaabd8\",\n      \"name\": \"Google Gemini Chat Model for Summarization\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatGoogleGemini\",\n      \"position\": [\n        1464,\n        -440\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"modelName\": \"models/gemini-2.0-flash-exp\"\n      },\n      \"credentials\": {\n        \"googlePalmApi\": {\n          \"id\": \"YeO7dHZnuGBVQKVZ\",\n          \"name\": \"Google Gemini(PaLM) Api account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"4bd63e0d-5f58-4232-b638-cede71a50f0f\",\n      \"name\": \"Structured Data Extractor\",\n      \"type\": \"@n8n/n8n-nodes-langchain.chainLlm\",\n      \"position\": [\n        1000,\n        -535\n      ],\n      \"parameters\": {\n        \"text\": \"=Summarize and analyze Yelp reviews {{ $json.data }}\",\n        \"promptType\": \"define\",\n        \"hasOutputParser\": true\n      },\n      \"typeVersion\": 1.6\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"32c41687-2a9b-4ab8-b7fb-a34e5111548a\",\n  \"connections\": {\n    \"Merge\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Webhook Notifier for the merged response\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Summarization Chain\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Merge\",\n            \"type\": \"main\",\n            \"index\": 1\n          }\n        ]\n      ]\n    },\n    \"Google Gemini Chat Model\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Structured Data Extractor\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Structured Output Parser\": {\n      \"ai_outputParser\": [\n        [\n          {\n            \"node\": \"Structured Data Extractor\",\n            \"type\": \"ai_outputParser\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Structured Data Extractor\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Summarization Chain\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Merge\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When clicking ‘Test workflow’\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set Yelp URL with the Bright Data Zone\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Set Yelp URL with the Bright Data Zone\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"HTTP Request to fetch the Yelp Business Reviews\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Webhook Notifier for the merged response\": {\n      \"main\": [\n        []\n      ]\n    },\n    \"Google Gemini Chat Model for Summarization\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Summarization Chain\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"HTTP Request to fetch the Yelp Business Reviews\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Structured Data Extractor\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.manualTrigger",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.set",
      "n8n-nodes-base.httpRequest",
      "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "@n8n/n8n-nodes-langchain.outputParserStructured",
      "@n8n/n8n-nodes-langchain.chainSummarization",
      "n8n-nodes-base.merge",
      "n8n-nodes-base.httpRequest",
      "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "@n8n/n8n-nodes-langchain.chainLlm"
    ],
    "trigger": null
  }
}