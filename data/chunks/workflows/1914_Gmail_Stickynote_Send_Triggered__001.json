{
  "source": "1914_Gmail_Stickynote_Send_Triggered.json",
  "index": 1,
  "content": "{\n  \"id\": \"m8gr0YZgCx5Qrsia\",\n  \"meta\": {\n    \"instanceId\": \"b795c85ef5703ecdc784a39956949c45a099b0c52b9adbeeed744965b5aed696\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"name\": \"(G) - Email Classification\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"0226578d-4741-42f2-8a7b-c750f75be78d\",\n      \"name\": \"Gmail Trigger\",\n      \"type\": \"n8n-nodes-base.gmailTrigger\",\n      \"position\": [\n        0,\n        0\n      ],\n      \"parameters\": {\n        \"simple\": false,\n        \"filters\": {},\n        \"options\": {},\n        \"pollTimes\": {\n          \"item\": [\n            {\n              \"mode\": \"everyMinute\"\n            }\n          ]\n        }\n      },\n      \"credentials\": {\n        \"gmailOAuth2\": {\n          \"id\": \"YNdPYS7HyXbJjy7l\",\n          \"name\": \"Gmail account (jkp@kajonkietsuksa.ac.th)\"\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"48d0ee27-d4d6-4db4-843c-d9c18b934945\",\n      \"name\": \"Google Gemini Chat Model\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatGoogleGemini\",\n      \"position\": [\n        220,\n        320\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"modelName\": \"models/gemini-2.0-flash-001\"\n      },\n      \"credentials\": {\n        \"googlePalmApi\": {\n          \"id\": \"ZK3aD9k31PG9XVBd\",\n          \"name\": \"Guitar's Gemini (babystoreroom@gmail.com)\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"d7e8bed4-cadc-41e3-b793-cc8affb177cc\",\n      \"name\": \"AI Agent\",\n      \"type\": \"@n8n/n8n-nodes-langchain.agent\",\n      \"disabled\": true,\n      \"position\": [\n        1420,\n        60\n      ],\n      \"parameters\": {\n        \"text\": \"=Here's the email context: {{ $('Classification Agent').item.json.text }}\",\n        \"options\": {\n          \"systemMessage\": \"You are my personal assistant for Kajonkietsuksa School.\\nYour role is to help me with any work-related tasks.\\nOne of your main responsibilities is to write professional and polite reply emails whenever I receive an email in my inbox. Act as me, don't include something like \\\"here's a potential reply email or other\\\"\\n\\nWhen writing a reply email:\\n\\nStart by acknowledging the sender's message.\\n\\nAnswer their questions or address their requests clearly and directly.\\n\\nMaintain a polite, professional, and helpful tone.\\n\\nKeep the language simple and easy to understand.\\n\\nIf additional action is required from me, mention that I will get back to them soon.\\n\\nAlways end the email with a courteous closing line, such as \\\"Thank you\\\" or \\\"Best regards.\\\"\\n\\nKeep your writing style consistent with a warm yet formal communication style that reflects the reputation of Kajonkietsuksa School.\\n\\n\"\n        },\n        \"promptType\": \"define\"\n      },\n      \"typeVersion\": 1.8\n    },\n    {\n      \"id\": \"3b5cabb7-346f-4b69-b3f4-c61e78e2d8c7\",\n      \"name\": \"Groq Chat Model\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatGroq\",\n      \"disabled\": true,\n      \"position\": [\n        1440,\n        180\n      ],\n      \"parameters\": {\n        \"model\": \"meta-llama/llama-4-scout-17b-16e-instruct\",\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"groqApi\": {\n          \"id\": \"ssFnosV0K9CllUnY\",\n          \"name\": \"(G) Groq account (jkp@kajonkietsuksa.ac.th)\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"43984fb2-7a26-4e13-95ee-c29f0d9f2f24\",\n      \"name\": \"Gmail3\",\n      \"type\": \"n8n-nodes-base.gmail\",\n      \"disabled\": true,\n      \"position\": [\n        1780,\n        60\n      ],\n      \"webhookId\": \"64df877a-5475-447d-860b-b62d4418d841\",\n      \"parameters\": {\n        \"message\": \"={{ $json.output }}\",\n        \"options\": {},\n        \"subject\": \"=Re: {{ $('Gmail Trigger').item.json.headers.subject }}\",\n        \"resource\": \"draft\"\n      },\n      \"credentials\": {\n        \"gmailOAuth2\": {\n          \"id\": \"YNdPYS7HyXbJjy7l\",\n          \"name\": \"Gmail account (jkp@kajonkietsuksa.ac.th)\"\n        }\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"c269ec5e-f882-4458-ab52-46b719731309\",\n      \"name\": \"Classification Agent\",\n      \"type\": \"@n8n/n8n-nodes-langchain.textClassifier\",\n      \"position\": [\n        240,\n        0\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"systemPromptTemplate\": \"Please classify the text provided by the user into one of the following categories: {categories}, and use the provided formatting instructions below. Don't explain, and only output the json.\"\n        },\n        \"inputText\": \"={{ $json.text || $json.html }}\",\n        \"categories\": {\n          \"categories\": [\n            {\n              \"category\": \"High Priority\",\n              \"description\": \"Emails requiring immediate attention or action, typically from key stakeholders, clients, or decision-makers. These emails often contain time-sensitive requests, deadlines, or escalated issues. Keywords: urgent, ASAP, immediate, deadline, action required, high priority\"\n            },\n            {\n              \"category\": \"KS Work Related\",\n              \"description\": \"Anything related to my school or education. Keyword: Kajonkietsuksa School, Kajonkietsuksa, School\"\n            },\n            {\n              \"category\": \"Promotion\",\n              \"description\": \"Anything related to updating on promotions. Keywords: newsletter, promotion, offer, sale, campaign, marketing, launch\"\n            },\n            {\n              \"category\": \"Other\",\n              \"description\": \"If you don't know what category is this email.\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"17be38df-c225-4d19-81ec-e205ff4b9f3c\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        60,\n        260\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 300,\n        \"height\": 80,\n        \"content\": \"### 2) Change to your desire LLMs\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"3e8ac267-c2ac-49cb-ad53-536510faa1a4\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -80,\n        -60\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"content\": \"### 1) Change to your gmail's credential\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"f5e2c92d-3335-4ed0-915e-f7edeb0b5a92\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        220,\n        -380\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 340,\n        \"content\": \"### 3) Login to your gmail inbox\\n* Create a label with \\\"+\\\" icon\\n* Change the color of your choice\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"4a8a7424-f9dd-42b1-b803-5d0dbe076956\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        220,\n        -160\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 320,\n        \"content\": \"### 4) Agent instruction\\n* Input the category name that you just created in gmail.\\n* Description = Tell agent about how should it classify your email. Keywords can be useful to let your agent classify the email context.\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"24c7ef4e-7a68-4240-980b-02b994300084\",\n      \"name\": \"Add Label Promotion\",\n      \"type\": \"n8n-nodes-base.gmail\",\n      \"position\": [\n        700,\n        200\n      ],\n      \"webhookId\": \"4e089f5f-58ea-4c8d-8870-3d155a81f0b7\",\n      \"parameters\": {\n        \"labelIds\": [\n          \"Label_4917715854276709190\"\n        ],\n        \"messageId\": \"={{ $json.id }}\",\n        \"operation\": \"addLabels\"\n      },\n      \"credentials\": {\n        \"gmailOAuth2\": {\n          \"id\": \"YNdPYS7HyXbJjy7l\",\n          \"name\": \"Gmail account (jkp@kajonkietsuksa.ac.th)\"\n        }\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"759f8cbe-4674-49e5-a52b-2acf208ffb22\",\n      \"name\": \"Add Label (KS Work Related)\",\n      \"type\": \"n8n-nodes-base.gmail\",\n      \"position\": [\n        700,\n        0\n      ],\n      \"webhookId\": \"4e089f5f-58ea-4c8d-8870-3d155a81f0b7\",\n      \"parameters\": {\n        \"labelIds\": [\n          \"Label_4956837555783205638\"\n        ],\n        \"messageId\": \"={{ $json.id }}\",\n        \"operation\": \"addLabels\"\n      },\n      \"credentials\": {\n        \"gmailOAuth2\": {\n          \"id\": \"YNdPYS7HyXbJjy7l\",\n          \"name\": \"Gmail account (jkp@kajonkietsuksa.ac.th)\"\n        }\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"d07fe962-16c0-401a-b194-5ce7e6ad9746\",\n      \"name\": \"Add Label (High Priority)\",\n      \"type\": \"n8n-nodes-base.gmail\",\n      \"position\": [\n        700,\n        -200\n      ],\n      \"webhookId\": \"4e089f5f-58ea-4c8d-8870-3d155a81f0b7\",\n      \"parameters\": {\n        \"labelIds\": [\n          \"Label_3750994713301985229\"\n        ],\n        \"messageId\": \"={{ $json.id }}\",\n        \"operation\": \"addLabels\"\n      },\n      \"credentials\": {\n        \"gmailOAuth2\": {\n          \"id\": \"YNdPYS7HyXbJjy7l\",\n          \"name\": \"Gmail account (jkp@kajonkietsuksa.ac.th)\"\n        }\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"7d0c9bd5-6150-4afa-9344-8bb3c1a6b01c\",\n      \"name\": \"Sticky Note4\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        660,\n        -320\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 320,\n        \"content\": \"### 5) Add Label Nodes\\n* In this option \\\"Label Names or IDs\\\" -> Select the category to match with the Classification Agent Node.\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"d57ecacb-a479-4bf7-b9b4-b9e14e30dcd7\",\n      \"name\": \"Sticky Note5\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        980,\n        60\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 220,\n        \"content\": \"### 6) Add-on\\n* You can add more category of your choice!\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": true,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"c94df4ec-be75-449f-82fa-4e1f8878104a\",\n  \"connections\": {\n    \"AI Agent\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Gmail3\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Gmail Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Classification Agent\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Groq Chat Model\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"AI Agent\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Classification Agent\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Add Label (High Priority)\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Add Label (KS Work Related)\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Add Label Promotion\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Google Gemini Chat Model\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Classification Agent\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Add Label (KS Work Related)\": {\n      \"main\": [\n        []\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.gmailTrigger",
      "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "@n8n/n8n-nodes-langchain.agent",
      "@n8n/n8n-nodes-langchain.lmChatGroq",
      "n8n-nodes-base.gmail",
      "@n8n/n8n-nodes-langchain.textClassifier",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.gmail",
      "n8n-nodes-base.gmail",
      "n8n-nodes-base.gmail",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote"
    ],
    "trigger": "gmail trigger"
  }
}