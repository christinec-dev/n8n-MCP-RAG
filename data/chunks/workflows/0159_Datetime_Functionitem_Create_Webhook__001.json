{
  "source": "0159_Datetime_Functionitem_Create_Webhook.json",
  "index": 1,
  "content": "{\n  \"nodes\": [\n    {\n      \"name\": \"On clicking 'execute'\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        240,\n        300\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Item Lists\",\n      \"type\": \"n8n-nodes-base.itemLists\",\n      \"position\": [\n        1120,\n        300\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"fieldToSplitOut\": \"post\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Extract Posts\",\n      \"type\": \"n8n-nodes-base.htmlExtract\",\n      \"position\": [\n        900,\n        300\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"extractionValues\": {\n          \"values\": [\n            {\n              \"key\": \"post\",\n              \"cssSelector\": \".blog-listing__post-content\",\n              \"returnArray\": true,\n              \"returnValue\": \"html\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Fetch Website\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        680,\n        300\n      ],\n      \"parameters\": {\n        \"url\": \"={{$json[\\\"base_domain\\\"]}}/blog/category/release\",\n        \"options\": {\n          \"timeout\": 10000\n        },\n        \"responseFormat\": \"string\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Set URL\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        460,\n        300\n      ],\n      \"parameters\": {\n        \"values\": {\n          \"string\": [\n            {\n              \"name\": \"base_domain\",\n              \"value\": \"https://baserow.io\"\n            }\n          ]\n        },\n        \"options\": {}\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Complete Link\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        240,\n        500\n      ],\n      \"parameters\": {\n        \"values\": {\n          \"string\": [\n            {\n              \"name\": \"link\",\n              \"value\": \"={{$item(0).$node[\\\"Set URL\\\"].json[\\\"base_domain\\\"]}}{{$json[\\\"link\\\"]}}\"\n            }\n          ]\n        },\n        \"options\": {}\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Format Date\",\n      \"type\": \"n8n-nodes-base.dateTime\",\n      \"position\": [\n        460,\n        500\n      ],\n      \"parameters\": {\n        \"value\": \"={{$json[\\\"date\\\"]}}\",\n        \"options\": {},\n        \"toFormat\": \"YYYY-MM-DD\",\n        \"dataPropertyName\": \"date\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Create RSS Items\",\n      \"type\": \"n8n-nodes-base.functionItem\",\n      \"position\": [\n        680,\n        500\n      ],\n      \"parameters\": {\n        \"functionCode\": \"return {\\n  rss_item: \\n`<item>\\n  <title>${item.title}</title>\\n  <link>${item.link}</link>\\n  <description>${item.description}</description>\\n  <pubDate>${item.date}</pubDate>\\n</item>`\\n}\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Webhook\",\n      \"type\": \"n8n-nodes-base.webhook\",\n      \"position\": [\n        240,\n        100\n      ],\n      \"webhookId\": \"27c1e4db-568f-4bf9-9474-0898ce1173f7\",\n      \"parameters\": {\n        \"path\": \"baserow-releases\",\n        \"options\": {},\n        \"responseMode\": \"responseNode\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Respond to Webhook\",\n      \"type\": \"n8n-nodes-base.respondToWebhook\",\n      \"position\": [\n        1120,\n        500\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"responseHeaders\": {\n            \"entries\": [\n              {\n                \"name\": \"content-type\",\n                \"value\": \"application/xml\"\n              }\n            ]\n          }\n        },\n        \"respondWith\": \"text\",\n        \"responseBody\": \"={{$json[\\\"feed\\\"]}}\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Prepare Response\",\n      \"type\": \"n8n-nodes-base.function\",\n      \"position\": [\n        900,\n        500\n      ],\n      \"parameters\": {\n        \"functionCode\": \"let feed =\\n`<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" ?>\\n<rss version=\\\"2.0\\\">\\n\\n<channel>\\n  <title>Baserow Releases</title>\\n  <link>https://baserow.io/blog/category/release</link>\\n  <description>Stay up to date with the latest changes and updates of Baserow</description>\\n  ${items.map(e => e.json.rss_item).join('\\\\n')}\\n</channel>\\n\\n</rss>`;\\n\\nreturn [{\\n  json: {\\n    feed: feed\\n  }\\n}];\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Extract Fields\",\n      \"type\": \"n8n-nodes-base.htmlExtract\",\n      \"position\": [\n        1340,\n        300\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"dataPropertyName\": \"post\",\n        \"extractionValues\": {\n          \"values\": [\n            {\n              \"key\": \"date\",\n              \"cssSelector\": \".blog-listing__post-info > strong\"\n            },\n            {\n              \"key\": \"title\",\n              \"cssSelector\": \".blog-listing__post-title\"\n            },\n            {\n              \"key\": \"link\",\n              \"attribute\": \"href\",\n              \"cssSelector\": \".blog-listing__post-title > a\",\n              \"returnValue\": \"attribute\"\n            },\n            {\n              \"key\": \"description\",\n              \"cssSelector\": \".blog-listing__post-description\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"connections\": {\n    \"Set URL\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Fetch Website\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Webhook\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set URL\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Item Lists\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Extract Fields\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Format Date\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Create RSS Items\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Complete Link\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Format Date\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Extract Posts\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Item Lists\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Fetch Website\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Extract Posts\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Extract Fields\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Complete Link\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Create RSS Items\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Prepare Response\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Prepare Response\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Respond to Webhook\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"On clicking 'execute'\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set URL\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.manualTrigger",
      "n8n-nodes-base.itemLists",
      "n8n-nodes-base.htmlExtract",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.set",
      "n8n-nodes-base.set",
      "n8n-nodes-base.dateTime",
      "n8n-nodes-base.functionItem",
      "n8n-nodes-base.webhook",
      "n8n-nodes-base.respondToWebhook",
      "n8n-nodes-base.function",
      "n8n-nodes-base.htmlExtract"
    ],
    "trigger": null
  }
}