{
  "source": "0172_Noop_GoogleSheets_Create_Webhook.json",
  "index": 1,
  "content": "{\n  \"meta\": {\n    \"instanceId\": \"8c8c5237b8e37b006a7adce87f4369350c58e41f3ca9de16196d3197f69eabcd\"\n  },\n  \"nodes\": [\n    {\n      \"id\": \"1e603735-dd86-4691-8ece-c81fff396161\",\n      \"name\": \"Webhook\",\n      \"type\": \"n8n-nodes-base.webhook\",\n      \"position\": [\n        370,\n        250\n      ],\n      \"webhookId\": \"484b94c9-8285-4ec9-aa52-f5a41eb84d1a\",\n      \"parameters\": {\n        \"path\": \"timersyncro\",\n        \"options\": {},\n        \"httpMethod\": \"POST\",\n        \"responseData\": \"allEntries\",\n        \"responseMode\": \"lastNode\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"2b243a13-a258-4198-9cad-057c6117b50a\",\n      \"name\": \"EnvVariables\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        570,\n        250\n      ],\n      \"parameters\": {\n        \"values\": {\n          \"string\": [\n            {\n              \"name\": \"syncro_baseurl\",\n              \"value\": \"https://subdomain.syncromsp.com\"\n            }\n          ]\n        },\n        \"options\": {}\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"0108d71b-ae26-4e64-9a52-9b6de15c4fbd\",\n      \"name\": \"Google Sheets\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        750,\n        250\n      ],\n      \"parameters\": {\n        \"range\": \"A:B\",\n        \"options\": {},\n        \"sheetId\": \"xxx\",\n        \"operation\": \"lookup\",\n        \"lookupValue\": \"={{$node[\\\"Webhook\\\"].json[\\\"body\\\"][\\\"call_id\\\"]}}\",\n        \"lookupColumn\": \"Call\"\n      },\n      \"credentials\": {\n        \"googleApi\": {\n          \"id\": null,\n          \"name\": \"Google\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"6747ff1c-f7f0-48a2-9aa2-fd1c72401233\",\n      \"name\": \"ConfirmMatch\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        900,\n        250\n      ],\n      \"parameters\": {\n        \"conditions\": {\n          \"number\": [],\n          \"string\": [\n            {\n              \"value1\": \"={{$node[\\\"Google Sheets\\\"].json[\\\"Ticket\\\"]}}\",\n              \"operation\": \"isEmpty\"\n            }\n          ],\n          \"boolean\": []\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"207192d8-f8f4-4f23-af61-91e254cbeee9\",\n      \"name\": \"NoOp\",\n      \"type\": \"n8n-nodes-base.noOp\",\n      \"position\": [\n        1060,\n        100\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"7cd7ba20-951d-4654-82b5-2e8081774723\",\n      \"name\": \"AddTimertoSyncro\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1080,\n        420\n      ],\n      \"parameters\": {\n        \"url\": \"={{$node[\\\"EnvVariables\\\"].parameter[\\\"values\\\"][\\\"string\\\"][0][\\\"value\\\"]}}/api/v1/tickets/{{$node[\\\"Google Sheets\\\"].json[\\\"Ticket\\\"]}}/timer_entry\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"sendBody\": true,\n        \"authentication\": \"genericCredentialType\",\n        \"bodyParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"start_at\",\n              \"value\": \"={{new Date(parseInt($node[\\\"Webhook\\\"].json[\\\"body\\\"][\\\"date_started\\\"])).toISOString()}}\"\n            },\n            {\n              \"name\": \"end_at\",\n              \"value\": \"={{new Date(parseInt($node[\\\"Webhook\\\"].json[\\\"body\\\"][\\\"date_ended\\\"])).toISOString()}}\"\n            },\n            {\n              \"name\": \"notes\",\n              \"value\": \"=Phone call from {{$node[\\\"Webhook\\\"].json[\\\"body\\\"][\\\"contact\\\"][\\\"name\\\"]}} ({{$node[\\\"Webhook\\\"].json[\\\"body\\\"][\\\"contact\\\"][\\\"phone\\\"]}}).\"\n            },\n            {\n              \"name\": \"user_id\",\n              \"value\": \"24223\"\n            }\n          ]\n        },\n        \"genericAuthType\": \"httpHeaderAuth\"\n      },\n      \"typeVersion\": 3\n    }\n  ],\n  \"connections\": {\n    \"Webhook\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"EnvVariables\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"ConfirmMatch\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"NoOp\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"AddTimertoSyncro\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"EnvVariables\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Google Sheets\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Google Sheets\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"ConfirmMatch\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.webhook",
      "n8n-nodes-base.set",
      "n8n-nodes-base.googleSheets",
      "n8n-nodes-base.if",
      "n8n-nodes-base.noOp",
      "n8n-nodes-base.httpRequest"
    ],
    "trigger": null
  }
}