{
  "source": "1861_Code_Form_Automation_Triggered.json",
  "index": 1,
  "content": "{\n  \"id\": \"g25bM3Hj71T3ZVVe\",\n  \"meta\": {\n    \"instanceId\": \"21754f977ce20b07e6fe64be3fbc663f6e6f730423d6e46c6cd2bf5b5e70a383\"\n  },\n  \"name\": \"Streamline data from an n8n form into Google Sheet and Airtable\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"32bd3bcb-7de7-4ca3-ba31-897e90f663b1\",\n      \"name\": \"n8n Form Trigger\",\n      \"type\": \"n8n-nodes-base.formTrigger\",\n      \"position\": [\n        720,\n        -400\n      ],\n      \"webhookId\": \"c07c8eb6-cf56-4941-91cc-e3cb31c90b5c\",\n      \"parameters\": {\n        \"path\": \"c07c8eb6-cf56-4941-91cc-e3cb31c90b5c\",\n        \"options\": {},\n        \"formTitle\": \"Data Colleacation\",\n        \"formFields\": {\n          \"values\": [\n            {\n              \"fieldLabel\": \"What's your name ?\",\n              \"requiredField\": true\n            },\n            {\n              \"fieldLabel\": \"Where do you live ?\",\n              \"requiredField\": true\n            },\n            {\n              \"fieldLabel\": \"Your Email ?\",\n              \"requiredField\": true\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"bf341165-2698-4f42-a92d-bc5e9a750bf1\",\n      \"name\": \"Extracting Date and Time Fields from 'submittedAt' Field\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        920,\n        -400\n      ],\n      \"parameters\": {\n        \"jsCode\": \"// Loop over input items and separate date and time into two new fields\\nfor (const item of $input.all()) {\\n  // Extract date and time from 'submittedAt' field\\n  const submittedAt = new Date(item.json['submittedAt']);\\n  const date = submittedAt.toISOString().split('T')[0]; // Get date part\\n  const time = submittedAt.toISOString().split('T')[1].split('.')[0]; // Get time part\\n\\n  // Remove the old 'submittedAt' field\\n  delete item.json['submittedAt'];\\n\\n  // Add new 'Date' and 'Time' fields with respective values\\n  item.json['Date'] = date;\\n  item.json['Time'] = time;\\n}\\n\\nreturn $input.all();\\n\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"c9955ba1-0aa4-476b-b2ac-8a458b1547b3\",\n      \"name\": \"Format the Fields\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        1100,\n        -400\n      ],\n      \"parameters\": {\n        \"fields\": {\n          \"values\": [\n            {\n              \"name\": \"Name\",\n              \"stringValue\": \"={{ $json['What\\\\'s your name ?'] }}\"\n            },\n            {\n              \"name\": \"City\",\n              \"stringValue\": \"={{ $json['Where do you live ?'] }}\"\n            },\n            {\n              \"name\": \"Date\",\n              \"stringValue\": \"={{ $json.Date }}\"\n            },\n            {\n              \"name\": \"Time\",\n              \"stringValue\": \"={{ $json.Time }}\"\n            },\n            {\n              \"name\": \"Email\",\n              \"stringValue\": \"={{ $json['Your Email ?'] }}\"\n            }\n          ]\n        },\n        \"include\": \"selected\",\n        \"options\": {}\n      },\n      \"typeVersion\": 3.2\n    },\n    {\n      \"id\": \"50e6057e-4b26-40f6-adc1-1721818f7a46\",\n      \"name\": \"Airtable\",\n      \"type\": \"n8n-nodes-base.airtable\",\n      \"position\": [\n        1320,\n        -260\n      ],\n      \"parameters\": {\n        \"base\": {\n          \"__rl\": true,\n          \"mode\": \"id\",\n          \"value\": \"appIIeJ18fnPkNyNS\"\n        },\n        \"table\": {\n          \"__rl\": true,\n          \"mode\": \"id\",\n          \"value\": \"tblZvKuOMmtHnv5TH\"\n        },\n        \"columns\": {\n          \"value\": {\n            \"City\": \"={{ $json.City }}\",\n            \"Date\": \"={{ $json.Date }}\",\n            \"Name\": \"={{ $json.Name }}\",\n            \"Time\": \"={{ $json.Time }}\",\n            \"Email\": \"={{ $json.Email }}\"\n          },\n          \"schema\": [\n            {\n              \"id\": \"Name\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"readOnly\": false,\n              \"required\": false,\n              \"displayName\": \"Name\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"City\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"readOnly\": false,\n              \"required\": false,\n              \"displayName\": \"City\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Email\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"readOnly\": false,\n              \"required\": false,\n              \"displayName\": \"Email\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Date\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"readOnly\": false,\n              \"required\": false,\n              \"displayName\": \"Date\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Time\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"readOnly\": false,\n              \"required\": false,\n              \"displayName\": \"Time\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": []\n        },\n        \"options\": {},\n        \"operation\": \"create\"\n      },\n      \"credentials\": {\n        \"airtableTokenApi\": {\n          \"id\": \"maZEeRzOyC8Q06Zf\",\n          \"name\": \"Airtable Personal Access Token account\"\n        }\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"4f561bd8-a5dd-4ff2-9d3e-cdac6f762bd4\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        100,\n        -680\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 2256.3366317584496,\n        \"height\": 851.9587677224575,\n        \"content\": \"### Workflow Description:\\n\\n1. **n8n Form Trigger:**\\n   - A trigger node that initiates the workflow when a form is submitted.\\n   - Form fields include Name, City, and Email.\\n\\n2. **Extracting Date and Time Fields from 'submittedAt' Field:**\\n   - A code node that extracts Date and Time from the submittedAt field.\\n\\n3. **Format the Fields:**\\n   - Sets the format for the extracted fields (Name, City, Date, Time, Email).\\n\\n4. **Airtable:**\\n   - Creates a new record in Airtable with the formatted data.\\n   - Includes columns for Name, City, Email, Time, and Date.\\n\\n5. **Google Sheets:**\\n   - Appends the formatted data to a Google Sheet.\\n   - Includes columns for Name, City, Email, Date, and Time.\\n\\n6. **Gmail:**\\n   - Sends an email to the provided Email address.\\n   - Subject: \\\"Testing Text Message Delivery\\\"\\n   - Message: Customized message with Name placeholder.\\n\\n7. **Gmail1:**\\n   - Sends another email using a different template.\\n   - Subject includes the Date field.\\n   - Similar message content with a different subject line.\\n\\n### Workflow Connections:\\n- n8n Form Trigger -> Extracting Date and Time Fields -> Format the Fields -> Google Sheets & Airtable -> Gmail\\n- Google Sheets -> Gmail1\\n\\nThis workflow collects data from a form submission, processes it to extract Date and Time fields, saves the formatted data to Google Sheets and Airtable, and sends customized emails to the submitter.\\n\\n\\n\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"a0d53cb5-27c8-4dfb-a1ea-e2403bde1fc4\",\n      \"name\": \"Google Sheets\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        1320,\n        -540\n      ],\n      \"parameters\": {\n        \"columns\": {\n          \"value\": {\n            \"City\": \"={{ $json.City }}\",\n            \"Date\": \"={{ $json.Date }}\",\n            \"Name\": \"={{ $json.Name }}\",\n            \"Time\": \"={{ $json.Time }}\",\n            \"Email\": \"={{ $json.Email }}\"\n          },\n          \"schema\": [\n            {\n              \"id\": \"Name\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"Name\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"City\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"City\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Email\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"Email\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Date\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"Date\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Time\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"Time\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": []\n        },\n        \"options\": {},\n        \"operation\": \"append\",\n        \"sheetName\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gid=0\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1Ss6AEwaXpAl54YQAQDf1z6SRyh6pj719-A9eOzf2Dv4/edit#gid=0\",\n          \"cachedResultName\": \"Page\"\n        },\n        \"documentId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"1Ss6AEwaXpAl54YQAQDf1z6SRyh6pj719-A9eOzf2Dv4\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1Ss6AEwaXpAl54YQAQDf1z6SRyh6pj719-A9eOzf2Dv4/edit?usp=drivesdk\",\n          \"cachedResultName\": \"Streamline data from an n8n form into Google Sheet and Airtable\"\n        }\n      },\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"L5CnisK8R3BgVGcO\",\n          \"name\": \"Omar sheet\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"de697574-f547-4374-86d9-c6d9f709c404\",\n      \"name\": \"Gmail\",\n      \"type\": \"n8n-nodes-base.gmail\",\n      \"position\": [\n        1560,\n        -260\n      ],\n      \"parameters\": {\n        \"sendTo\": \"={{ $json.fields.Email }}\",\n        \"message\": \"=Dear {{ $json.fields.Name }} ..\\n\\nHey there! Just testing to see if this message goes through. Let me know if you receive it. \\n\\nThanks! \\nSupport Team\",\n        \"options\": {},\n        \"subject\": \"Testing Text Message Delivery\",\n        \"emailType\": \"text\"\n      },\n      \"credentials\": {\n        \"gmailOAuth2\": {\n          \"id\": \"UJx4Tiq8WRtxWEIP\",\n          \"name\": \"Gmail Omar\"\n        }\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"66677b7e-d053-4050-a65c-9c9f8f689646\",\n      \"name\": \"Gmail1\",\n      \"type\": \"n8n-nodes-base.gmail\",\n      \"position\": [\n        1560,\n        -540\n      ],\n      \"parameters\": {\n        \"sendTo\": \"={{ $json.Email }}\",\n        \"message\": \"=Dear {{ $json.Name }} ..\\n\\nHey there! Just testing to see if this message goes through. Let me know if you receive it. \\n\\nThanks! \\nSupport Team  \",\n        \"options\": {},\n        \"subject\": \"=Testing Text Message Delivery , ( {{ $json.Date }} ) \",\n        \"emailType\": \"text\"\n      },\n      \"credentials\": {\n        \"gmailOAuth2\": {\n          \"id\": \"UJx4Tiq8WRtxWEIP\",\n          \"name\": \"Gmail Omar\"\n        }\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"e440b4cb-6910-4bc7-b3df-7c14dd9c43a9\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1820,\n        -640\n      ],\n      \"parameters\": {\n        \"width\": 510.8381838182147,\n        \"height\": 206.48715095387286,\n        \"content\": \"### Links to Node Documentation:\\n1. [n8n Form Trigger Documentation](https://docs.n8n.io/nodes/n8n-nodes-base.formTrigger)\\n2. [Code Node Documentation](https://docs.n8n.io/nodes/n8n-nodes-base.code)\\n3. [Set Node Documentation](https://docs.n8n.io/nodes/n8n-nodes-base.set)\\n4. [Airtable Node Documentation](https://docs.n8n.io/nodes/n8n-nodes-base.airtable)\\n5. [Google Sheets Node Documentation](https://docs.n8n.io/nodes/n8n-nodes-base.googleSheets)\\n6. [Gmail Node Documentation](https://docs.n8n.io/nodes/n8n-nodes-base.gmail)\\n\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"541ecd4c-22bc-4bc9-8364-ca73b4650092\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        680,\n        -640\n      ],\n      \"parameters\": {\n        \"width\": 1105.0652438372836,\n        \"height\": 630.9350509674927,\n        \"content\": \"\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"de903de6-c793-4a64-9d3c-0ade08d6994e\",\n  \"connections\": {\n    \"Airtable\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Gmail\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Google Sheets\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Gmail1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"n8n Form Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Extracting Date and Time Fields from 'submittedAt' Field\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Format the Fields\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Google Sheets\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Airtable\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Extracting Date and Time Fields from 'submittedAt' Field\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Format the Fields\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.formTrigger",
      "n8n-nodes-base.code",
      "n8n-nodes-base.set",
      "n8n-nodes-base.airtable",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.googleSheets",
      "n8n-nodes-base.gmail",
      "n8n-nodes-base.gmail",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote"
    ],
    "trigger": "n8n form trigger"
  }
}