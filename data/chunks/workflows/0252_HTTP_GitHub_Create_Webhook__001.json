{
  "source": "0252_HTTP_GitHub_Create_Webhook.json",
  "index": 1,
  "content": "{\n  \"meta\": {\n    \"instanceId\": \"237600ca44303ce91fa31ee72babcdc8493f55ee2c0e8aa2b78b3b4ce6f70bd9\"\n  },\n  \"nodes\": [\n    {\n      \"id\": \"a84fa822-fd74-45db-93c6-f51be75ef307\",\n      \"name\": \"person exists\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        920,\n        340\n      ],\n      \"parameters\": {\n        \"conditions\": {\n          \"string\": [\n            {\n              \"value1\": \"={{$json[\\\"name\\\"]}}\",\n              \"operation\": \"isNotEmpty\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"500ef1bd-8965-4245-81d7-14c3897b4275\",\n      \"name\": \"Set person Id\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        1480,\n        320\n      ],\n      \"parameters\": {\n        \"values\": {\n          \"string\": [\n            {\n              \"name\": \"PipedrivePersonId\",\n              \"value\": \"={{ $json[\\\"id\\\"] }}\"\n            }\n          ]\n        },\n        \"options\": {}\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"ab1a1335-92c8-41f8-b008-5b19530f08e9\",\n      \"name\": \"Create lead\",\n      \"type\": \"n8n-nodes-base.pipedrive\",\n      \"position\": [\n        1740,\n        320\n      ],\n      \"parameters\": {\n        \"title\": \"=Repo '{{$node[\\\"On fork\\\"].json[\\\"body\\\"][\\\"repository\\\"][\\\"full_name\\\"]}}' forked by {{$json[\\\"name\\\"]}}\",\n        \"resource\": \"lead\",\n        \"person_id\": \"={{$json[\\\"PipedrivePersonId\\\"]}}\",\n        \"associateWith\": \"person\",\n        \"additionalFields\": {}\n      },\n      \"credentials\": {\n        \"pipedriveApi\": {\n          \"id\": \"1\",\n          \"name\": \"Pipedrive account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"4fd06c6a-4975-4a6a-95f3-bb48f3e9bdf6\",\n      \"name\": \"On fork\",\n      \"type\": \"n8n-nodes-base.githubTrigger\",\n      \"position\": [\n        180,\n        340\n      ],\n      \"webhookId\": \"ff05ca29-9ed3-4b97-a4ce-4f9b1c05255f\",\n      \"parameters\": {\n        \"owner\": \"John-n8n\",\n        \"events\": [\n          \"fork\"\n        ],\n        \"repository\": \"DemoRepo\"\n      },\n      \"credentials\": {\n        \"githubApi\": {\n          \"id\": \"7\",\n          \"name\": \"GitHub account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"86554078-ce7c-4dd3-b36f-d1bf22530f7b\",\n      \"name\": \"Create person\",\n      \"type\": \"n8n-nodes-base.pipedrive\",\n      \"position\": [\n        1200,\n        440\n      ],\n      \"parameters\": {\n        \"name\": \"={{ $node[\\\"On fork\\\"].json[\\\"body\\\"].forkee.owner.login }}\",\n        \"resource\": \"person\",\n        \"additionalFields\": {\n          \"email\": [\n            \"={{$node[\\\"Get Github user information\\\"].email}}\"\n          ]\n        }\n      },\n      \"credentials\": {\n        \"pipedriveApi\": {\n          \"id\": \"1\",\n          \"name\": \"Pipedrive account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"c4a8dae8-d6f3-4309-8fa5-78d69cf1b1e8\",\n      \"name\": \"Create note with github url\",\n      \"type\": \"n8n-nodes-base.pipedrive\",\n      \"position\": [\n        1980,\n        320\n      ],\n      \"parameters\": {\n        \"content\": \"=Github user url: {{ $node[\\\"On fork\\\"].json[\\\"body\\\"].sender.html_url }}\",\n        \"resource\": \"note\",\n        \"additionalFields\": {\n          \"lead_id\": \"={{ $json[\\\"id\\\"] }}\"\n        }\n      },\n      \"credentials\": {\n        \"pipedriveApi\": {\n          \"id\": \"1\",\n          \"name\": \"Pipedrive account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"8dfa3e8e-29d8-4098-825d-8ec915ca6f3f\",\n      \"name\": \"Get Github user information\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        440,\n        340\n      ],\n      \"parameters\": {\n        \"url\": \"={{$json[\\\"body\\\"].sender.url}}\",\n        \"options\": {},\n        \"authentication\": \"predefinedCredentialType\",\n        \"nodeCredentialType\": \"githubApi\"\n      },\n      \"credentials\": {\n        \"githubApi\": {\n          \"id\": \"7\",\n          \"name\": \"GitHub account\"\n        }\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"c4c2538a-28e8-4c75-856d-000a727a4f13\",\n      \"name\": \"Search forkee in Pipedrive by email\",\n      \"type\": \"n8n-nodes-base.pipedrive\",\n      \"position\": [\n        680,\n        340\n      ],\n      \"parameters\": {\n        \"term\": \"={{ $json[\\\"email\\\"]}}\",\n        \"resource\": \"person\",\n        \"operation\": \"search\",\n        \"additionalFields\": {\n          \"fields\": \"email\"\n        }\n      },\n      \"credentials\": {\n        \"pipedriveApi\": {\n          \"id\": \"1\",\n          \"name\": \"Pipedrive account\"\n        }\n      },\n      \"typeVersion\": 1,\n      \"alwaysOutputData\": true\n    }\n  ],\n  \"connections\": {\n    \"On fork\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get Github user information\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Create lead\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Create note with github url\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Create person\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set person Id\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Set person Id\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Create lead\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"person exists\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set person Id\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Create person\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get Github user information\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Search forkee in Pipedrive by email\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Search forkee in Pipedrive by email\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"person exists\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.if",
      "n8n-nodes-base.set",
      "n8n-nodes-base.pipedrive",
      "n8n-nodes-base.githubTrigger",
      "n8n-nodes-base.pipedrive",
      "n8n-nodes-base.pipedrive",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.pipedrive"
    ],
    "trigger": null
  }
}