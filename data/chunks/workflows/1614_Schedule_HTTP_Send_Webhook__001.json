{
  "source": "1614_Schedule_HTTP_Send_Webhook.json",
  "index": 1,
  "content": "{\n  \"id\": \"Qj1307oyBx1hZJy5\",\n  \"meta\": {\n    \"instanceId\": \"1abe0e4c2be794795d12bf72aa530a426a6f87aabad209ed6619bcaf0f666fb0\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"name\": \"SSL Expiry Alert\",\n  \"tags\": [\n    {\n      \"id\": \"aqlZb2qfWiaT4Xr5\",\n      \"name\": \"IT Ops\",\n      \"createdAt\": \"2025-01-03T12:20:11.917Z\",\n      \"updatedAt\": \"2025-01-03T12:20:11.917Z\"\n    },\n    {\n      \"id\": \"zJaZorWWcGpTp35U\",\n      \"name\": \"DevOps\",\n      \"createdAt\": \"2025-01-03T12:19:34.273Z\",\n      \"updatedAt\": \"2025-01-03T12:19:34.273Z\"\n    }\n  ],\n  \"nodes\": [\n    {\n      \"id\": \"260b66a2-0841-4dc7-9666-acbc9317fd91\",\n      \"name\": \"URLs to Monitor\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        1120,\n        -120\n      ],\n      \"parameters\": {\n        \"columns\": {\n          \"value\": {\n            \"URL\": \"={{ $json.result.host }}\",\n            \"KnownExpiryDate\": \"={{ $json.result.valid_till }}\"\n          },\n          \"schema\": [\n            {\n              \"id\": \"Website \",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": true,\n              \"required\": false,\n              \"displayName\": \"Website \",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"URL\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"URL\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"KnownExpiryDate\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"KnownExpiryDate\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"row_number\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": true,\n              \"readOnly\": true,\n              \"required\": false,\n              \"displayName\": \"row_number\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": [\n            \"URL\"\n          ]\n        },\n        \"options\": {},\n        \"operation\": \"update\",\n        \"sheetName\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gid=0\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1VfsX4cW2oKQ3ZHUjBvGk--d1X7509c6__b6gPvA5VpI/edit#gid=0\",\n          \"cachedResultName\": \"URLs to Check\"\n        },\n        \"documentId\": {\n          \"__rl\": true,\n          \"mode\": \"url\",\n          \"value\": \"https://docs.google.com/spreadsheets/d/1VfsX4cW2oKQ3ZHUjBvGk--d1X7509c6__b6gPvA5VpI/edit?gid=0#gid=0\"\n        }\n      },\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"I7vwmkFVGPrI7Os1\",\n          \"name\": \"Vishal - Google Sheets\"\n        }\n      },\n      \"typeVersion\": 4.5\n    },\n    {\n      \"id\": \"a2922f1b-9d29-4b66-9560-44207f3e14d2\",\n      \"name\": \"Weekly Trigger\",\n      \"type\": \"n8n-nodes-base.scheduleTrigger\",\n      \"position\": [\n        160,\n        140\n      ],\n      \"parameters\": {\n        \"rule\": {\n          \"interval\": [\n            {\n              \"field\": \"weeks\",\n              \"triggerAtDay\": [\n                1\n              ],\n              \"triggerAtHour\": 8\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"005564e9-5ecb-4ee9-aca0-69a660656b09\",\n      \"name\": \"Fetch URLs\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        420,\n        140\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"sheetName\": {\n          \"__rl\": true,\n          \"mode\": \"url\",\n          \"value\": \"https://docs.google.com/spreadsheets/d/1pnUfIkD90MUG99Fp0vRoAB-w-GPSAwRZw0-JsNl-h3s/edit?gid=0#gid=0\"\n        },\n        \"documentId\": {\n          \"__rl\": true,\n          \"mode\": \"url\",\n          \"value\": \"https://docs.google.com/spreadsheets/d/1pnUfIkD90MUG99Fp0vRoAB-w-GPSAwRZw0-JsNl-h3s/edit?usp=sharing\"\n        }\n      },\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"I7vwmkFVGPrI7Os1\",\n          \"name\": \"Vishal - Google Sheets\"\n        }\n      },\n      \"typeVersion\": 4.5\n    },\n    {\n      \"id\": \"943c561c-ca89-461c-a6fb-c3011baaf81a\",\n      \"name\": \"Check SSL\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        680,\n        140\n      ],\n      \"parameters\": {\n        \"url\": \"=https://ssl-checker.io/api/v1/check/{{ $json[\\\"URL\\\"].replace(/^https?:\\\\/\\\\//, \\\"\\\").replace(/\\\\/$/, \\\"\\\") }}\",\n        \"options\": {}\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"911fa691-decf-4572-a46e-d8644d3b2a35\",\n      \"name\": \"Expiry Alert\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        1120,\n        220\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"ee6e2ce8-569a-4f1f-91b5-2c55f605a16b\",\n              \"operator\": {\n                \"type\": \"number\",\n                \"operation\": \"lte\"\n              },\n              \"leftValue\": \"={{ $json.result.days_left }}\",\n              \"rightValue\": 7\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"8b59ebbb-0a87-40c2-be79-cc38431ebdbd\",\n      \"name\": \"Send Alert Email\",\n      \"type\": \"n8n-nodes-base.gmail\",\n      \"position\": [\n        1440,\n        240\n      ],\n      \"webhookId\": \"cd6b6b20-e619-4526-aa69-64754e3d9035\",\n      \"parameters\": {\n        \"sendTo\": \"phanineeraj@quantana.com\",\n        \"message\": \"=SSL Expiry - {{ $json.result.days_left }} Days Left - {{ $json.result.host }}\",\n        \"options\": {\n          \"appendAttribution\": false\n        },\n        \"subject\": \"=SSL Expiry - {{ $json.result.days_left }} Days Left - {{ $json.result.host }}\",\n        \"emailType\": \"text\"\n      },\n      \"credentials\": {\n        \"gmailOAuth2\": {\n          \"id\": \"brYm5tKb5se1DyUw\",\n          \"name\": \"Sabila Gmail\"\n        }\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"32eebd68-f0e6-467c-bf65-f2d513a60666\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        100,\n        0\n      ],\n      \"parameters\": {\n        \"height\": 329.860465116279,\n        \"content\": \"Triggers the workflow once a week.\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"3c0ed796-94a4-488c-9cb7-e3d46db63815\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        360,\n        0\n      ],\n      \"parameters\": {\n        \"height\": 327.0154373927959,\n        \"content\": \"Pulls the list of URLs to monitor from the Google Sheet. Ensure you clone the Google Sheet worksheet and update this node with its URL.\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"fdb2077c-7d6a-4255-b499-e90513a0de1d\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        620,\n        0\n      ],\n      \"parameters\": {\n        \"height\": 323.89365351629556,\n        \"content\": \"Uses SSL-Checker.io to verify the SSL certificate of each URL. Fetches details like the host, validity period, and days remaining until expiry.\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"5cc1644b-6abc-4299-8a25-9507b09d863f\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1060,\n        -260\n      ],\n      \"parameters\": {\n        \"height\": 344.1852487135509,\n        \"content\": \"Updates the Google Sheet with SSL details, including the expiry date and certificate status.\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"1001a69e-8efc-4a8b-a97b-a1bc021ada35\",\n      \"name\": \"Sticky Note4\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1060,\n        140\n      ],\n      \"parameters\": {\n        \"height\": 344.1852487135509,\n        \"content\": \"Checks if any SSL certificate is set to expire in 7 days or less.\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"ad9e359e-3d95-4e8c-97b0-d06475bb8883\",\n      \"name\": \"Sticky Note5\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1360,\n        140\n      ],\n      \"parameters\": {\n        \"height\": 344.1852487135509,\n        \"content\": \"Sends an email alert if an SSL certificate is nearing expiry, including the host and days remaining.\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"timezone\": \"Asia/Kolkata\",\n    \"callerPolicy\": \"workflowsFromSameOwner\",\n    \"errorWorkflow\": \"rL70w0U4LV2l9a5b\",\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"f60d6e6e-dace-497a-b58b-113993ec36e5\",\n  \"connections\": {\n    \"Check SSL\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"URLs to Monitor\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Expiry Alert\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Fetch URLs\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Check SSL\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Expiry Alert\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Send Alert Email\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Weekly Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Fetch URLs\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.googleSheets",
      "n8n-nodes-base.scheduleTrigger",
      "n8n-nodes-base.googleSheets",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.if",
      "n8n-nodes-base.gmail",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote"
    ],
    "trigger": "weekly trigger"
  }
}