{
  "source": "0087_Datetime_Slack_Automate_Scheduled.json",
  "index": 1,
  "content": "{\n  \"nodes\": [\n    {\n      \"name\": \"Cron\",\n      \"type\": \"n8n-nodes-base.cron\",\n      \"position\": [\n        -700,\n        1500\n      ],\n      \"parameters\": {\n        \"triggerTimes\": {\n          \"item\": [\n            {\n              \"hour\": 10,\n              \"mode\": \"everyWeek\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Shopify\",\n      \"type\": \"n8n-nodes-base.shopify\",\n      \"position\": [\n        -500,\n        1500\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"operation\": \"getAll\"\n      },\n      \"credentials\": {\n        \"shopifyApi\": \"shopify_nodeqa\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Function\",\n      \"type\": \"n8n-nodes-base.function\",\n      \"position\": [\n        300,\n        1400\n      ],\n      \"parameters\": {\n        \"functionCode\": \"let totalOrders = items.length;\\nlet ordersSum = 0;\\n\\nfor(let i=0; i < items.length; i++) {\\n  ordersSum = ordersSum + parseFloat(items[i].json.orderPrice);\\n}\\nreturn [{json:{totalOrders, ordersSum}}]\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Google Sheets\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        500,\n        1500\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"sheetId\": \"1GVyV1yYwWZu510NTzVgi2RyesrsnuP3RxXmWbX1O7DQ\",\n        \"operation\": \"append\",\n        \"authentication\": \"oAuth2\"\n      },\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": \"google_sheets_oauth\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Slack\",\n      \"type\": \"n8n-nodes-base.slack\",\n      \"position\": [\n        500,\n        1300\n      ],\n      \"parameters\": {\n        \"text\": \"=Hey team, this week we had {{$json[\\\"totalOrders\\\"]}} orders with a total value of â‚¬ {{$json[\\\"ordersSum\\\"]}}.\",\n        \"channel\": \"shopify\",\n        \"attachments\": [],\n        \"otherOptions\": {}\n      },\n      \"credentials\": {\n        \"slackApi\": \"slack_nodeqa\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Date & Time\",\n      \"type\": \"n8n-nodes-base.dateTime\",\n      \"position\": [\n        -300,\n        1500\n      ],\n      \"parameters\": {\n        \"value\": \"={{$json[\\\"created_at\\\"]}}\",\n        \"options\": {},\n        \"dataPropertyName\": \"order_date\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"IF\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        -100,\n        1500\n      ],\n      \"parameters\": {\n        \"conditions\": {\n          \"dateTime\": [\n            {\n              \"value1\": \"={{$node[\\\"Date & Time\\\"].json[\\\"order_date\\\"]}}\",\n              \"value2\": \"2021-08-17T15:00:53.223Z\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"NoOp\",\n      \"type\": \"n8n-nodes-base.noOp\",\n      \"position\": [\n        100,\n        1600\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Set price\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        100,\n        1400\n      ],\n      \"parameters\": {\n        \"values\": {\n          \"number\": [\n            {\n              \"name\": \"orderPrice\",\n              \"value\": \"={{$json[\\\"total_price\\\"]}}\"\n            }\n          ]\n        },\n        \"options\": {},\n        \"keepOnlySet\": true\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"connections\": {\n    \"IF\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set price\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"NoOp\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Cron\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Shopify\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Shopify\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Date & Time\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Function\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Slack\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Google Sheets\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Set price\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Function\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Date & Time\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"IF\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.cron",
      "n8n-nodes-base.shopify",
      "n8n-nodes-base.function",
      "n8n-nodes-base.googleSheets",
      "n8n-nodes-base.slack",
      "n8n-nodes-base.dateTime",
      "n8n-nodes-base.if",
      "n8n-nodes-base.noOp",
      "n8n-nodes-base.set"
    ],
    "trigger": null
  }
}