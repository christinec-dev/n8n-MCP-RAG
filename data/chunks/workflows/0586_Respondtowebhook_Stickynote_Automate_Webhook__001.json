{
  "source": "0586_Respondtowebhook_Stickynote_Automate_Webhook.json",
  "index": 1,
  "content": "{\n  \"meta\": {\n    \"instanceId\": \"205b3bc06c96f2dc835b4f00e1cbf9a937a74eeb3b47c99d0c30b0586dbf85aa\",\n    \"templateId\": \"2436\"\n  },\n  \"nodes\": [\n    {\n      \"id\": \"b24c6e28-3c9e-4069-9e87-49b2efd47257\",\n      \"name\": \"OpenAI Chat Model\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\n      \"position\": [\n        1200,\n        660\n      ],\n      \"parameters\": {\n        \"model\": \"gpt-4o-mini\",\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"AzPPV759YPBxJj3o\",\n          \"name\": \"Max's DevRel OpenAI account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"c71a3e22-f0fd-4377-9be2-32438b282430\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        200,\n        240\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 636.2128494576581,\n        \"height\": 494.9629292914819,\n        \"content\": \"![Siri Template Thumbnail](https://uploads.n8n.io/devrel/wf-siri-header.png#full-width)\\n## \\\"Hey Siri, Ask Agent\\\" workflow\\n**Made by [Max Tkacz](https://www.linkedin.com/in/maxtkacz) during the [30 Day AI Sprint](https://30dayaisprint.notion.site/)**\\n\\nThis template integrates with Apple Shortcuts to trigger an n8n AI Agent via a \\\"Hey Siri\\\" command. The shortcut prompts for spoken input, transcribes it, and sends it to the workflow's `When Called by Apple Shortcut` Webhook trigger. The AI Agent processes the input and Siri dictates the response back to you.\\n\\nThe workflow also passes the current date and time to the `AI Agent`, which you can extend with additional context, like data from an App node, for more customized responses.\\n\\n\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"a4ec93c3-eefa-4006-b02c-f995fb7bc410\",\n      \"name\": \"Respond to Apple Shortcut\",\n      \"type\": \"n8n-nodes-base.respondToWebhook\",\n      \"position\": [\n        1640,\n        460\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"respondWith\": \"text\",\n        \"responseBody\": \"={{ $json.output }}\"\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"942b284e-e26a-4534-8f33-eb92b0a88fdb\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        200,\n        760\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 280.2462120317618,\n        \"height\": 438.5821431288714,\n        \"content\": \"### Set up steps\\n1. Add an OpenAI API credential in `OpenAI Chat Model` node, or replace it with another model. Try `Groq` if you want a free alternative (can be used with free Groq account, no CC).\\n2. Copy the \\\"Production URL\\\" from `When called by Apple Shortcut` node, you'll need this when setting up the shortcut.\\n3. Save and activate this n8n workflow.\\n4. Download the [Apple Shortcut here](https://uploads.n8n.io/devrel/ask-agent.shortcut), open it on macOS or iOS. This adds the shortcut to your device.\\n5. Open the shortcut and swap URL in `Get contents of\\\" step to the \\\"Production URL\\\" you copied from `When called by Apple Shortcut`.\\n6. Test it by saying \\\"Hey Siri, AI Agent\\\", then ask a question.\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"ebb9e886-546a-429c-b4b5-35c0a7b6370e\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        503.6292958565226,\n        760\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 330.5152611046425,\n        \"height\": 240.6839895136402,\n        \"content\": \"### ... or watch set up video [5 min]\\n[![Siri Template Thumbnail](https://uploads.n8n.io/devrel/thumb-siri.png#full-width)](https://youtu.be/dewsB-4iGA8)\\n\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"5a842fa9-be8c-4ba8-996b-a26a53273b3f\",\n      \"name\": \"AI Agent\",\n      \"type\": \"@n8n/n8n-nodes-langchain.agent\",\n      \"position\": [\n        1240,\n        460\n      ],\n      \"parameters\": {\n        \"text\": \"=Here is my request: {{ $json.body.input }}\\n\",\n        \"agent\": \"conversationalAgent\",\n        \"options\": {\n          \"systemMessage\": \"=## Task\\nYou are a helpful assistant. Provide concise replies as the user receives them via voice on their mobile phone. Avoid using symbols like \\\"\\\\n\\\" to prevent them from being narrated.\\n\\n## Context\\n- Today is {{ $now.format('dd LLL yy') }}.\\n- Current time: {{ $now.format('h:mm a') }} in Berlin, Germany.\\n- When asked, you are an AI Agent running as an n8n workflow.\\n\\n## Output\\nKeep responses short and clear, optimized for voice delivery. Don't hallucinate, if you don't know the answer, say you don't know. \"\n        },\n        \"promptType\": \"define\",\n        \"hasOutputParser\": true\n      },\n      \"typeVersion\": 1.6\n    },\n    {\n      \"id\": \"598d22d5-7472-44c5-ab2e-69c8bbb23ddd\",\n      \"name\": \"When called by Apple Shortcut\",\n      \"type\": \"n8n-nodes-base.webhook\",\n      \"position\": [\n        980,\n        460\n      ],\n      \"webhookId\": \"f0224b4b-1644-4d3d-9f12-01a9c04879e4\",\n      \"parameters\": {\n        \"path\": \"assistant\",\n        \"options\": {},\n        \"httpMethod\": \"POST\",\n        \"responseMode\": \"responseNode\"\n      },\n      \"typeVersion\": 2\n    }\n  ],\n  \"pinData\": {},\n  \"connections\": {\n    \"AI Agent\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Respond to Apple Shortcut\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"OpenAI Chat Model\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"AI Agent\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When called by Apple Shortcut\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"AI Agent\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.respondToWebhook",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "@n8n/n8n-nodes-langchain.agent",
      "n8n-nodes-base.webhook"
    ],
    "trigger": null
  }
}