{
  "source": "1771_Wait_Code_Automate_Webhook.json",
  "index": 1,
  "content": "{\n  \"id\": \"YOUR_WORKFLOW_ID\",\n  \"meta\": {\n    \"instanceId\": \"YOUR_INSTANCE_ID\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"name\": \"Automated Content Generation & Publishing - Wordpress\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"9cd63357-19dc-4420-baa9-1e1389c7120f\",\n      \"name\": \"Create posts on Wordpress\",\n      \"type\": \"n8n-nodes-base.wordpress\",\n      \"position\": [\n        1180,\n        280\n      ],\n      \"parameters\": {\n        \"title\": \"={{ $('Save to Sheet').item.json['title'] }}\",\n        \"additionalFields\": {\n          \"status\": \"publish\",\n          \"content\": \"=<img src=\\\"{{ $('Automated Image Retrieval from Pexels').item.json.photos[0].src.landscape }}\\\" alt=\\\"image text\\\" style=\\\"width:100%; height:auto;\\\"><br><br>\\n<br><br>\\n{{ $node['Save to Sheet'].json['content'] }}\"\n        }\n      },\n      \"credentials\": {\n        \"wordpressApi\": {\n          \"id\": \"YOUR_WORDPRESS_CREDENTIAL_ID\",\n          \"name\": \"Wordpress account 2\"\n        }\n      },\n      \"typeVersion\": 1,\n      \"alwaysOutputData\": false\n    },\n    {\n      \"id\": \"65f62f19-d10f-4ca1-a853-9cedb3506743\",\n      \"name\": \"Processing Delay\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        180,\n        580\n      ],\n      \"parameters\": {\n        \"jsCode\": \"const delay = Math.floor(Math.random() * (6 * 60 * 60 * 1000)); // random delay 0-6 hour\\nreturn {\\n  json: {\\n    delay: delay,\\n    delay_minutes: Math.round(delay / 60000),  // to minutes\\n    delay_hours: (delay / 3600000).toFixed(2) // to hours\\n  }\\n};\\n\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"193d2876-c50e-4b9e-8856-9fd11baa025e\",\n      \"name\": \"Random Wait\",\n      \"type\": \"n8n-nodes-base.wait\",\n      \"position\": [\n        180,\n        760\n      ],\n      \"webhookId\": \"61377399-ce9f-497a-80b1-aab29fc9fb69\",\n      \"parameters\": {\n        \"amount\": \"={{$json[\\\"delay\\\"] / 1000}}\"\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"cf510c21-7c19-4e84-a43a-62d170277cdf\",\n      \"name\": \"Save to Sheet\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        780,\n        280\n      ],\n      \"parameters\": {\n        \"columns\": {\n          \"value\": {\n            \"title\": \"={{ $json.message.content.title }}\",\n            \"content\": \"={{ $json.message.content.content }}\",\n            \"Image search keyword\": \"={{ $json.message.content.keywords.join(\\\"+\\\") }}\"\n          },\n          \"schema\": [\n            {\n              \"id\": \"title\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"title\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"content\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"content\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Image search keyword\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"Image search keyword\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": []\n        },\n        \"options\": {},\n        \"operation\": \"append\",\n        \"sheetName\": {\n          \"__rl\": true,\n          \"mode\": \"name\",\n          \"value\": \"Sheet1\"\n        },\n        \"documentId\": {\n          \"__rl\": true,\n          \"mode\": \"url\",\n          \"value\": \"YOURDOCUMENT_URL\"\n        }\n      },\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"YOUR_GOOGLE_SHEETS_CREDENTIAL_ID\",\n          \"name\": \"Google Sheets account_正確\"\n        }\n      },\n      \"typeVersion\": 4.5\n    },\n    {\n      \"id\": \"1778f649-c09e-4ef9-b153-4160eed6805c\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -220,\n        0\n      ],\n      \"parameters\": {\n        \"width\": 607.503259452412,\n        \"height\": 892.7656453715782,\n        \"content\": \"## Automated Article Scheduling\\n\\n**1. Fast Bulk Article Generation**\\nQuickly create multiple AI-generated articles.\\nEfficiently streamline content creation.\\nReduces manual effort while maintaining quality.\\n\\n**2. Workflow Testing Before Execution**\\nManually test the workflow for debugging.\\nEnsure each step runs as expected.\\nOptimize before full automation.\\n\\n**3. Automated & Randomized Publishing**\\nSchedule posts at predefined intervals.\\nIntroduce random delays for a natural posting pattern.\\nPrevents overly predictable publishing behavior.\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"6f385e8c-b3e6-4456-9738-e85ea2cbbea1\",\n      \"name\": \"1. Auto Start\",\n      \"type\": \"n8n-nodes-base.scheduleTrigger\",\n      \"disabled\": true,\n      \"position\": [\n        180,\n        20\n      ],\n      \"parameters\": {\n        \"rule\": {\n          \"interval\": [\n            {\n              \"field\": \"minutes\",\n              \"minutesInterval\": 1\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"6d7712e8-9033-453b-ad52-09f718bcb701\",\n      \"name\": \"2. When clicking ‘Test workflow’\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"disabled\": true,\n      \"position\": [\n        180,\n        200\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"0fd8fe8f-a0d5-42d9-b728-53340c6e4233\",\n      \"name\": \"3. Schedule Your Posts\",\n      \"type\": \"n8n-nodes-base.scheduleTrigger\",\n      \"position\": [\n        180,\n        380\n      ],\n      \"parameters\": {\n        \"rule\": {\n          \"interval\": [\n            {\n              \"field\": \"weeks\",\n              \"triggerAtDay\": [\n                2,\n                4,\n                0\n              ],\n              \"triggerAtHour\": \"={{ 12 }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"16c26c36-fb8e-4903-a64c-57803fac83b9\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        400,\n        440\n      ],\n      \"parameters\": {\n        \"width\": 351.77682676671327,\n        \"height\": 271.4285686334568,\n        \"content\": \"## AI Content Generating\\n\\n**Automatic Content & Keyword Generation\\n\\n- Use your own prompt to start\\n- ChatGPT generates full-length articles with structured headings.\\n- Extracts relevant image search keywords for visual enhancement.\\n- To implement this, add the following prompt (green note) below your workflow:\\n\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"921173fb-ae10-4f88-a1ab-15f063cd623f\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        400,\n        740\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 349.47344203333904,\n        \"height\": 1277.4269457977707,\n        \"content\": \"(YOUR PROMPT)\\n\\n**Image Search Keywords (For Visual Alignment)**\\n\\n- Automatically generates 3-5 English keywords for image searches based on the article content.\\n- Keywords should be specific objects, locations, or atmospheres rather than abstract concepts.\\n\\n**Article Formatting Requirements**\\n\\n1️⃣ Title (H1): Ensure unique and trend-driven headlines.\\n2️⃣ H2 / H3 Subheadings: Structure content in an SEO-optimized format.\\n3️⃣ Article Structure (Enhanced Readability)\\n\\n** Introduction **\\n- Go straight to the point, avoiding excessive background.\\n- Use question hooks or market trend data to engage readers.\\n\\n** Core Content **\\n- Include at least three knowledge points to ensure depth.\\n- Balance short and long sentences for better flow.\\n\\n** Conclusion **\\n- Avoid generic AI-style summaries; instead, provide insights or actionable takeaways.\\n- Optionally include a CTA (Call to Action).\\n\\n** HTML Formatting **\\nEnsure the article is properly structured in HTML format:\\n- Headings: Use <h1>, <h2>, <h3> appropriately.\\n- Paragraphs: Enclose text within <p>.\\n- Emphasized Words: Use <strong> to highlight key terms.\\n- Lists: Use <ul> and <li> for bullet points.\\n\\nEnsure a clean, well-structured output instead of plain text.\\n\\n### **Final JSON Format\\nEnsure the output follows this structure:\\n\\n{\\n  \\\"title\\\": \\\"{Generate an H1 title that aligns with market trends, ensures high click-through rates, and follows keyword strategy}\\\",\\n  \\\"content\\\": \\\"{Generate a complete HTML article including H1, H2, H3 headings, paragraphs, lists, etc.}\\\",\\n  \\\"keywords\\\": [\\\"{Image search keyword 1}\\\", \\\"{Image search keyword 2}\\\", \\\"{Image search keyword 3}\\\", \\\"{Image search keyword 4}\\\", \\\"{Image search keyword 5}\\\"]\\n}\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"364b1ee1-4685-4b10-b988-1704dc65592b\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        760,\n        440\n      ],\n      \"parameters\": {\n        \"width\": 367.1064142931126,\n        \"height\": 267.17005729996885,\n        \"content\": \"## Google Sheet Setting\\n**You need to set up these in your sheet column** \\n- title\\n- content\\n- image search keyword\\n\\n**Mapping \\\"Values to Send\\\"**\\n- {{ $json.message.content.title }}\\n- {{ $json.message.content.content }}\\n- {{ $json.message.content.keywords.join(\\\"+\\\") }}\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"26876b53-aa27-4e16-991e-c3618e751c17\",\n      \"name\": \"Automated Image Retrieval from Pexels\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        980,\n        280\n      ],\n      \"parameters\": {\n        \"url\": \"=https://api.pexels.com/v1/search?per_page=1&orientation=landscape&query={{ $json[\\\"Image search keyword\\\"] }}\\n\",\n        \"options\": {},\n        \"sendQuery\": true,\n        \"sendHeaders\": true,\n        \"queryParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"query\",\n              \"value\": \"={{ $json['Image search keyword'] }}\"\n            }\n          ]\n        },\n        \"headerParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"Authorization\",\n              \"value\": \"YOUR_PEXELS_API_KEY\"\n            },\n            {\n              \"name\": \"Content-Type\",\n              \"value\": \"application/json\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"769638be-ee38-4e40-a508-f998b09ce1f4\",\n      \"name\": \"Sticky Note4\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -220,\n        -240\n      ],\n      \"parameters\": {\n        \"color\": 3,\n        \"width\": 608.0701163493336,\n        \"height\": 211.65896369815192,\n        \"content\": \"## Introduction: WordPress automatically publishes posts and inserts the first image\\n\\nIt is **highly recommended to install the Featured Image from URL (FIFU) plugin** and enable:\\n\\n**Auto > Set Featured Media Automatically from Content.** before you generate contents.\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"37f3606f-f110-49d2-bcf5-1edc27149fee\",\n      \"name\": \"Sticky Note5\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        400,\n        229.99235545929986\n      ],\n      \"parameters\": {\n        \"width\": 348.08256103956126,\n        \"height\": 170.00764454070014,\n        \"content\": \"Add your API credential\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"2399a40d-4b79-400c-9e96-df7e683fd666\",\n      \"name\": \"Sticky Note6\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        760,\n        228.00611563256007\n      ],\n      \"parameters\": {\n        \"width\": 150,\n        \"height\": 170.00764454070008,\n        \"content\": \"Add your API credential\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"45e479a6-2eea-44a1-9096-9895a18904fd\",\n      \"name\": \"Sticky Note7\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        920,\n        226.01987580582022\n      ],\n      \"parameters\": {\n        \"width\": 201.97095074533956,\n        \"height\": 172.00917344884022,\n        \"content\": \"Add your API credential\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"e0489552-a7b5-4161-9553-95e23605a9d5\",\n      \"name\": \"Generate AI Content\",\n      \"type\": \"@n8n/n8n-nodes-langchain.openAi\",\n      \"position\": [\n        440,\n        280\n      ],\n      \"parameters\": {\n        \"modelId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gpt-4o\",\n          \"cachedResultName\": \"GPT-4O\"\n        },\n        \"options\": {},\n        \"messages\": {\n          \"values\": [\n            {\n              \"content\": \"(YOUR PROMPT)\\n(YOUR PROMPT)\\n\\n**Image Search Keywords (For Visual Alignment)**\\n\\n- Automatically generates 3-5 English keywords for image searches based on the article content.\\n- Keywords should be specific objects, locations, or atmospheres rather than abstract concepts.\\n\\n**Article Formatting Requirements**\\n\\n1️⃣ Title (H1): Ensure unique and trend-driven headlines.\\n2️⃣ H2 / H3 Subheadings: Structure content in an SEO-optimized format.\\n3️⃣ Article Structure (Enhanced Readability)\\n\\n** Introduction **\\n- Go straight to the point, avoiding excessive background.\\n- Use question hooks or market trend data to engage readers.\\n\\n** Core Content **\\n- Include at least three knowledge points to ensure depth.\\n- Balance short and long sentences for better flow.\\n\\n** Conclusion **\\n- Avoid generic AI-style summaries; instead, provide insights or actionable takeaways.\\n- Optionally include a CTA (Call to Action).\\n\\n** HTML Formatting **\\nEnsure the article is properly structured in HTML format:\\n- Headings: Use <h1>, <h2>, <h3> appropriately.\\n- Paragraphs: Enclose text within <p>.\\n- Emphasized Words: Use <strong> to highlight key terms.\\n- Lists: Use <ul> and <li> for bullet points.\\n\\nEnsure a clean, well-structured output instead of plain text.\\n\\n### **Final JSON Format\\nEnsure the output follows this structure:\\n\\n{\\n  \\\"title\\\": \\\"{Generate an H1 title that aligns with market trends, ensures high click-through rates, and follows keyword strategy}\\\",\\n  \\\"content\\\": \\\"{Generate a complete HTML article including H1, H2, H3 headings, paragraphs, lists, etc.}\\\",\\n  \\\"keywords\\\": [\\\"{Image search keyword 1}\\\", \\\"{Image search keyword 2}\\\", \\\"{Image search keyword 3}\\\", \\\"{Image search keyword 4}\\\", \\\"{Image search keyword 5}\\\"]\\n}\"\n            }\n          ]\n        },\n        \"jsonOutput\": true\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"YOUR_OPENAI_CREDENTIAL_ID\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 1.6\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"timezone\": \"Asia/Taipei\",\n    \"callerPolicy\": \"workflowsFromSameOwner\",\n    \"executionOrder\": \"v1\",\n    \"executionTimeout\": -1,\n    \"saveManualExecutions\": true\n  },\n  \"versionId\": \"YOUR_VERSION_ID\",\n  \"connections\": {\n    \"Random Wait\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Generate AI Content\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Save to Sheet\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Automated Image Retrieval from Pexels\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Processing Delay\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Random Wait\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Generate AI Content\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Save to Sheet\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"3. Schedule Your Posts\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Processing Delay\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Automated Image Retrieval from Pexels\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Create posts on Wordpress\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.wordpress",
      "n8n-nodes-base.code",
      "n8n-nodes-base.wait",
      "n8n-nodes-base.googleSheets",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.scheduleTrigger",
      "n8n-nodes-base.manualTrigger",
      "n8n-nodes-base.scheduleTrigger",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "@n8n/n8n-nodes-langchain.openAi"
    ],
    "trigger": null
  }
}