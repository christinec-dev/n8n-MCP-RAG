{
  "source": "0307_Code_Postgres_Automate_Triggered.json",
  "index": 1,
  "content": "{\n  \"nodes\": [\n    {\n      \"id\": \"678e86bc-2755-4c79-97d6-fa4da1ed9ff9\",\n      \"name\": \"Postgres Trigger\",\n      \"type\": \"n8n-nodes-base.postgresTrigger\",\n      \"disabled\": true,\n      \"position\": [\n        500,\n        480\n      ],\n      \"parameters\": {\n        \"schema\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"computed\",\n          \"cachedResultName\": \"computed\"\n        },\n        \"firesOn\": \"UPDATE\",\n        \"tableName\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"users\",\n          \"cachedResultName\": \"users\"\n        },\n        \"additionalFields\": {}\n      },\n      \"credentials\": {\n        \"postgres\": {\n          \"id\": \"8\",\n          \"name\": \"Postgres Product Analytics\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"accecdfc-283c-4119-9b23-4cf44bc5e68c\",\n      \"name\": \"Filter\",\n      \"type\": \"n8n-nodes-base.filter\",\n      \"notes\": \"Filter out @n8n.io emails\",\n      \"position\": [\n        980,\n        540\n      ],\n      \"parameters\": {\n        \"conditions\": {\n          \"string\": [\n            {\n              \"value1\": \"={{ $json.email }}\",\n              \"value2\": \"n8n.io\",\n              \"operation\": \"notContains\"\n            }\n          ]\n        }\n      },\n      \"notesInFlow\": true,\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"d16d7ae7-0c60-48f0-97fe-c7618cab73d3\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        0,\n        380\n      ],\n      \"parameters\": {\n        \"width\": 424,\n        \"height\": 559,\n        \"content\": \"## ðŸ‘‹ How to use this template\\nThis template shows how to sync data from one service to another. In this example we're saving a new qualified lead to a Google Sheets file. Here's how you can test the template:\\n\\n1. Duplicate our [Google Sheets](https://docs.google.com/spreadsheets/d/1gVfyernVtgYXD-oPboxOSJYQ-HEfAguEryZ7gTtK0V8/edit?usp=sharing) file\\n2. Double click the `Google Sheets` node and create a credential by signing in.\\n3. Select the correct Google Sheets document and sheet.\\n4. Click the `Execute Workflow` button and double click the nodes to see the input and output data\\n\\n### To customize it to you needs, just do the following:\\n1. Enable or exchange the `Postgres trigger` with any service that fits your use case.\\n2. Change the `Filter` to fit your needs\\n3. Adjust the Google Sheets node as described above\\n4. Disable or remove the `On clicking \\\"Execute Node\\\"` and `Code` node\\n\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"8bc7439e-d814-4960-8b75-fc77805f74c7\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        460,\n        380\n      ],\n      \"parameters\": {\n        \"width\": 344,\n        \"height\": 562,\n        \"content\": \"### 1. Trigger step listens for new events\\n\\n\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"63b2bc4c-8e33-4432-af4b-4595b2012ce1\",\n      \"name\": \"Sticky Note6\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        840,\n        460\n      ],\n      \"parameters\": {\n        \"width\": 462,\n        \"height\": 407,\n        \"content\": \"### 2. Filter and transform your data\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nIn this case, we only want to save qualified users that don't have `@n8n.io` in their email address.\\n\\nTo edit the filter, simply drag and drop input data into the fields or change the values directly. **Besides filters, n8n has other powerful transformation nodes like [Set](https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.set/?utm_source=n8n_app&utm_medium=node_settings_modal-credential_link&utm_campaign=n8n-nodes-base.set), [ItemList](https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.itemlists/?utm_source=n8n_app&utm_medium=node_settings_modal-credential_link&utm_campaign=n8n-nodes-base.itemLists), [Code](https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.code/?utm_source=n8n_app&utm_medium=node_settings_modal-credential_link&utm_campaign=n8n-nodes-base.code) and many more.**\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"448e2c49-aa75-405b-ba51-3acbce0fb758\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1340,\n        460\n      ],\n      \"parameters\": {\n        \"width\": 342.52886836027733,\n        \"height\": 407.43618112665195,\n        \"content\": \"### 3. Save the user in a Google Sheet\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nFor simplicity, we're saving our qualified user in a Google Sheet.\\n\\n**You can replace this node with any service like [Excel](https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.microsoftexcel/?utm_source=n8n_app&utm_medium=node_settings_modal-credential_link&utm_campaign=n8n-nodes-base.microsoftExcel), [HubSpot](https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.hubspot/?utm_source=n8n_app&utm_medium=node_settings_modal-credential_link&utm_campaign=n8n-nodes-base.hubspot), [Pipedrive](https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.pipedrive/?utm_source=n8n_app&utm_medium=node_settings_modal-credential_link&utm_campaign=n8n-nodes-base.pipedrive), [Zendesk](https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.zendesk/?utm_source=n8n_app&utm_medium=node_settings_modal-credential_link&utm_campaign=n8n-nodes-base.zendesk) etc.**\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"c0ee182d-4c31-488b-a547-5f2d2ba8786e\",\n      \"name\": \"On clicking \\\"Execute Node\\\"\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"notes\": \"For testing the workflow\",\n      \"position\": [\n        500,\n        680\n      ],\n      \"parameters\": {},\n      \"notesInFlow\": true,\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"87f2a11e-f704-4c9e-ac8b-ee1f057cd347\",\n      \"name\": \"Code\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"notes\": \"Mock Data\",\n      \"position\": [\n        680,\n        680\n      ],\n      \"parameters\": {\n        \"jsCode\": \"return [\\n  {\\n    \\\"id\\\": 1,\\n    \\\"username\\\": \\\"max_mustermann\\\",\\n    \\\"email\\\": \\\"max_mustermann@acme.com\\\",\\n    \\\"company_size\\\": \\\"500-999\\\",\\n    \\\"role\\\": \\\"Sales\\\",\\n    \\\"users\\\": 50\\n  }\\n]\"\n      },\n      \"notesInFlow\": true,\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"0992077f-b6d3-47d2-94d2-c612dfbf5062\",\n      \"name\": \"Google Sheets\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"notes\": \"Add to \\\"Users to contact\\\"\",\n      \"position\": [\n        1400,\n        540\n      ],\n      \"parameters\": {\n        \"columns\": {\n          \"value\": {\n            \"id\": \"={{ $json.id }}\",\n            \"email\": \"={{ $json.email }}\",\n            \"username\": \"={{ $json.username }}\"\n          },\n          \"schema\": [\n            {\n              \"id\": \"id\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"id\",\n              \"defaultMatch\": true,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"username\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"username\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"email\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"email\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"contacted\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": true,\n              \"required\": false,\n              \"displayName\": \"contacted\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": [\n            \"id\"\n          ]\n        },\n        \"options\": {\n          \"cellFormat\": \"USER_ENTERED\"\n        },\n        \"operation\": \"appendOrUpdate\",\n        \"sheetName\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gid=0\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1gVfyernVtgYXD-oPboxOSJYQ-HEfAguEryZ7gTtK0V8/edit#gid=0\",\n          \"cachedResultName\": \"Sheet1\"\n        },\n        \"documentId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"1gVfyernVtgYXD-oPboxOSJYQ-HEfAguEryZ7gTtK0V8\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1gVfyernVtgYXD-oPboxOSJYQ-HEfAguEryZ7gTtK0V8/edit?usp=drivesdk\",\n          \"cachedResultName\": \"Qualified leads to contact\"\n        }\n      },\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"9\",\n          \"name\": \"Google Sheets account\"\n        }\n      },\n      \"notesInFlow\": true,\n      \"typeVersion\": 4\n    }\n  ],\n  \"connections\": {\n    \"Code\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Filter\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Filter\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Google Sheets\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Postgres Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Filter\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"On clicking \\\"Execute Node\\\"\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Code\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.postgresTrigger",
      "n8n-nodes-base.filter",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.manualTrigger",
      "n8n-nodes-base.code",
      "n8n-nodes-base.googleSheets"
    ],
    "trigger": "postgres trigger"
  }
}