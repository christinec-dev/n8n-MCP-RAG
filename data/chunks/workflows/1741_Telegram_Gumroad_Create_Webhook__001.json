{
  "source": "1741_Telegram_Gumroad_Create_Webhook.json",
  "index": 1,
  "content": "{\n  \"id\": \"W1xEzKKEd1qV2D7V\",\n  \"meta\": {\n    \"instanceId\": \"dfec462482c1b16c8ef1928d51584c7f0ae64b3bfaa72e08675b15754b903bd2\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"name\": \"2. Add Beehiiv newsletter subscribers from Gumroad sales\",\n  \"tags\": [\n    {\n      \"id\": \"IQNCfEb2qHXxw7NO\",\n      \"name\": \"template\",\n      \"createdAt\": \"2025-04-26T14:50:39.694Z\",\n      \"updatedAt\": \"2025-04-26T14:50:39.694Z\"\n    },\n    {\n      \"id\": \"K4VMFA2Vwk2LRKCu\",\n      \"name\": \"1node\",\n      \"createdAt\": \"2025-04-26T11:57:21.772Z\",\n      \"updatedAt\": \"2025-04-26T11:57:21.772Z\"\n    },\n    {\n      \"id\": \"mAtRn7JRKGsmOL3v\",\n      \"name\": \"gumroad\",\n      \"createdAt\": \"2025-04-26T11:57:16.167Z\",\n      \"updatedAt\": \"2025-04-26T11:57:16.167Z\"\n    }\n  ],\n  \"nodes\": [\n    {\n      \"id\": \"18e8530e-d04f-47d4-b406-b2961d45f1c1\",\n      \"name\": \"Gumroad Sale Trigger\",\n      \"type\": \"n8n-nodes-base.gumroadTrigger\",\n      \"position\": [\n        -380,\n        -280\n      ],\n      \"webhookId\": \"98ba7c08-2193-4ddf-9249-af7899716925\",\n      \"parameters\": {\n        \"resource\": \"sale\"\n      },\n      \"credentials\": {\n        \"gumroadApi\": {\n          \"id\": \"wgjGSvLjsRBJImsQ\",\n          \"name\": \"Gumroad account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"6e464a73-a5c0-4a5d-95ce-c3cc2547a373\",\n      \"name\": \"append row in CRM\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        300,\n        -280\n      ],\n      \"parameters\": {\n        \"columns\": {\n          \"value\": {\n            \"date\": \"={{ $('Gumroad Sale Trigger').item.json.sale_timestamp }}\",\n            \"email\": \"={{ $('Gumroad Sale Trigger').item.json.email }}\",\n            \"country\": \"={{ $('Gumroad Sale Trigger').item.json.ip_country }}\",\n            \"product name\": \"={{ $('Gumroad Sale Trigger').item.json.product_name }}\"\n          },\n          \"schema\": [\n            {\n              \"id\": \"date\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"date\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"product name\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"product name\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"email\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"email\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"country\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"country\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": [],\n          \"attemptToConvertTypes\": false,\n          \"convertFieldsToString\": false\n        },\n        \"options\": {},\n        \"operation\": \"append\",\n        \"sheetName\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gid=0\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1XYMstoZ4j3O5T-UYz21ky7P5bkUtzYXQGYCQTRVWCI4/edit#gid=0\",\n          \"cachedResultName\": \"Sheet1\"\n        },\n        \"documentId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"1XYMstoZ4j3O5T-UYz21ky7P5bkUtzYXQGYCQTRVWCI4\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1XYMstoZ4j3O5T-UYz21ky7P5bkUtzYXQGYCQTRVWCI4/edit?usp=drivesdk\",\n          \"cachedResultName\": \"Gumroad sales CRM\"\n        }\n      },\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"Ou2SgvNZctBeYWT5\",\n          \"name\": \"Google Sheets account\"\n        }\n      },\n      \"typeVersion\": 4.5\n    },\n    {\n      \"id\": \"1f1b0840-0da9-4118-96d5-62a1a36f902b\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -560,\n        -580\n      ],\n      \"parameters\": {\n        \"width\": 320,\n        \"height\": 460,\n        \"content\": \"## Trigger on a new Gumroad sale\\n### Requirements\\n- A [Gumroad]() account\\n- A product listed. We used ours [here](https://1node.gumroad.com/l/topaitools)\\n- Head to Settings > Advanced, and create a new application\\n\\n### Set up\\n- Paste your access token on this Gumroad sale trigger\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"35f93009-1960-4cde-bfa6-dc7dfed5e194\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -220,\n        -500\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 400,\n        \"height\": 380,\n        \"content\": \"## Connection to [Beehiiv](https://www.beehiiv.com?via=1node-ai) newsletter \\n### Requirements\\n- A [Beehiiv](https://www.beehiiv.com?via=1node-ai) account\\n- A publication created\\n- Generate a new API\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"bbfcab7c-92fa-4a23-abc2-480c286905ac\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        200,\n        -540\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 320,\n        \"height\": 420,\n        \"content\": \"## Load into CRM\\n### Requirements\\n- Set up your api and credentials for Google Sheets. You can find the n8n docs [here](https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.googlesheets/?utm_source=n8n_app&utm_medium=node_settings_modal-credential_link&utm_campaign=n8n-nodes-base.googleSheets)\\n- Append the row to your table with your desired data collected previously\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"46a7cfcf-a042-4fe3-9f76-62eb46ecbbd0\",\n      \"name\": \"List publications\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        -160,\n        -280\n      ],\n      \"parameters\": {\n        \"url\": \"https://api.beehiiv.com/v2/publications\",\n        \"options\": {},\n        \"authentication\": \"genericCredentialType\",\n        \"genericAuthType\": \"httpHeaderAuth\"\n      },\n      \"credentials\": {\n        \"httpBearerAuth\": {\n          \"id\": \"ZcZlbMhodQQpmBk3\",\n          \"name\": \"Bearer Beehiiv\"\n        },\n        \"httpHeaderAuth\": {\n          \"id\": \"Qvu08SMoEOK2V2xB\",\n          \"name\": \"Beehiiv newsletter\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"ab7bede8-0019-4cb4-ad16-b9ccbbe8b15a\",\n      \"name\": \"Post subscription\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        20,\n        -280\n      ],\n      \"parameters\": {\n        \"url\": \"=https://api.beehiiv.com/v2/publications/{{ $json.data[0].id }}/subscriptions\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"sendBody\": true,\n        \"authentication\": \"genericCredentialType\",\n        \"bodyParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"email\",\n              \"value\": \"={{ $('Gumroad Sale Trigger').item.json.email }}\"\n            }\n          ]\n        },\n        \"genericAuthType\": \"httpHeaderAuth\"\n      },\n      \"credentials\": {\n        \"httpHeaderAuth\": {\n          \"id\": \"Qvu08SMoEOK2V2xB\",\n          \"name\": \"Beehiiv newsletter\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"cafb7301-06fe-49f9-a033-434459b181e5\",\n      \"name\": \"Notify in channel\",\n      \"type\": \"n8n-nodes-base.telegram\",\n      \"position\": [\n        760,\n        -280\n      ],\n      \"webhookId\": \"16dedd5e-7f93-45fb-8add-2928a53f125f\",\n      \"parameters\": {\n        \"text\": \"=ðŸ”” New Gumroad sale!\\nProduct: {{ $('Gumroad Sale Trigger').item.json.product_name }} \\nEmail: {{ $('Gumroad Sale Trigger').item.json.email }} \\nCountry: {{ $('Gumroad Sale Trigger').item.json.ip_country }}\",\n        \"chatId\": \"={{ $json.telegramChatId }}\",\n        \"additionalFields\": {\n          \"appendAttribution\": false\n        }\n      },\n      \"credentials\": {\n        \"telegramApi\": {\n          \"id\": \"TbJJ7DHhEE1GwKQQ\",\n          \"name\": \"Telegram account\"\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"912c8a8f-074e-486f-b337-b828ae19b6af\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        540,\n        -440\n      ],\n      \"parameters\": {\n        \"width\": 360,\n        \"height\": 320,\n        \"content\": \"## Notify team in Telegram\\nSet up your Telegram bot and add to a channel as admin to notify everyone about the updates.\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"5613a93b-f5ae-4478-86a8-4ea87ac5b9bd\",\n      \"name\": \"Set ChatID\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        580,\n        -280\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"089c1b05-3ac3-419e-a25e-e98d0b7fa49c\",\n              \"name\": \"telegramChatId\",\n              \"type\": \"string\",\n              \"value\": \"<your chat id>\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    }\n  ],\n  \"active\": true,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"34946f82-9af3-4e1b-bf98-67fb4c55a26c\",\n  \"connections\": {\n    \"Set ChatID\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Notify in channel\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"List publications\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Post subscription\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Post subscription\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"append row in CRM\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"append row in CRM\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set ChatID\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Gumroad Sale Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"List publications\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.gumroadTrigger",
      "n8n-nodes-base.googleSheets",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.telegram",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.set"
    ],
    "trigger": "gumroad sale trigger"
  }
}