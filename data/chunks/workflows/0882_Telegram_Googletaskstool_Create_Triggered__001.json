{
  "source": "0882_Telegram_Googletaskstool_Create_Triggered.json",
  "index": 1,
  "content": "{\n  \"meta\": {\n    \"instanceId\": \"be27b2af86ae3a5dc19ef2a1947644c0aec45fd8c88f29daa7dea6f0ce537691\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"nodes\": [\n    {\n      \"id\": \"ca8b122d-1739-4377-ac99-e20dd2341342\",\n      \"name\": \"Incoming Message\",\n      \"type\": \"n8n-nodes-base.telegramTrigger\",\n      \"position\": [\n        -1020,\n        -320\n      ],\n      \"webhookId\": \"75921955-c8ed-4ff6-8de2-e436c6bbe69d\",\n      \"parameters\": {\n        \"updates\": [\n          \"message\"\n        ],\n        \"additionalFields\": {}\n      },\n      \"credentials\": {\n        \"telegramApi\": {\n          \"id\": \"ayMpCvQ69GjrbPdP\",\n          \"name\": \"gatu_pa_bot\"\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"68f7568b-e677-454b-a1e8-6c07a05e7570\",\n      \"name\": \"MCP Server Trigger\",\n      \"type\": \"@n8n/n8n-nodes-langchain.mcpTrigger\",\n      \"position\": [\n        -860,\n        240\n      ],\n      \"webhookId\": \"562ffc95-cf8e-4d4d-8f5b-29b3ff22d5ee\",\n      \"parameters\": {\n        \"path\": \"562ffc95-cf8e-4d4d-8f5b-29b3ff22d5ee\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"635b8ecc-0f50-477d-8e19-631f868e30f6\",\n      \"name\": \"AI Agent\",\n      \"type\": \"@n8n/n8n-nodes-langchain.agent\",\n      \"position\": [\n        340,\n        -320\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"systemMessage\": \"=You are a helpful assistant. Whenever askes to update a task, call the get_tasks tools first to retrieve the appropriate task ids then use that to update the tasks.\\n\\nToday's date: {{ $now }}\\n\"\n        }\n      },\n      \"typeVersion\": 1.8\n    },\n    {\n      \"id\": \"ab7740dc-bac2-4044-8317-40d90252d992\",\n      \"name\": \"MCP Client\",\n      \"type\": \"@n8n/n8n-nodes-langchain.mcpClientTool\",\n      \"position\": [\n        540,\n        -100\n      ],\n      \"parameters\": {\n        \"sseEndpoint\": \"https://ai.gatuservices.info/mcp/562ffc95-cf8e-4d4d-8f5b-29b3ff22d5ee/sse\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"5298eee0-747a-496a-a3a2-e395f7c1caa1\",\n      \"name\": \"OpenAI Chat Model\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\n      \"position\": [\n        300,\n        -100\n      ],\n      \"parameters\": {\n        \"model\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gpt-4o-mini\"\n        },\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"lcpI0YZU9bebg3uW\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"c5b7e10d-2d7c-403c-bcb5-a10033252f97\",\n      \"name\": \"Simple Memory\",\n      \"type\": \"@n8n/n8n-nodes-langchain.memoryBufferWindow\",\n      \"position\": [\n        420,\n        -100\n      ],\n      \"parameters\": {\n        \"sessionKey\": \"={{ $('Incoming Message').item.json.message.from.id }}\",\n        \"sessionIdType\": \"customKey\",\n        \"contextWindowLength\": 20\n      },\n      \"typeVersion\": 1.3\n    },\n    {\n      \"id\": \"06d2e8c8-3912-45cd-a074-4eea27c2e5eb\",\n      \"name\": \"chatInput\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        80,\n        -220\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"ab70dc2d-35d0-4742-988f-ed7077633467\",\n              \"name\": \"chatInput\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.message.text }}\"\n            },\n            {\n              \"id\": \"6439fc2c-dc2d-41fc-b8a3-b33ef80d2878\",\n              \"name\": \"id\",\n              \"type\": \"number\",\n              \"value\": \"={{ $json.message.from.id }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"a9309816-8c1d-435c-ad49-2e45053718c1\",\n      \"name\": \"create_todays_task\",\n      \"type\": \"n8n-nodes-base.googleTasksTool\",\n      \"position\": [\n        -1020,\n        460\n      ],\n      \"parameters\": {\n        \"task\": \"MDg2MzM1OTA5NzI0NzUzNjUwNjc6MDow\",\n        \"title\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Title', `Title summary of the task to be done`, 'string') }}\",\n        \"additionalFields\": {\n          \"notes\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Notes', `Detailed description of the task`, 'string') }}\",\n          \"dueDate\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Due_Date', `Date the task should be completed`, 'string') }}\",\n          \"completed\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Completion_Date', `Date the task was completed`, 'string') }}\"\n        }\n      },\n      \"credentials\": {\n        \"googleTasksOAuth2Api\": {\n          \"id\": \"8sBGA2BWJuF6SObU\",\n          \"name\": \"Connected Account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"ad6cfc1a-7094-434a-98d1-a6f030067091\",\n      \"name\": \"chatOutput\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        740,\n        -320\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"df6bd510-e63f-41b1-b5b4-d2c612d5b8d0\",\n              \"name\": \"chatOutput\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.output }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"e342066f-3cf8-4926-94df-798e831226be\",\n      \"name\": \"sendMessage\",\n      \"type\": \"n8n-nodes-base.telegram\",\n      \"position\": [\n        960,\n        -320\n      ],\n      \"webhookId\": \"c5eb133f-338f-4918-8e49-83ac339d841b\",\n      \"parameters\": {\n        \"text\": \"={{ $json.chatOutput }}\",\n        \"chatId\": \"={{ $('Incoming Message').item.json.message.chat.id }}\",\n        \"additionalFields\": {\n          \"appendAttribution\": false,\n          \"disable_notification\": false\n        }\n      },\n      \"credentials\": {\n        \"telegramApi\": {\n          \"id\": \"ayMpCvQ69GjrbPdP\",\n          \"name\": \"gatu_pa_bot\"\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"e4a1bc16-549f-46a2-92a8-a06e6023089c\",\n      \"name\": \"create_upcoming_task\",\n      \"type\": \"n8n-nodes-base.googleTasksTool\",\n      \"position\": [\n        -900,\n        460\n      ],\n      \"parameters\": {\n        \"task\": \"OFVvNlh6ZmhScHVvNll4dw\",\n        \"title\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Title', `Title summary of the task to be done`, 'string') }}\",\n        \"additionalFields\": {\n          \"notes\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Notes', `Detailed description of the task`, 'string') }}\",\n          \"dueDate\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Due_Date', `Date the task should be completed`, 'string') }}\",\n          \"completed\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Completion_Date', `Date the task was completed`, 'string') }}\"\n        }\n      },\n      \"credentials\": {\n        \"googleTasksOAuth2Api\": {\n          \"id\": \"8sBGA2BWJuF6SObU\",\n          \"name\": \"Connected Account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"df71bb02-016d-4d56-b80d-404a60c0e7cf\",\n      \"name\": \"complete_task\",\n      \"type\": \"n8n-nodes-base.googleTasksTool\",\n      \"position\": [\n        -780,\n        460\n      ],\n      \"parameters\": {\n        \"task\": \"RS1rbkNCS2JsdVFnVl80cg\",\n        \"taskId\": \"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Task_ID', `The task id tom be marked as completed. Get it from the get tasks tool`, 'string') }}\",\n        \"operation\": \"update\",\n        \"updateFields\": {}\n      },\n      \"credentials\": {\n        \"googleTasksOAuth2Api\": {\n          \"id\": \"8sBGA2BWJuF6SObU\",\n          \"name\": \"Connected Account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"a33812bd-986e-4762-87a0-199ff8a7c9aa\",\n      \"name\": \"get_todays_tasks\",\n      \"type\": \"n8n-nodes-base.googleTasksTool\",\n      \"position\": [\n        -660,\n        460\n      ],\n      \"parameters\": {\n        \"task\": \"MDg2MzM1OTA5NzI0NzUzNjUwNjc6MDow\",\n        \"operation\": \"getAll\",\n        \"returnAll\": true,\n        \"additionalFields\": {}\n      },\n      \"credentials\": {\n        \"googleTasksOAuth2Api\": {\n          \"id\": \"8sBGA2BWJuF6SObU\",\n          \"name\": \"Connected Account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"dcb3a6c9-5d7c-4fe6-8b52-f07cf74cfa0c\",\n      \"name\": \"get_upcoming_tasks\",\n      \"type\": \"n8n-nodes-base.googleTasksTool\",\n      \"position\": [\n        -540,\n        460\n      ],\n      \"parameters\": {\n        \"task\": \"OFVvNlh6ZmhScHVvNll4dw\",\n        \"operation\": \"getAll\",\n        \"returnAll\": true,\n        \"additionalFields\": {}\n      },\n      \"credentials\": {\n        \"googleTasksOAuth2Api\": {\n          \"id\": \"8sBGA2BWJuF6SObU\",\n          \"name\": \"Connected Account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"ce63c24a-ce2f-4e06-8ae5-7de75540d438\",\n      \"name\": \"Switch\",\n      \"type\": \"n8n-nodes-base.switch\",\n      \"position\": [\n        -800,\n        -320\n      ],\n      \"parameters\": {\n        \"rules\": {\n          \"values\": [\n            {\n              \"outputKey\": \"Voice Note\",\n              \"conditions\": {\n                \"options\": {\n                  \"version\": 2,\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"id\": \"8415cc8d-65a2-448e-a106-1ceb54634dfd\",\n                    \"operator\": {\n                      \"type\": \"object\",\n                      \"operation\": \"exists\",\n                      \"singleValue\": true\n                    },\n                    \"leftValue\": \"={{ $json.message.voice }}\",\n                    \"rightValue\": \"\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            }\n          ]\n        },\n        \"options\": {\n          \"fallbackOutput\": \"extra\"\n        }\n      },\n      \"typeVersion\": 3.2\n    },\n    {\n      \"id\": \"a58488c3-38b8-4492-9f13-a900c7697812\",\n      \"name\": \"audio_id\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        -580,\n        -420\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"eb7f5d62-e4f3-4b4e-9f1b-6c329feafb3e\",\n              \"name\": \"file_id\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.message.voice.file_id }}\"\n            },\n            {\n              \"id\": \"803031b8-6b21-47fa-b339-ad674ccbbb1e\",\n              \"name\": \"file_unique_id\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.message.voice.file_unique_id }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"83c2ecae-b601-4669-b820-b5c35d3f936e\",\n      \"name\": \"download_audio\",\n      \"type\": \"n8n-nodes-base.telegram\",\n      \"position\": [\n        -360,\n        -420\n      ],\n      \"webhookId\": \"c2dbc0eb-0f3a-4f11-9525-804bd5bef4b1\",\n      \"parameters\": {\n        \"fileId\": \"={{ $json.file_id }}\",\n        \"resource\": \"file\"\n      },\n      \"credentials\": {\n        \"telegramApi\": {\n          \"id\": \"ayMpCvQ69GjrbPdP\",\n          \"name\": \"gatu_pa_bot\"\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"4a496e3a-2e3a-4ce0-9344-192847de1760\",\n      \"name\": \"transcribeAudio\",\n      \"type\": \"@n8n/n8n-nodes-langchain.openAi\",\n      \"position\": [\n        -140,\n        -420\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"resource\": \"audio\",\n        \"operation\": \"transcribe\"\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"lcpI0YZU9bebg3uW\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 1.8\n    },\n    {\n      \"id\": \"38b6aa37-d279-4b1b-be42-7f7cc1bbe688\",\n      \"name\": \"audioInput\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        80,\n        -420\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"d57b4fc2-10f7-46cd-a89c-0021a92f41d1\",\n              \"name\": \"chatInput\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.text }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"e524f12f-205f-4fc8-b2f0-b308ec4066b7\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -1060,\n        -500\n      ],\n      \"parameters\": {\n        \"color\": 4,\n        \"width\": 2180,\n        \"height\": 540,\n        \"content\": \"## Main Function to Receive and Send Telegram Messages\\n\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"709b252a-b5e8-4c7e-8bcd-a7092d588070\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -1060,\n        140\n      ],\n      \"parameters\": {\n        \"color\": 3,\n        \"width\": 640,\n        \"height\": 480,\n        \"content\": \"## MCP Server to Carry Out Actions\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"pinData\": {\n    \"Incoming Message\": [\n      {\n        \"message\": {\n          \"chat\": {\n            \"id\": 6043747866,\n            \"type\": \"private\",\n            \"first_name\": \"Gatu\"\n          },\n          \"date\": 1745294191,\n          \"from\": {\n            \"id\": 6043747866,\n            \"is_bot\": false,\n            \"first_name\": \"Gatu\",\n            \"language_code\": \"en\"\n          },\n          \"voice\": {\n            \"file_id\": \"AwACAgQAAxkBAAMYaAcTb6Sm3bpJ_8Cc2q1q4vC7MLYAAg8ZAAJAOjlQQhWQOxUBqfU2BA\",\n            \"duration\": 2,\n            \"file_size\": 9854,\n            \"mime_type\": \"audio/ogg\",\n            \"file_unique_id\": \"AgADDxkAAkA6OVA\"\n          },\n          \"message_id\": 24\n        },\n        \"update_id\": 656804764\n      }\n    ]\n  },\n  \"connections\": {\n    \"Switch\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"audio_id\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"chatInput\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"AI Agent\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"chatOutput\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"audio_id\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"download_audio\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"chatInput\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"AI Agent\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"MCP Client\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"AI Agent\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"audioInput\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"AI Agent\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"chatOutput\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"sendMessage\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Simple Memory\": {\n      \"ai_memory\": [\n        [\n          {\n            \"node\": \"AI Agent\",\n            \"type\": \"ai_memory\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"complete_task\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"MCP Server Trigger\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"download_audio\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"transcribeAudio\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"transcribeAudio\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"audioInput\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Incoming Message\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Switch\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"get_todays_tasks\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"MCP Server Trigger\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"OpenAI Chat Model\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"AI Agent\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"create_todays_task\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"MCP Server Trigger\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"get_upcoming_tasks\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"MCP Server Trigger\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"create_upcoming_task\": {\n      \"ai_tool\": [\n        [\n          {\n            \"node\": \"MCP Server Trigger\",\n            \"type\": \"ai_tool\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.telegramTrigger",
      "@n8n/n8n-nodes-langchain.mcpTrigger",
      "@n8n/n8n-nodes-langchain.agent",
      "@n8n/n8n-nodes-langchain.mcpClientTool",
      "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "n8n-nodes-base.set",
      "n8n-nodes-base.googleTasksTool",
      "n8n-nodes-base.set",
      "n8n-nodes-base.telegram",
      "n8n-nodes-base.googleTasksTool",
      "n8n-nodes-base.googleTasksTool",
      "n8n-nodes-base.googleTasksTool",
      "n8n-nodes-base.googleTasksTool",
      "n8n-nodes-base.switch",
      "n8n-nodes-base.set",
      "n8n-nodes-base.telegram",
      "@n8n/n8n-nodes-langchain.openAi",
      "n8n-nodes-base.set",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote"
    ],
    "trigger": "mcp server trigger"
  }
}