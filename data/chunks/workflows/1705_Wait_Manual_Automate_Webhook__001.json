{
  "source": "1705_Wait_Manual_Automate_Webhook.json",
  "index": 1,
  "content": "{\n  \"id\": \"Tygtx1aZi9pLdtUo\",\n  \"meta\": {\n    \"instanceId\": \"8418cffce8d48086ec0a73fd90aca708aa07591f2fefa6034d87fe12a09de26e\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"name\": \"Fully automated Video Captions generation with json2video\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"38e862a1-dc25-4a41-b0e1-5ebba1032e0a\",\n      \"name\": \"When clicking ‘Test workflow’\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        -980,\n        -280\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"834ac32d-4bef-4087-87af-590cd200a858\",\n      \"name\": \"json2video - Add Captions\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        -540,\n        -280\n      ],\n      \"parameters\": {\n        \"url\": \"https://api.json2video.com/v2/movies\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"jsonBody\": \"={\\n  \\\"id\\\": \\\"qbaasr7s\\\",\\n  \\\"resolution\\\": \\\"custom\\\",\\n  \\\"quality\\\": \\\"high\\\",\\n\\\"scenes\\\": [\\n    {\\n      \\\"id\\\": \\\"qyjh9lwj\\\",\\n      \\\"comment\\\": \\\"Scene 1\\\",\\n      \\\"elements\\\": []\\n    }\\n  ],\\n  \\\"elements\\\": [\\n    {\\n      \\\"id\\\": \\\"q6dznzcv\\\",\\n      \\\"type\\\": \\\"video\\\",\\n      \\\"src\\\": \\\"{{ $json.video_url }}\\\"\\n    },\\n    {\\n      \\\"id\\\": \\\"q41n9kxp\\\",\\n      \\\"type\\\": \\\"subtitles\\\",\\n      \\\"settings\\\": {\\n        \\\"style\\\": \\\"classic-progressive\\\",\\n        \\\"font-family\\\": \\\"Oswald\\\",\\n        \\\"font-size\\\": 140,\\n        \\\"word-color\\\": \\\"#FCF5C9\\\",\\n        \\\"shadow-color\\\": \\\"#260B1B\\\",\\n        \\\"line-color\\\": \\\"#F1E7F4\\\",\\n        \\\"shadow-offset\\\": 2,\\n        \\\"box-color\\\": \\\"#260B1B\\\"\\n      },\\n      \\\"language\\\": \\\"en\\\"\\n    }\\n  ],\\n  \\\"width\\\": {{ $json.width }},\\n  \\\"height\\\": {{ $json.height }}\\n}\",\n        \"sendBody\": true,\n        \"specifyBody\": \"json\",\n        \"authentication\": \"genericCredentialType\",\n        \"genericAuthType\": \"httpCustomAuth\"\n      },\n      \"credentials\": {\n        \"httpCustomAuth\": {\n          \"id\": \"FVrj0WeCT9IosZhh\",\n          \"name\": \"json2video\"\n        },\n        \"httpHeaderAuth\": {\n          \"id\": \"TngzgS09J1YvLIXl\",\n          \"name\": \"Perplexity\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"93e98e02-a7e5-40d2-93a8-06c1ba3c4fb5\",\n      \"name\": \"Config\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        -780,\n        -280\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"408b70d1-30ea-4f88-847d-97c59e467168\",\n              \"name\": \"video_url\",\n              \"type\": \"string\",\n              \"value\": \"https://aiatelier.s3.eu-west-1.amazonaws.com/workflows-material/json2video/captions-sample.mp4\"\n            },\n            {\n              \"id\": \"e54d0b14-3261-4d8c-83ac-b63a37981257\",\n              \"name\": \"width\",\n              \"type\": \"string\",\n              \"value\": \"1080\"\n            },\n            {\n              \"id\": \"70a87f6b-8cf1-48b0-96bf-b7a8aa5bc6da\",\n              \"name\": \"height\",\n              \"type\": \"string\",\n              \"value\": \"1920\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"d3b6d3f3-d3ca-455d-929c-ffb869bd23d8\",\n      \"name\": \"Wait\",\n      \"type\": \"n8n-nodes-base.wait\",\n      \"position\": [\n        -180,\n        -220\n      ],\n      \"webhookId\": \"f50b5765-4a91-415d-ba27-cfda281dc941\",\n      \"parameters\": {\n        \"amount\": 10\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"07099d4c-6012-4447-8720-af8e75521e24\",\n      \"name\": \"Is Error\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        180,\n        -240\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"a9813eb6-0dbf-41ac-837f-8f2760cbc5e3\",\n              \"operator\": {\n                \"type\": \"string\",\n                \"operation\": \"equals\"\n              },\n              \"leftValue\": \"={{ $json.movie.status }}\",\n              \"rightValue\": \"error\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"a94a6b24-4674-42ac-8db4-6e9298b44b7d\",\n      \"name\": \"Handle Error\",\n      \"type\": \"n8n-nodes-base.noOp\",\n      \"position\": [\n        420,\n        -380\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"cd6bba4e-b329-4476-b983-248bb8e4423a\",\n      \"name\": \"Output\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        460,\n        20\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"c7ce3d37-6455-407a-bf57-286d91c16f97\",\n              \"name\": \"url\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.movie.url }}\"\n            },\n            {\n              \"id\": \"e969f3bd-2c36-43f6-9fc3-a66a0424ec20\",\n              \"name\": \"duration\",\n              \"type\": \"number\",\n              \"value\": \"={{ $json.movie.duration }}\"\n            },\n            {\n              \"id\": \"a5f9b903-40c0-432e-b030-5a1fdea844db\",\n              \"name\": \"size\",\n              \"type\": \"number\",\n              \"value\": \"={{ $json.movie.size }}\"\n            },\n            {\n              \"id\": \"660565f1-8da7-4c2f-a5e0-b62130aef7cb\",\n              \"name\": \"width\",\n              \"type\": \"number\",\n              \"value\": \"={{ $json.movie.width }}\"\n            },\n            {\n              \"id\": \"5e2a9144-45e5-40f2-b71e-d74b25890ab6\",\n              \"name\": \"height\",\n              \"type\": \"number\",\n              \"value\": \"={{ $json.movie.height }}\"\n            },\n            {\n              \"id\": \"601f8514-61f5-4cea-9b64-373881e3c879\",\n              \"name\": \"rendering_time\",\n              \"type\": \"number\",\n              \"value\": \"={{ $json.movie.rendering_time }}\"\n            },\n            {\n              \"id\": \"2b7812f9-1e44-4843-b2ca-051b54153051\",\n              \"name\": \"project\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.movie.project }}\"\n            },\n            {\n              \"id\": \"1b562ac3-e62b-4d67-adab-2af0d15fd11e\",\n              \"name\": \"remaining_quota\",\n              \"type\": \"number\",\n              \"value\": \"={{ $json.remaining_quota.time }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"378e027a-b033-4490-93e6-666d3d7def86\",\n      \"name\": \"json2video - Get Status\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        0,\n        -180\n      ],\n      \"parameters\": {\n        \"url\": \"=https://api.json2video.com/v2/movies?id={{ $('json2video - Add Captions').first().json.project }}\",\n        \"options\": {},\n        \"authentication\": \"genericCredentialType\",\n        \"genericAuthType\": \"httpCustomAuth\"\n      },\n      \"credentials\": {\n        \"httpCustomAuth\": {\n          \"id\": \"FVrj0WeCT9IosZhh\",\n          \"name\": \"json2video\"\n        },\n        \"httpHeaderAuth\": {\n          \"id\": \"TngzgS09J1YvLIXl\",\n          \"name\": \"Perplexity\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"a818a3a6-4cef-4043-ac3e-96fa3f54373d\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -260,\n        -300\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 640,\n        \"height\": 580,\n        \"content\": \"## Check video status\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"7258a9ec-591f-4b07-840c-3171c36f193e\",\n      \"name\": \"is Completed\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        200,\n        40\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"2643b070-cbb2-4562-9269-a61389e0c242\",\n              \"operator\": {\n                \"name\": \"filter.operator.equals\",\n                \"type\": \"string\",\n                \"operation\": \"equals\"\n              },\n              \"leftValue\": \"={{ $json.movie.status }}\",\n              \"rightValue\": \"done\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"cbce69e0-730c-46ea-bd0a-b8694bd7780d\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -1700,\n        -480\n      ],\n      \"parameters\": {\n        \"width\": 640,\n        \"height\": 820,\n        \"content\": \"# Automatically Generate Captions for Your Videos with json2video\\n\\nThis workflow automatically adds captions to your videos using [json2video](https://json2video.com/?afco=manu), a powerful service for video automation, that integrates seamlessly with n8n.\\n\\n# [👉🏻 Try json2video for free 👈🏻](https://json2video.com/?afco=manu)\\n\\n## Setup\\n\\n### Step 1: Create a json2video Account & API Key\\n1. Sign up for a [json2video account](https://json2video.com/?afco=manu).\\n2. Once registered, you will receive your API key via email.\\n\\n### Step 2: Create n8n Credentials\\n1. In n8n, create new credentials and select **\\\"Custom Auth\\\"** as the type.\\n2. Paste the following JSON code into the credentials configuration, replacing `\\\"your-json2video-api-key\\\"` with your actual API key:\\n\\n    ```json\\n    {\\n      \\\"headers\\\": {\\n        \\\"x-api-key\\\": \\\"your-json2video-api-key\\\"\\n      }\\n    }\\n    ```\\n\\n### Step 3: Connect Your Credentials\\n1. In your n8n workflow, locate the two HTTP nodes that interact with json2video.\\n2. Select the credentials you created in Step 2 for both nodes.\\n\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"4ce3a85f-3abc-48e9-8840-f37f32490b62\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -760,\n        -120\n      ],\n      \"parameters\": {\n        \"width\": 440,\n        \"height\": 200,\n        \"content\": \"# ☝️ Provide Video Details\\n\\nFor the workflow to add captions, please provide:\\n\\n- **URL:** The link to your video.\\n- **Width & Height:** The dimensions of your video\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"5d8108e2-3f44-4585-9c25-f31f95f06424\",\n  \"connections\": {\n    \"Wait\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"json2video - Get Status\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Config\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"json2video - Add Captions\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Is Error\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Handle Error\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"is Completed\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"is Completed\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Output\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Wait\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"json2video - Get Status\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Is Error\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"json2video - Add Captions\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Wait\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When clicking ‘Test workflow’\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Config\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.manualTrigger",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.set",
      "n8n-nodes-base.wait",
      "n8n-nodes-base.if",
      "n8n-nodes-base.noOp",
      "n8n-nodes-base.set",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.if",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote"
    ],
    "trigger": null
  }
}