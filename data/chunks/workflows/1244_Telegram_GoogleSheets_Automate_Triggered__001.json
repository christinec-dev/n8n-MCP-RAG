{
  "source": "1244_Telegram_GoogleSheets_Automate_Triggered.json",
  "index": 1,
  "content": "{\n  \"id\": \"A7dRnMf9WybO8O02\",\n  \"meta\": {\n    \"instanceId\": \"a4bfc93e975ca233ac45ed7c9227d84cf5a2329310525917adaf3312e10d5462\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"name\": \"Telegram ChatBot with multiple sessions\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"d3104851-90ec-4f0c-ab4d-aee5a6faf81b\",\n      \"name\": \"OpenAI Chat Model\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\n      \"position\": [\n        640,\n        1180\n      ],\n      \"parameters\": {\n        \"model\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gpt-4o-mini\"\n        },\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"4zwP0MSr8zkNvvV9\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"e25050a1-e49b-4b46-8452-ce7b3388c7f3\",\n      \"name\": \"Simple Memory\",\n      \"type\": \"@n8n/n8n-nodes-langchain.memoryBufferWindow\",\n      \"position\": [\n        780,\n        1180\n      ],\n      \"parameters\": {\n        \"sessionKey\": \"={{ $('Get session').item.json.SESSION }}\",\n        \"sessionIdType\": \"customKey\",\n        \"contextWindowLength\": 100\n      },\n      \"typeVersion\": 1.3\n    },\n    {\n      \"id\": \"d50951ae-e9a2-492c-8ff5-a039ca6975e4\",\n      \"name\": \"Get message\",\n      \"type\": \"n8n-nodes-base.telegramTrigger\",\n      \"position\": [\n        -520,\n        -60\n      ],\n      \"webhookId\": \"8d87dcf7-1608-4255-a1f1-03b700a42f0e\",\n      \"parameters\": {\n        \"updates\": [\n          \"message\"\n        ],\n        \"additionalFields\": {}\n      },\n      \"credentials\": {\n        \"telegramApi\": {\n          \"id\": \"rQ5q95W7uKesMDx4\",\n          \"name\": \"Telegram account Fastewb\"\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"1bc9aa0f-8af8-47b8-b7d7-6bfd9280b65f\",\n      \"name\": \"Command or text?\",\n      \"type\": \"n8n-nodes-base.switch\",\n      \"position\": [\n        -20,\n        -60\n      ],\n      \"parameters\": {\n        \"rules\": {\n          \"values\": [\n            {\n              \"outputKey\": \"New session\",\n              \"conditions\": {\n                \"options\": {\n                  \"version\": 2,\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"id\": \"955f3c39-0732-4a63-b3f7-70ab0753a68a\",\n                    \"operator\": {\n                      \"type\": \"string\",\n                      \"operation\": \"startsWith\"\n                    },\n                    \"leftValue\": \"={{ $('Get message').item.json.message.text }}\",\n                    \"rightValue\": \"/new\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            },\n            {\n              \"outputKey\": \"Current session\",\n              \"conditions\": {\n                \"options\": {\n                  \"version\": 2,\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"id\": \"790f64bc-f3cc-4ef4-9d43-80853742fee6\",\n                    \"operator\": {\n                      \"type\": \"string\",\n                      \"operation\": \"startsWith\"\n                    },\n                    \"leftValue\": \"={{ $('Get message').item.json.message.text }}\",\n                    \"rightValue\": \"/current\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            },\n            {\n              \"outputKey\": \"Resume session\",\n              \"conditions\": {\n                \"options\": {\n                  \"version\": 2,\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"id\": \"39f35352-aee4-4a16-b82f-7f58ab8120f0\",\n                    \"operator\": {\n                      \"type\": \"string\",\n                      \"operation\": \"startsWith\"\n                    },\n                    \"leftValue\": \"={{ $('Get message').item.json.message.text }}\",\n                    \"rightValue\": \"/resume\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            },\n            {\n              \"outputKey\": \"Summary \",\n              \"conditions\": {\n                \"options\": {\n                  \"version\": 2,\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"id\": \"270d71bf-8ecf-46e7-a601-cc5d1dc58e72\",\n                    \"operator\": {\n                      \"name\": \"filter.operator.equals\",\n                      \"type\": \"string\",\n                      \"operation\": \"equals\"\n                    },\n                    \"leftValue\": \"={{ $('Get message').item.json.message.text }}\",\n                    \"rightValue\": \"/summary\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            },\n            {\n              \"outputKey\": \"Question\",\n              \"conditions\": {\n                \"options\": {\n                  \"version\": 2,\n                  \"leftValue\": \"\",\n                  \"caseSensitive\": true,\n                  \"typeValidation\": \"strict\"\n                },\n                \"combinator\": \"and\",\n                \"conditions\": [\n                  {\n                    \"id\": \"55fe98fa-e39a-41b3-983f-359a8e730f21\",\n                    \"operator\": {\n                      \"type\": \"string\",\n                      \"operation\": \"startsWith\"\n                    },\n                    \"leftValue\": \"={{ $('Get message').item.json.message.text }}\",\n                    \"rightValue\": \"/question\"\n                  }\n                ]\n              },\n              \"renameOutput\": true\n            }\n          ]\n        },\n        \"options\": {\n          \"fallbackOutput\": \"extra\"\n        }\n      },\n      \"typeVersion\": 3.2\n    },\n    {\n      \"id\": \"4a405332-99a8-4ec9-84d5-89f9f5f1610f\",\n      \"name\": \"Get session\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        -260,\n        -60\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"returnFirstMatch\": true\n        },\n        \"filtersUI\": {\n          \"values\": [\n            {\n              \"lookupValue\": \"current\",\n              \"lookupColumn\": \"STATE\"\n            }\n          ]\n        },\n        \"sheetName\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": 207843712,\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1MCJLAqKP0Y7Qr68ZYoSSBeEVyKI1QgAAZnlEiyqkzXo/edit#gid=207843712\",\n          \"cachedResultName\": \"Session\"\n        },\n        \"documentId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"1MCJLAqKP0Y7Qr68ZYoSSBeEVyKI1QgAAZnlEiyqkzXo\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1MCJLAqKP0Y7Qr68ZYoSSBeEVyKI1QgAAZnlEiyqkzXo/edit?usp=drivesdk\",\n          \"cachedResultName\": \"Chatbot with session\"\n        }\n      },\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"JYR6a64Qecd6t8Hb\",\n          \"name\": \"Google Sheets account\"\n        }\n      },\n      \"typeVersion\": 4.5\n    },\n    {\n      \"id\": \"860fa8d5-6c9b-476b-857b-9c47a023d72f\",\n      \"name\": \"Disable previous session\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        640,\n        -760\n      ],\n      \"parameters\": {\n        \"columns\": {\n          \"value\": {\n            \"STATE\": \"expire\",\n            \"SESSION\": \"={{ $('Get session').item.json.SESSION }}\"\n          },\n          \"schema\": [\n            {\n              \"id\": \"SESSION\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"SESSION\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"STATE\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"STATE\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"row_number\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": true,\n              \"readOnly\": true,\n              \"required\": false,\n              \"displayName\": \"row_number\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": [\n            \"SESSION\"\n          ],\n          \"attemptToConvertTypes\": false,\n          \"convertFieldsToString\": false\n        },\n        \"options\": {},\n        \"operation\": \"update\",\n        \"sheetName\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": 207843712,\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1MCJLAqKP0Y7Qr68ZYoSSBeEVyKI1QgAAZnlEiyqkzXo/edit#gid=207843712\",\n          \"cachedResultName\": \"Session\"\n        },\n        \"documentId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"1MCJLAqKP0Y7Qr68ZYoSSBeEVyKI1QgAAZnlEiyqkzXo\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1MCJLAqKP0Y7Qr68ZYoSSBeEVyKI1QgAAZnlEiyqkzXo/edit?usp=drivesdk\",\n          \"cachedResultName\": \"Chatbot with session\"\n        }\n      },\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"JYR6a64Qecd6t8Hb\",\n          \"name\": \"Google Sheets account\"\n        }\n      },\n      \"typeVersion\": 4.5\n    },\n    {\n      \"id\": \"6ff1cf54-5406-4c86-a77e-8424208d4728\",\n      \"name\": \"Set new session\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        960,\n        -760\n      ],\n      \"parameters\": {\n        \"columns\": {\n          \"value\": {\n            \"STATE\": \"current\",\n            \"SESSION\": \"={{ $('Get message').item.json.update_id }}\"\n          },\n          \"schema\": [\n            {\n              \"id\": \"SESSION\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"SESSION\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"STATE\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"STATE\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": [],\n          \"attemptToConvertTypes\": false,\n          \"convertFieldsToString\": false\n        },\n        \"options\": {},\n        \"operation\": \"append\",\n        \"sheetName\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": 207843712,\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1MCJLAqKP0Y7Qr68ZYoSSBeEVyKI1QgAAZnlEiyqkzXo/edit#gid=207843712\",\n          \"cachedResultName\": \"Session\"\n        },\n        \"documentId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"1MCJLAqKP0Y7Qr68ZYoSSBeEVyKI1QgAAZnlEiyqkzXo\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1MCJLAqKP0Y7Qr68ZYoSSBeEVyKI1QgAAZnlEiyqkzXo/edit?usp=drivesdk\",\n          \"cachedResultName\": \"Chatbot with session\"\n        }\n      },\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"JYR6a64Qecd6t8Hb\",\n          \"name\": \"Google Sheets account\"\n        }\n      },\n      \"typeVersion\": 4.5\n    },\n    {\n      \"id\": \"be9c755a-0c52-453c-b448-98975d4c6e87\",\n      \"name\": \"Session activated\",\n      \"type\": \"n8n-nodes-base.telegram\",\n      \"position\": [\n        1240,\n        -760\n      ],\n      \"webhookId\": \"fa5e7641-068c-40cb-b490-a6809e74c629\",\n      \"parameters\": {\n        \"text\": \"New session activated\",\n        \"chatId\": \"={{ $('Get message').item.json.message.from.id }}\",\n        \"additionalFields\": {\n          \"appendAttribution\": false\n        }\n      },\n      \"credentials\": {\n        \"telegramApi\": {\n          \"id\": \"rQ5q95W7uKesMDx4\",\n          \"name\": \"Telegram account Fastewb\"\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"31478ec5-c1de-43db-ac9d-9b34f68e951c\",\n      \"name\": \"Send response\",\n      \"type\": \"n8n-nodes-base.telegram\",\n      \"position\": [\n        1100,\n        980\n      ],\n      \"webhookId\": \"fa5e7641-068c-40cb-b490-a6809e74c629\",\n      \"parameters\": {\n        \"text\": \"={{ $json.output }}\",\n        \"chatId\": \"={{ $('Get message').item.json.message.from.id }}\",\n        \"additionalFields\": {\n          \"appendAttribution\": false\n        }\n      },\n      \"credentials\": {\n        \"telegramApi\": {\n          \"id\": \"rQ5q95W7uKesMDx4\",\n          \"name\": \"Telegram account Fastewb\"\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"be35b9a6-2914-409f-bc9c-6199ccb9e4ed\",\n      \"name\": \"Update database\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        1420,\n        980\n      ],\n      \"parameters\": {\n        \"columns\": {\n          \"value\": {\n            \"DATE\": \"={{$now}}\",\n            \"PROMPT\": \"={{ $('Get message').item.json.message.text }}\",\n            \"SESSION\": \"={{ $('Get session').item.json.SESSION }}\",\n            \"RESPONSE\": \"={{ $('Telegram Chatbot').item.json.output }}\"\n          },\n          \"schema\": [\n            {\n              \"id\": \"SESSION\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"SESSION\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"DATE\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"DATE\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"PROMPT\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"PROMPT\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"RESPONSE\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"RESPONSE\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": [],\n          \"attemptToConvertTypes\": false,\n          \"convertFieldsToString\": false\n        },\n        \"options\": {},\n        \"operation\": \"append\",\n        \"sheetName\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gid=0\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1MCJLAqKP0Y7Qr68ZYoSSBeEVyKI1QgAAZnlEiyqkzXo/edit#gid=0\",\n          \"cachedResultName\": \"Database\"\n        },\n        \"documentId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"1MCJLAqKP0Y7Qr68ZYoSSBeEVyKI1QgAAZnlEiyqkzXo\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1MCJLAqKP0Y7Qr68ZYoSSBeEVyKI1QgAAZnlEiyqkzXo/edit?usp=drivesdk\",\n          \"cachedResultName\": \"Chatbot with session\"\n        }\n      },\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"JYR6a64Qecd6t8Hb\",\n          \"name\": \"Google Sheets account\"\n        }\n      },\n      \"typeVersion\": 4.5\n    },\n    {\n      \"id\": \"dacc79e0-56ff-47d6-b09f-16ebfb31cbfa\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -540,\n        -540\n      ],\n      \"parameters\": {\n        \"color\": 3,\n        \"width\": 620,\n        \"height\": 360,\n        \"content\": \"# Telegram ChatBot with multiple sessions\\n\\nThis workflow creates an **AI-powered Telegram chatbot** with **session management**, allowing users to:  \\n- **Start new conversations** (`/new`).  \\n- **Check current sessions** (`/current`).  \\n- **Resume past sessions** (`/resume`).  \\n- **Get summaries** (`/summary`).  \\n- **Ask questions** (`/question`). \\n\\n- Clone [this sheet](https://docs.google.com/spreadsheets/d/1MCJLAqKP0Y7Qr68ZYoSSBeEVyKI1QgAAZnlEiyqkzXo/edit?usp=sharing)\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"55751f99-ee2e-429b-99cd-fef30eb56fb8\",\n      \"name\": \"Summarization Chain\",\n      \"type\": \"@n8n/n8n-nodes-langchain.chainSummarization\",\n      \"position\": [\n        1040,\n        200\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"summarizationMethodAndPrompts\": {\n            \"values\": {\n              \"prompt\": \"=Write a concise summary of the following:\\n\\n\\n\\\"{{ $json.fullText }}\\\"\\n\\n\\nCONCISE SUMMARY:\",\n              \"combineMapPrompt\": \"=Write a concise summary of the following:\\n\\n\\n\\\"{{ $json.fullText }}\\\"\\n\\n\\nCONCISE SUMMARY:\"\n            }\n          }\n        }\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"c7f0d136-4a77-4bc8-b2ef-b03fa41ad1ff\",\n      \"name\": \"OpenAI Chat Model1\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\n      \"position\": [\n        1020,\n        380\n      ],\n      \"parameters\": {\n        \"model\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gpt-4o-mini\"\n        },\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"4zwP0MSr8zkNvvV9\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"a455cf00-2f72-4377-ac2a-d65ab8c30e31\",\n      \"name\": \"OpenAI Chat Model2\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\n      \"position\": [\n        1660,\n        800\n      ],\n      \"parameters\": {\n        \"model\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gpt-4o-mini\"\n        },\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"4zwP0MSr8zkNvvV9\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"e55082e4-4e65-4fbb-8850-d3b64093eab6\",\n      \"name\": \"Basic LLM Chain\",\n      \"type\": \"@n8n/n8n-nodes-langchain.chainLlm\",\n      \"position\": [\n        1680,\n        600\n      ],\n      \"parameters\": {\n        \"text\": \"=Question:\\n{{ $json.question }}\",\n        \"messages\": {\n          \"messageValues\": [\n            {\n              \"message\": \"=You have to answer the questions that are asked by analyzing the following text:\\n\\n{{ $json.fullText }}\"\n            }\n          ]\n        },\n        \"promptType\": \"define\"\n      },\n      \"typeVersion\": 1.6\n    },\n    {\n      \"id\": \"1e670eaa-fd9f-4e79-b2a8-bd43240455db\",\n      \"name\": \"Get message1\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        600,\n        -100\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"56bf47bc-e84c-4cee-8aa0-927f3d2e31c5\",\n              \"name\": \"text\",\n              \"type\": \"string\",\n              \"value\": \"={{ $('Get message').item.json.message.text }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"65771b1e-47fc-439d-a1ea-9901bac047d8\",\n      \"name\": \"Set to expire\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        1040,\n        -100\n      ],\n      \"parameters\": {\n        \"columns\": {\n          \"value\": {\n            \"STATE\": \"expire\",\n            \"SESSION\": \"={{ $('Get session').item.json.SESSION }}\"\n          },\n          \"schema\": [\n            {\n              \"id\": \"SESSION\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"SESSION\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"STATE\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"STATE\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"row_number\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": true,\n              \"readOnly\": true,\n              \"required\": false,\n              \"displayName\": \"row_number\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": [\n            \"SESSION\"\n          ],\n          \"attemptToConvertTypes\": false,\n          \"convertFieldsToString\": false\n        },\n        \"options\": {},\n        \"operation\": \"update\",\n        \"sheetName\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": 207843712,\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1MCJLAqKP0Y7Qr68ZYoSSBeEVyKI1QgAAZnlEiyqkzXo/edit#gid=207843712\",\n          \"cachedResultName\": \"Session\"\n        },\n        \"documentId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"1MCJLAqKP0Y7Qr68ZYoSSBeEVyKI1QgAAZnlEiyqkzXo\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1MCJLAqKP0Y7Qr68ZYoSSBeEVyKI1QgAAZnlEiyqkzXo/edit?usp=drivesdk\",\n          \"cachedResultName\": \"Chatbot with session\"\n        }\n      },\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"JYR6a64Qecd6t8Hb\",\n          \"name\": \"Google Sheets account\"\n        }\n      },\n      \"typeVersion\": 4.5\n    },\n    {\n      \"id\": \"d18268f6-8792-4a66-aa32-35b596e7fcad\",\n      \"name\": \"Exist?\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        1540,\n        -100\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"1710e38c-80d1-49ba-9814-2b2c6b3c3b8d\",\n              \"operator\": {\n                \"type\": \"object\",\n                \"operation\": \"empty\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $json }}\",\n              \"rightValue\": \"\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"6eeb7e4d-8af0-4d71-981d-66a39f4870a3\",\n      \"name\": \"OK\",\n      \"type\": \"n8n-nodes-base.telegram\",\n      \"position\": [\n        1880,\n        -40\n      ],\n      \"webhookId\": \"fa5e7641-068c-40cb-b490-a6809e74c629\",\n      \"parameters\": {\n        \"text\": \"=The current session is {{ $json.SESSION }}\",\n        \"chatId\": \"={{ $('Get message').item.json.message.from.id }}\",\n        \"additionalFields\": {\n          \"appendAttribution\": false\n        }\n      },\n      \"credentials\": {\n        \"telegramApi\": {\n          \"id\": \"rQ5q95W7uKesMDx4\",\n          \"name\": \"Telegram account Fastewb\"\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"1a6b9065-154f-4c43-9406-110636884f3d\",\n      \"name\": \"KO\",\n      \"type\": \"n8n-nodes-base.telegram\",\n      \"position\": [\n        1880,\n        -200\n      ],\n      \"webhookId\": \"fa5e7641-068c-40cb-b490-a6809e74c629\",\n      \"parameters\": {\n        \"text\": \"=This session doesn't exist\",\n        \"chatId\": \"={{ $('Get message').item.json.message.from.id }}\",\n        \"additionalFields\": {\n          \"appendAttribution\": false\n        }\n      },\n      \"credentials\": {\n        \"telegramApi\": {\n          \"id\": \"rQ5q95W7uKesMDx4\",\n          \"name\": \"Telegram account Fastewb\"\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"a2463ecc-fc82-401d-bf1b-6104f4b379e6\",\n      \"name\": \"Trim resume\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        820,\n        -100\n      ],\n      \"parameters\": {\n        \"jsCode\": \"for (const item of $input.all()) {\\n  const text = item.json.text || '';\\n  const match = text.match(/\\\\/resume\\\\s+(.*)/);\\n\\n  if (match) {\\n    item.json.resume = match[1].trim();\\n  } else {\\n    item.json.resume = null; \\n  }\\n}\\n\\nreturn $input.all();\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"c24a0c1d-290f-4e0c-8da9-98de14a65e2b\",\n      \"name\": \"Get session1\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        600,\n        200\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"filtersUI\": {\n          \"values\": [\n            {\n              \"lookupValue\": \"={{ $('Get session').item.json.SESSION }}\",\n              \"lookupColumn\": \"SESSION\"\n            }\n          ]\n        },\n        \"sheetName\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gid=0\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1MCJLAqKP0Y7Qr68ZYoSSBeEVyKI1QgAAZnlEiyqkzXo/edit#gid=0\",\n          \"cachedResultName\": \"Database\"\n        },\n        \"documentId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"1MCJLAqKP0Y7Qr68ZYoSSBeEVyKI1QgAAZnlEiyqkzXo\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1MCJLAqKP0Y7Qr68ZYoSSBeEVyKI1QgAAZnlEiyqkzXo/edit?usp=drivesdk\",\n          \"cachedResultName\": \"Chatbot with session\"\n        }\n      },\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"JYR6a64Qecd6t8Hb\",\n          \"name\": \"Google Sheets account\"\n        }\n      },\n      \"typeVersion\": 4.5\n    },\n    {\n      \"id\": \"84cc4b12-ab2b-4509-a2e3-1c4d952904c5\",\n      \"name\": \"Prompt + Resume\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        820,\n        200\n      ],\n      \"parameters\": {\n        \"jsCode\": \"let fullText = '';\\n\\nfor (const item of $input.all()) {\\n  const prompt = item.json.PROMPT || '';\\n  const response = item.json.RESPONSE || '';\\n  fullText += `PROMPT: ${prompt}\\\\nRESPONSE: ${response}\\\\n`;\\n}\\nconst chat_id=$('Get message').first().json.message.from.id\\n\\nreturn [{ json: { fullText, chat_id } }];\\n\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"3ae34388-95a0-41d7-8f20-7fa74817dab8\",\n      \"name\": \"Send summary\",\n      \"type\": \"n8n-nodes-base.telegram\",\n      \"position\": [\n        1420,\n        200\n      ],\n      \"webhookId\": \"fa5e7641-068c-40cb-b490-a6809e74c629\",\n      \"parameters\": {\n        \"text\": \"={{ $json.response.text }}\",\n        \"chatId\": \"={{ $('Prompt + Resume').item.json.chat_id }}\",\n        \"additionalFields\": {\n          \"appendAttribution\": false\n        }\n      },\n      \"credentials\": {\n        \"telegramApi\": {\n          \"id\": \"rQ5q95W7uKesMDx4\",\n          \"name\": \"Telegram account Fastewb\"\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"d38eb058-29a3-4500-b6de-f700b8f501e9\",\n      \"name\": \"Get message2\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        620,\n        600\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"56bf47bc-e84c-4cee-8aa0-927f3d2e31c5\",\n              \"name\": \"text\",\n              \"type\": \"string\",\n              \"value\": \"={{ $('Get message').item.json.message.text }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"ee6713b5-6264-43e8-86a4-f9584049f05b\",\n      \"name\": \"Trim question\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        860,\n        600\n      ],\n      \"parameters\": {\n        \"jsCode\": \"for (const item of $input.all()) {\\n  const text = item.json.text || '';\\n  const match = text.match(/\\\\/question\\\\s+(.*)/);\\n\\n  if (match) {\\n    item.json.question = match[1].trim();\\n  } else {\\n    item.json.question = null; // oppure \\\"\\\" se preferisci\\n  }\\n}\\n\\nreturn $input.all();\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"65482069-1c41-4977-8f18-75f192866fdd\",\n      \"name\": \"Set new current session\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        1280,\n        -100\n      ],\n      \"parameters\": {\n        \"columns\": {\n          \"value\": {\n            \"STATE\": \"current\",\n            \"SESSION\": \"={{ $('Trim resume').item.json.resume }}\"\n          },\n          \"schema\": [\n            {\n              \"id\": \"SESSION\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"SESSION\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"STATE\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"required\": false,\n              \"displayName\": \"STATE\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"row_number\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": true,\n              \"readOnly\": true,\n              \"required\": false,\n              \"displayName\": \"row_number\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": [\n            \"SESSION\"\n          ],\n          \"attemptToConvertTypes\": false,\n          \"convertFieldsToString\": false\n        },\n        \"options\": {},\n        \"operation\": \"update\",\n        \"sheetName\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": 207843712,\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1MCJLAqKP0Y7Qr68ZYoSSBeEVyKI1QgAAZnlEiyqkzXo/edit#gid=207843712\",\n          \"cachedResultName\": \"Session\"\n        },\n        \"documentId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"1MCJLAqKP0Y7Qr68ZYoSSBeEVyKI1QgAAZnlEiyqkzXo\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1MCJLAqKP0Y7Qr68ZYoSSBeEVyKI1QgAAZnlEiyqkzXo/edit?usp=drivesdk\",\n          \"cachedResultName\": \"Chatbot with session\"\n        }\n      },\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"JYR6a64Qecd6t8Hb\",\n          \"name\": \"Google Sheets account\"\n        }\n      },\n      \"notesInFlow\": false,\n      \"typeVersion\": 4.5,\n      \"alwaysOutputData\": true\n    },\n    {\n      \"id\": \"91ef2595-acca-4efd-8331-3450fa466d33\",\n      \"name\": \"Response + Text\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        1140,\n        600\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"filtersUI\": {\n          \"values\": [\n            {\n              \"lookupValue\": \"={{ $('Get session').item.json.SESSION }}\",\n              \"lookupColumn\": \"SESSION\"\n            }\n          ]\n        },\n        \"sheetName\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gid=0\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1MCJLAqKP0Y7Qr68ZYoSSBeEVyKI1QgAAZnlEiyqkzXo/edit#gid=0\",\n          \"cachedResultName\": \"Database\"\n        },\n        \"documentId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"1MCJLAqKP0Y7Qr68ZYoSSBeEVyKI1QgAAZnlEiyqkzXo\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1MCJLAqKP0Y7Qr68ZYoSSBeEVyKI1QgAAZnlEiyqkzXo/edit?usp=drivesdk\",\n          \"cachedResultName\": \"Chatbot with session\"\n        }\n      },\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"JYR6a64Qecd6t8Hb\",\n          \"name\": \"Google Sheets account\"\n        }\n      },\n      \"typeVersion\": 4.5\n    },\n    {\n      \"id\": \"2fbaf240-c01e-48dc-90bf-cc655eb7cd4d\",\n      \"name\": \"fullText\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        1440,\n        600\n      ],\n      \"parameters\": {\n        \"jsCode\": \"let fullText = '';\\n\\nfor (const item of $input.all()) {\\n  const prompt = item.json.PROMPT || '';\\n  const response = item.json.RESPONSE || '';\\n  fullText += `PROMPT: ${prompt}\\\\nRESPONSE: ${response}\\\\n`;\\n}\\nconst chat_id=$('Get message').first().json.message.from.id;\\nconst question=$('Trim question').first().json.question;\\n\\nreturn [{ json: { fullText, chat_id, question } }];\\n\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"30e29b4f-da86-4cee-b875-7985b5d82b7e\",\n      \"name\": \"Send answer\",\n      \"type\": \"n8n-nodes-base.telegram\",\n      \"position\": [\n        2080,\n        600\n      ],\n      \"webhookId\": \"fa5e7641-068c-40cb-b490-a6809e74c629\",\n      \"parameters\": {\n        \"text\": \"={{ $json.text }}\",\n        \"chatId\": \"={{ $('fullText').item.json.chat_id }}\",\n        \"additionalFields\": {\n          \"appendAttribution\": false\n        }\n      },\n      \"credentials\": {\n        \"telegramApi\": {\n          \"id\": \"rQ5q95W7uKesMDx4\",\n          \"name\": \"Telegram account Fastewb\"\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"41e2b5b3-25a2-411c-929a-ad4c22f45cd1\",\n      \"name\": \"Send current session\",\n      \"type\": \"n8n-nodes-base.telegram\",\n      \"position\": [\n        620,\n        -440\n      ],\n      \"webhookId\": \"fa5e7641-068c-40cb-b490-a6809e74c629\",\n      \"parameters\": {\n        \"text\": \"=The current session is {{ $('Get session').item.json.SESSION }}\",\n        \"chatId\": \"={{ $('Get message').item.json.message.from.id }}\",\n        \"additionalFields\": {\n          \"appendAttribution\": false\n        }\n      },\n      \"credentials\": {\n        \"telegramApi\": {\n          \"id\": \"rQ5q95W7uKesMDx4\",\n          \"name\": \"Telegram account Fastewb\"\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"e30bb12b-8e46-4fe4-81b7-72ce036d431f\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        640,\n        -880\n      ],\n      \"parameters\": {\n        \"width\": 580,\n        \"height\": 80,\n        \"content\": \"## NEW SESSION\\n\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"7e23ee2d-b4ee-4be8-969b-c713039dacdf\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        620,\n        -560\n      ],\n      \"parameters\": {\n        \"width\": 580,\n        \"height\": 80,\n        \"content\": \"## GET CURRENT SESSION\\n\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"5b10cf55-3730-4e0c-8db7-49c82e9b1350\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        600,\n        -220\n      ],\n      \"parameters\": {\n        \"width\": 580,\n        \"height\": 80,\n        \"content\": \"## RESUME SESSION\\n\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"f0932a2c-ebf2-4179-972a-073e5edfa50d\",\n      \"name\": \"Sticky Note4\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        600,\n        100\n      ],\n      \"parameters\": {\n        \"width\": 580,\n        \"height\": 80,\n        \"content\": \"## GET SUMMARY\\n\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"9d9fdca4-870b-4ef4-9415-2fb750eb6466\",\n      \"name\": \"Sticky Note5\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        620,\n        500\n      ],\n      \"parameters\": {\n        \"width\": 580,\n        \"height\": 80,\n        \"content\": \"## SEND QUESTION\\n\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"aa55d92a-ec31-42c3-8b17-fa9d81d99c31\",\n      \"name\": \"Sticky Note6\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        640,\n        860\n      ],\n      \"parameters\": {\n        \"width\": 580,\n        \"height\": 80,\n        \"content\": \"## CHATBOT\\n\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"fa4dd49c-881b-41d2-84b4-82cbd3e62d0e\",\n      \"name\": \"Telegram Chatbot\",\n      \"type\": \"@n8n/n8n-nodes-langchain.agent\",\n      \"position\": [\n        640,\n        980\n      ],\n      \"parameters\": {\n        \"text\": \"={{ $('Get message').item.json.message.text }}\",\n        \"options\": {\n          \"systemMessage\": \"=Sei un assitente virtuale:\\n\\nData e ora corrente: {{ $now }}\"\n        },\n        \"promptType\": \"define\"\n      },\n      \"typeVersion\": 1.9\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"timezone\": \"Europe/Rome\",\n    \"callerPolicy\": \"workflowsFromSameOwner\",\n    \"executionOrder\": \"v1\",\n    \"executionTimeout\": -1\n  },\n  \"versionId\": \"c6d418c0-aec9-498a-b5c7-318a3e4efe0b\",\n  \"connections\": {\n    \"Exist?\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"KO\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"OK\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"fullText\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Basic LLM Chain\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get message\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get session\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get session\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Command or text?\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Trim resume\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set to expire\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get message1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Trim resume\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get message2\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Trim question\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get session1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Prompt + Resume\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Send response\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Update database\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Set to expire\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set new current session\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Simple Memory\": {\n      \"ai_memory\": [\n        [\n          {\n            \"node\": \"Telegram Chatbot\",\n            \"type\": \"ai_memory\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Trim question\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Response + Text\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Basic LLM Chain\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Send answer\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Prompt + Resume\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Summarization Chain\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Response + Text\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"fullText\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Set new session\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Session activated\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Command or text?\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Disable previous session\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Send current session\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Get message1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Get session1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Get message2\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Telegram Chatbot\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Telegram Chatbot\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Send response\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"OpenAI Chat Model\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Telegram Chatbot\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"OpenAI Chat Model1\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Summarization Chain\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"OpenAI Chat Model2\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"Basic LLM Chain\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Summarization Chain\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Send summary\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Set new current session\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Exist?\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Disable previous session\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set new session\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "n8n-nodes-base.telegramTrigger",
      "n8n-nodes-base.switch",
      "n8n-nodes-base.googleSheets",
      "n8n-nodes-base.googleSheets",
      "n8n-nodes-base.googleSheets",
      "n8n-nodes-base.telegram",
      "n8n-nodes-base.telegram",
      "n8n-nodes-base.googleSheets",
      "n8n-nodes-base.stickyNote",
      "@n8n/n8n-nodes-langchain.chainSummarization",
      "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "@n8n/n8n-nodes-langchain.chainLlm",
      "n8n-nodes-base.set",
      "n8n-nodes-base.googleSheets",
      "n8n-nodes-base.if",
      "n8n-nodes-base.telegram",
      "n8n-nodes-base.telegram",
      "n8n-nodes-base.code",
      "n8n-nodes-base.googleSheets",
      "n8n-nodes-base.code",
      "n8n-nodes-base.telegram",
      "n8n-nodes-base.set",
      "n8n-nodes-base.code",
      "n8n-nodes-base.googleSheets",
      "n8n-nodes-base.googleSheets",
      "n8n-nodes-base.code",
      "n8n-nodes-base.telegram",
      "n8n-nodes-base.telegram",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "@n8n/n8n-nodes-langchain.agent"
    ],
    "trigger": null
  }
}