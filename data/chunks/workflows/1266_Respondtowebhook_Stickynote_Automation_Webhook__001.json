{
  "source": "1266_Respondtowebhook_Stickynote_Automation_Webhook.json",
  "index": 1,
  "content": "{\n  \"id\": \"qww129cm4TM9N8Ru\",\n  \"meta\": {\n    \"instanceId\": \"038da3428bba4563b42be267feeca21b4922693db254331ac640a5c56ee7cadf\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"name\": \"InstaTest\",\n  \"tags\": [\n    {\n      \"id\": \"8PlqXsDyqVlHJ7RC\",\n      \"name\": \"AI\",\n      \"createdAt\": \"2024-07-10T14:12:10.657Z\",\n      \"updatedAt\": \"2024-07-10T14:12:10.657Z\"\n    }\n  ],\n  \"nodes\": [\n    {\n      \"id\": \"51dcaa84-d1f9-4abc-aebc-24a06801e42d\",\n      \"name\": \"Set your system promt for AI\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"notes\": \"In this node in \\\"prompt\\\" variable you can set your system prompt\",\n      \"position\": [\n        1120,\n        620\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"0b3c3d71-5627-4b8c-91f0-ac44eaedf196\",\n              \"name\": \"prompt\",\n              \"type\": \"string\",\n              \"value\": \"=Persona: You are a instagram influencer.\\nContext: You receive a messages from your subscribers\\nTask: Answer questions in your writing style and patterns according to your previous posts text. Use your post only for style and patterns reference.\\nStyle rules:\\nsimple answers\"\n            },\n            {\n              \"id\": \"c2a9e272-5c0d-4685-ad0e-ce6995f92a1c\",\n              \"name\": \"sessionId\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.body.session_id }}\"\n            },\n            {\n              \"id\": \"b3c20ee3-07a1-4584-b0d9-7310a2c6b723\",\n              \"name\": \"chatInput\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.body.text }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.3\n    },\n    {\n      \"id\": \"0fb36573-d632-4403-8809-3973f9caa32a\",\n      \"name\": \"Local n8n memory\",\n      \"type\": \"@n8n/n8n-nodes-langchain.memoryBufferWindow\",\n      \"position\": [\n        1500,\n        780\n      ],\n      \"parameters\": {\n        \"sessionKey\": \"={{ $('Set your system promt for AI').last().json.sessionId }}\",\n        \"sessionIdType\": \"customKey\",\n        \"contextWindowLength\": 20\n      },\n      \"typeVersion\": 1.3\n    },\n    {\n      \"id\": \"2f0471a7-2a84-41ce-aab1-896d5ea95ac3\",\n      \"name\": \"ChatGPT model\",\n      \"type\": \"@n8n/n8n-nodes-langchain.lmChatOpenAi\",\n      \"position\": [\n        1360,\n        780\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"HxWZhtJcnqTXVHAA\",\n          \"name\": \"General\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"49abc3a3-faf9-4249-b874-908138a84aea\",\n      \"name\": \"Send respond \",\n      \"type\": \"n8n-nodes-base.respondToWebhook\",\n      \"position\": [\n        1720,\n        620\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"49382508-9307-4ffa-8b31-78fac3a7db10\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        320,\n        360\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 458.4028599661066,\n        \"height\": 447.98321744507007,\n        \"content\": \"## Easy Instagram(via ManyChat) bot\\n---\\n### Description:\\nThis template is a main part of Entire solution. It's getting new message from Instagram via ManyChat(Extra No-Code tool for getting and sending message in Instagram). Generating message using ChatGPT and send back to ManyChat that sends it to Instagrtam.\\n\\n### Logic:\\n1. Getting message from Instagram(from ManyChat)\\n2. Set you system prompt for AI\\n3. Create simple answer for message in AI block\\n4. Send answer to Instagram(to ManyChat)\\n\\n---\\n*Helpful links:*\\n- [Guide in Notion how to create full bot](https://shadowed-pound-d6e.notion.site/Instagram-GPT-light-version-Manychat-X-N8N-176293bddff880899a9ac255585d29f7?pvs=4)\\n- [ManyChat](https://manychat.partnerlinks.io/vm4wkw8j81tc)\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"5d14544c-7039-435f-a53c-615b5722bb99\",\n      \"name\": \"Getting message from Instagram\",\n      \"type\": \"n8n-nodes-base.webhook\",\n      \"position\": [\n        900,\n        620\n      ],\n      \"webhookId\": \"68d3fbc9-6e49-4bdc-851c-2a532be911ab\",\n      \"parameters\": {\n        \"path\": \"instagram_chat\",\n        \"options\": {},\n        \"httpMethod\": \"POST\",\n        \"responseMode\": \"responseNode\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"3770f558-341b-4d67-a7f0-0bb2fecf51a3\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1320,\n        300\n      ],\n      \"parameters\": {\n        \"width\": 313.9634922216307,\n        \"height\": 614.7475040550845,\n        \"content\": \"## 3) AI block\\n---\\nThere is 3 nodes:\\n- AI Agent\\n- Chat GPT model\\n- Memory for history messages\\n\\n### To do:\\n- in ChatGPT node you can choose the best model for you\\n- in Memory Block you can change number of messages in history\\n\\n\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"cbb6c5a2-9b96-4305-afce-5ac560ae2dec\",\n      \"name\": \"AI Agent\",\n      \"type\": \"@n8n/n8n-nodes-langchain.agent\",\n      \"position\": [\n        1340,\n        620\n      ],\n      \"parameters\": {\n        \"text\": \"={{ $json.chatInput }}\",\n        \"options\": {\n          \"systemMessage\": \"={{ $json.prompt }}\"\n        },\n        \"promptType\": \"define\"\n      },\n      \"typeVersion\": 1.7\n    },\n    {\n      \"id\": \"4e28119f-b1aa-4b20-a8ed-28bd137f9627\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        820,\n        360\n      ],\n      \"parameters\": {\n        \"height\": 440,\n        \"content\": \"## 1) HTTP Post webhook\\n\\n**To do:**\\nJust copy production link from this node and insert to custom action in ManyChat\\n\\nNo edits needed\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"b18a8890-b420-4086-91c8-8edbc845c8af\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1080,\n        480\n      ],\n      \"parameters\": {\n        \"width\": 220,\n        \"height\": 320,\n        \"content\": \"## 2) Edit prompt\\n\\n**To do:**\\nGo inside and change input\\n\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"74d4e6f5-069e-4b37-8005-8c03226b05df\",\n      \"name\": \"Sticky Note4\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1660,\n        480\n      ],\n      \"parameters\": {\n        \"height\": 300,\n        \"content\": \"## 4) Respond webhook\\n\\nNo edits needed\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": true,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"2f36fc7a-0a69-4af3-a958-25e9d278f058\",\n  \"connections\": {\n    \"AI Agent\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Send respond \",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"ChatGPT model\": {\n      \"ai_languageModel\": [\n        [\n          {\n            \"node\": \"AI Agent\",\n            \"type\": \"ai_languageModel\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Local n8n memory\": {\n      \"ai_memory\": [\n        [\n          {\n            \"node\": \"AI Agent\",\n            \"type\": \"ai_memory\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Set your system promt for AI\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"AI Agent\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Getting message from Instagram\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set your system promt for AI\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.set",
      "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "n8n-nodes-base.respondToWebhook",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.webhook",
      "n8n-nodes-base.stickyNote",
      "@n8n/n8n-nodes-langchain.agent",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote"
    ],
    "trigger": null
  }
}