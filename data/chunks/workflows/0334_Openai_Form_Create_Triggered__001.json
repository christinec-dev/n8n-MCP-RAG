{
  "source": "0334_Openai_Form_Create_Triggered.json",
  "index": 1,
  "content": "{\n  \"meta\": {\n    \"instanceId\": \"82a17fa4a0b8e81bf77e5ab999d980f392150f2a9541fde626dc5f74857b1f54\"\n  },\n  \"nodes\": [\n    {\n      \"id\": \"4ea39a4f-d8c1-438f-9738-bfbb906a3d7a\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1200,\n        1020\n      ],\n      \"parameters\": {\n        \"width\": 253,\n        \"height\": 342,\n        \"content\": \"## Send customer feedback to OpenAI for sentiment analysis\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"6962ea41-7d15-4932-919f-21ac94fa1269\",\n      \"name\": \"Sticky Note3\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1960,\n        1180\n      ],\n      \"parameters\": {\n        \"width\": 253,\n        \"height\": 342,\n        \"content\": \"## Add new feedback to google sheets\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"4c8a8984-2d8e-4139-866b-6f3536aced07\",\n      \"name\": \"Sticky Note4\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        800,\n        1600\n      ],\n      \"parameters\": {\n        \"width\": 1407,\n        \"height\": 254,\n        \"content\": \"## Instructions\\n1. Connect Google sheets\\n2. Connect your OpenAi account (api key + org Id)\\n3. Create a customer feedback form, use an existing one or use the one below as example. \\nAll set!\\n\\n\\n- Here is the example google sheet being used in this workflow: https://docs.google.com/spreadsheets/d/1omWdRbiT6z6GNZ6JClu9gEsRhPQ6J0EJ2yXyFH9Zng4/edit?usp=sharing. You can download it to your account.\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"d43a9574-626d-4817-87ba-d99bdd6f41dc\",\n      \"name\": \"Sticky Note5\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        800,\n        1160\n      ],\n      \"parameters\": {\n        \"width\": 253,\n        \"height\": 342,\n        \"content\": \"## Feedback form is submitted\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"76dab2dc-935f-416e-91aa-5a1b7017ec1b\",\n      \"name\": \"Sticky Note6\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1600,\n        1180\n      ],\n      \"parameters\": {\n        \"width\": 253,\n        \"height\": 342,\n        \"content\": \"## Merge form data and OpenAI result\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"9772eac1-8df2-4305-9b2c-265d3c5a9a4a\",\n      \"name\": \"Add customer feedback to Google Sheets\",\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"position\": [\n        2020,\n        1320\n      ],\n      \"parameters\": {\n        \"columns\": {\n          \"value\": {\n            \"Category\": \"={{ $json['What is your feedback about?'] }}\",\n            \"Sentiment\": \"={{ $json.text }}\",\n            \"Timestamp\": \"={{ $json.submittedAt }}\",\n            \"Entered by\": \"=Form\",\n            \"Customer Name\": \"={{ $json.Name }}\",\n            \"Customer contact\": \"={{ $json['How do we get in touch with you?'] }}\",\n            \"Customer Feedback\": \"={{ $json['Your feedback'] }}\"\n          },\n          \"schema\": [\n            {\n              \"id\": \"Timestamp\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"Timestamp\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Category\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"Category\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Customer Feedback\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"Customer Feedback\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Customer Name\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"Customer Name\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Customer contact\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"Customer contact\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Entered by\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"Entered by\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Urgent?\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"Urgent?\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Sentiment\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"required\": false,\n              \"displayName\": \"Sentiment\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": []\n        },\n        \"options\": {},\n        \"operation\": \"append\",\n        \"sheetName\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gid=0\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1omWdRbiT6z6GNZ6JClu9gEsRhPQ6J0EJ2yXyFH9Zng4/edit#gid=0\",\n          \"cachedResultName\": \"Sheet1\"\n        },\n        \"documentId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"1omWdRbiT6z6GNZ6JClu9gEsRhPQ6J0EJ2yXyFH9Zng4\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1omWdRbiT6z6GNZ6JClu9gEsRhPQ6J0EJ2yXyFH9Zng4/edit?usp=drivesdk\",\n          \"cachedResultName\": \"CustomerFeedback\"\n        }\n      },\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"3\",\n          \"name\": \"Google Sheets account\"\n        }\n      },\n      \"typeVersion\": 4.1\n    },\n    {\n      \"id\": \"12084971-c81b-4a0e-814e-120867562642\",\n      \"name\": \"Merge sentiment with form content\",\n      \"type\": \"n8n-nodes-base.merge\",\n      \"position\": [\n        1680,\n        1320\n      ],\n      \"parameters\": {\n        \"mode\": \"combine\",\n        \"options\": {},\n        \"combinationMode\": \"multiplex\"\n      },\n      \"typeVersion\": 2.1\n    },\n    {\n      \"id\": \"235edf5b-7724-4712-8dc5-d8327a0620b8\",\n      \"name\": \"Classify feedback with OpenAI\",\n      \"type\": \"n8n-nodes-base.openAi\",\n      \"position\": [\n        1280,\n        1180\n      ],\n      \"parameters\": {\n        \"prompt\": \"=Classify the sentiment in the following customer feedback:  {{ $json['Your feedback'] }}\",\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"s2iucY0IctjYNbrb\",\n          \"name\": \"OpenAi account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"af4b22aa-0925-40b1-a9ac-298f9745a98e\",\n      \"name\": \"Submit form with customer feedback\",\n      \"type\": \"n8n-nodes-base.formTrigger\",\n      \"position\": [\n        860,\n        1340\n      ],\n      \"webhookId\": \"e7bf682e-48e8-40de-9815-cd180cdd1480\",\n      \"parameters\": {\n        \"options\": {\n          \"formSubmittedText\": \"Your response has been recorded\"\n        },\n        \"formTitle\": \"Customer Feedback\",\n        \"formFields\": {\n          \"values\": [\n            {\n              \"fieldLabel\": \"Name\",\n              \"requiredField\": true\n            },\n            {\n              \"fieldType\": \"dropdown\",\n              \"fieldLabel\": \"What is your feedback about?\",\n              \"fieldOptions\": {\n                \"values\": [\n                  {\n                    \"option\": \"Product\"\n                  },\n                  {\n                    \"option\": \"Service\"\n                  },\n                  {\n                    \"option\": \"Other\"\n                  }\n                ]\n              },\n              \"requiredField\": true\n            },\n            {\n              \"fieldType\": \"textarea\",\n              \"fieldLabel\": \"Your feedback\",\n              \"requiredField\": true\n            },\n            {\n              \"fieldLabel\": \"How do we get in touch with you?\"\n            }\n          ]\n        },\n        \"formDescription\": \"Please give feedback about our company orproducts.\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"connections\": {\n    \"Classify feedback with OpenAI\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Merge sentiment with form content\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Merge sentiment with form content\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Add customer feedback to Google Sheets\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Submit form with customer feedback\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Classify feedback with OpenAI\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Merge sentiment with form content\",\n            \"type\": \"main\",\n            \"index\": 1\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.googleSheets",
      "n8n-nodes-base.merge",
      "n8n-nodes-base.openAi",
      "n8n-nodes-base.formTrigger"
    ],
    "trigger": null
  }
}