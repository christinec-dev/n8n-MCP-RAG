{
  "source": "1451_Splitout_Schedule_Automation_Webhook.json",
  "index": 1,
  "content": "{\n  \"id\": \"FU3MrLkaTHmfdG4n\",\n  \"meta\": {\n    \"instanceId\": \"3294023dd650d95df294922b9d55d174ef26f4a2e6cce97c8a4ab5f98f5b8c7b\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"name\": \"Hugging Face  to Notion\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"32d5bfee-97f1-4e92-b62e-d09bdd9c3821\",\n      \"name\": \"Schedule Trigger\",\n      \"type\": \"n8n-nodes-base.scheduleTrigger\",\n      \"position\": [\n        -2640,\n        -300\n      ],\n      \"parameters\": {\n        \"rule\": {\n          \"interval\": [\n            {\n              \"field\": \"weeks\",\n              \"triggerAtDay\": [\n                1,\n                2,\n                3,\n                4,\n                5\n              ],\n              \"triggerAtHour\": 8\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"b1f4078e-ac77-47ec-995c-f52fd98fafef\",\n      \"name\": \"If\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        -1360,\n        -280\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"7094d6db-1fa7-4b59-91cf-6bbd5b5f067e\",\n              \"operator\": {\n                \"type\": \"object\",\n                \"operation\": \"empty\",\n                \"singleValue\": true\n              },\n              \"leftValue\": \"={{ $json }}\",\n              \"rightValue\": \"\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"afac08e1-b629-4467-86ef-907e4a5e8841\",\n      \"name\": \"Loop Over Items\",\n      \"type\": \"n8n-nodes-base.splitInBatches\",\n      \"position\": [\n        -1760,\n        -300\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"reset\": false\n        }\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"807ba450-9c89-4f88-aa84-91f43e3adfc6\",\n      \"name\": \"Split Out\",\n      \"type\": \"n8n-nodes-base.splitOut\",\n      \"position\": [\n        -1960,\n        -300\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"fieldToSplitOut\": \"url, url\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"08dd3f15-2030-48f2-ab0f-f85f797268e1\",\n      \"name\": \"Request Hugging Face Paper\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        -2440,\n        -300\n      ],\n      \"parameters\": {\n        \"url\": \"https://huggingface.co/papers\",\n        \"options\": {},\n        \"sendQuery\": true,\n        \"queryParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"date\",\n              \"value\": \"={{ $now.minus(1,'days').format('yyyy-MM-dd') }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"f37ba769-d881-4aad-927d-ca1f4a68b9a1\",\n      \"name\": \"Extract Hugging Face Paper\",\n      \"type\": \"n8n-nodes-base.html\",\n      \"position\": [\n        -2200,\n        -300\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"operation\": \"extractHtmlContent\",\n        \"extractionValues\": {\n          \"values\": [\n            {\n              \"key\": \"url\",\n              \"attribute\": \"href\",\n              \"cssSelector\": \".line-clamp-3\",\n              \"returnArray\": true,\n              \"returnValue\": \"attribute\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"94ba99bf-a33b-4311-a4e6-86490e1bb9ad\",\n      \"name\": \"Check Paper URL Existed\",\n      \"type\": \"n8n-nodes-base.notion\",\n      \"position\": [\n        -1540,\n        -280\n      ],\n      \"parameters\": {\n        \"filters\": {\n          \"conditions\": [\n            {\n              \"key\": \"URL|url\",\n              \"urlValue\": \"={{ 'https://huggingface.co'+$json.url }}\",\n              \"condition\": \"equals\"\n            }\n          ]\n        },\n        \"options\": {},\n        \"resource\": \"databasePage\",\n        \"operation\": \"getAll\",\n        \"databaseId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"17b67aba-1fcc-80ae-baa1-d88ffda7ae83\",\n          \"cachedResultUrl\": \"https://www.notion.so/17b67aba1fcc80aebaa1d88ffda7ae83\",\n          \"cachedResultName\": \"huggingface-abstract\"\n        },\n        \"filterType\": \"manual\"\n      },\n      \"credentials\": {\n        \"notionApi\": {\n          \"id\": \"I5KdUzwhWnphQ862\",\n          \"name\": \"notion\"\n        }\n      },\n      \"typeVersion\": 2.2,\n      \"alwaysOutputData\": true\n    },\n    {\n      \"id\": \"ece8dee2-e444-4557-aad9-5bdcb5ecd756\",\n      \"name\": \"Request Hugging Face Paper Detail\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        -1080,\n        -300\n      ],\n      \"parameters\": {\n        \"url\": \"={{ 'https://huggingface.co'+$('Split Out').item.json.url }}\",\n        \"options\": {}\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"53b266fe-e7c4-4820-92eb-78a6ba7a6430\",\n      \"name\": \"OpenAI Analysis Abstract\",\n      \"type\": \"@n8n/n8n-nodes-langchain.openAi\",\n      \"position\": [\n        -640,\n        -300\n      ],\n      \"parameters\": {\n        \"modelId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"gpt-4o-2024-11-20\",\n          \"cachedResultName\": \"GPT-4O-2024-11-20\"\n        },\n        \"options\": {},\n        \"messages\": {\n          \"values\": [\n            {\n              \"role\": \"system\",\n              \"content\": \"Extract the following key details from the paper abstract:\\n\\nCore Introduction: Summarize the main contributions and objectives of the paper, highlighting its innovations and significance.\\nKeyword Extraction: List 2-5 keywords that best represent the research direction and techniques of the paper.\\nKey Data and Results: Extract important performance metrics, comparison results, and the paper's advantages over other studies.\\nTechnical Details: Provide a brief overview of the methods, optimization techniques, and datasets mentioned in the paper.\\nClassification: Assign an appropriate academic classification based on the content of the paper.\\n\\n\\nOutput as jsonï¼š\\n{\\n  \\\"Core_Introduction\\\": \\\"PaSa is an advanced Paper Search agent powered by large language models that can autonomously perform a series of decisions (including invoking search tools, reading papers, and selecting relevant references) to provide comprehensive and accurate results for complex academic queries.\\\",\\n  \\\"Keywords\\\": [\\n    \\\"Paper Search Agent\\\",\\n    \\\"Large Language Models\\\",\\n    \\\"Reinforcement Learning\\\",\\n    \\\"Academic Queries\\\",\\n    \\\"Performance Benchmarking\\\"\\n  ],\\n  \\\"Data_and_Results\\\": \\\"PaSa outperforms existing baselines (such as Google, GPT-4, chatGPT) in tests using AutoScholarQuery (35k academic queries) and RealScholarQuery (real-world academic queries). For example, PaSa-7B exceeds Google with GPT-4o by 37.78% in recall@20 and 39.90% in recall@50.\\\",\\n  \\\"Technical_Details\\\": \\\"PaSa is optimized using reinforcement learning with the AutoScholarQuery synthetic dataset, demonstrating superior performance in multiple benchmarks.\\\",\\n  \\\"Classification\\\": [\\n    \\\"Artificial Intelligence (AI)\\\",\\n    \\\"Academic Search and Information Retrieval\\\",\\n    \\\"Natural Language Processing (NLP)\\\",\\n    \\\"Reinforcement Learning\\\"\\n  ]\\n}\\n```\"\n            },\n            {\n              \"content\": \"={{ $json.abstract }}\"\n            }\n          ]\n        },\n        \"jsonOutput\": true\n      },\n      \"credentials\": {\n        \"openAiApi\": {\n          \"id\": \"LmLcxHwbzZNWxqY6\",\n          \"name\": \"Unnamed credential\"\n        }\n      },\n      \"typeVersion\": 1.8\n    },\n    {\n      \"id\": \"f491cd7f-598e-46fd-b80c-04cfa9766dfd\",\n      \"name\": \"Store Abstract Notion\",\n      \"type\": \"n8n-nodes-base.notion\",\n      \"position\": [\n        -300,\n        -300\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"resource\": \"databasePage\",\n        \"databaseId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"17b67aba-1fcc-80ae-baa1-d88ffda7ae83\",\n          \"cachedResultUrl\": \"https://www.notion.so/17b67aba1fcc80aebaa1d88ffda7ae83\",\n          \"cachedResultName\": \"huggingface-abstract\"\n        },\n        \"propertiesUi\": {\n          \"propertyValues\": [\n            {\n              \"key\": \"URL|url\",\n              \"urlValue\": \"={{ 'https://huggingface.co'+$('Split Out').item.json.url }}\"\n            },\n            {\n              \"key\": \"title|title\",\n              \"title\": \"={{ $('Extract Hugging Face Paper Abstract').item.json.title }}\"\n            },\n            {\n              \"key\": \"abstract|rich_text\",\n              \"textContent\": \"={{ $('Extract Hugging Face Paper Abstract').item.json.abstract.substring(0,2000) }}\"\n            },\n            {\n              \"key\": \"scrap-date|date\",\n              \"date\": \"={{  $today.format('yyyy-MM-dd')  }}\",\n              \"includeTime\": false\n            },\n            {\n              \"key\": \"Classification|rich_text\",\n              \"textContent\": \"={{ $json.message.content.Classification.join(',') }}\"\n            },\n            {\n              \"key\": \"Technical_Details|rich_text\",\n              \"textContent\": \"={{ $json.message.content.Technical_Details }}\"\n            },\n            {\n              \"key\": \"Data_and_Results|rich_text\",\n              \"textContent\": \"={{ $json.message.content.Data_and_Results }}\"\n            },\n            {\n              \"key\": \"keywords|rich_text\",\n              \"textContent\": \"={{ $json.message.content.Keywords.join(',') }}\"\n            },\n            {\n              \"key\": \"Core Introduction|rich_text\",\n              \"textContent\": \"={{ $json.message.content.Core_Introduction }}\"\n            }\n          ]\n        }\n      },\n      \"credentials\": {\n        \"notionApi\": {\n          \"id\": \"I5KdUzwhWnphQ862\",\n          \"name\": \"notion\"\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"d5816a1c-d1fa-4be2-8088-57fbf68e6b43\",\n      \"name\": \"Extract Hugging Face Paper Abstract\",\n      \"type\": \"n8n-nodes-base.html\",\n      \"position\": [\n        -840,\n        -300\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"operation\": \"extractHtmlContent\",\n        \"extractionValues\": {\n          \"values\": [\n            {\n              \"key\": \"abstract\",\n              \"cssSelector\": \".text-gray-700\"\n            },\n            {\n              \"key\": \"title\",\n              \"cssSelector\": \".text-2xl\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1.2\n    }\n  ],\n  \"active\": true,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"4b0ec2a3-253d-46d5-a4d4-1d9ff21ba4a3\",\n  \"connections\": {\n    \"If\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Request Hugging Face Paper Detail\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Loop Over Items\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Split Out\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Loop Over Items\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Loop Over Items\": {\n      \"main\": [\n        [],\n        [\n          {\n            \"node\": \"Check Paper URL Existed\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Schedule Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Request Hugging Face Paper\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Store Abstract Notion\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Loop Over Items\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Check Paper URL Existed\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"If\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"OpenAI Analysis Abstract\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Store Abstract Notion\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Extract Hugging Face Paper\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Split Out\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Request Hugging Face Paper\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Extract Hugging Face Paper\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Request Hugging Face Paper Detail\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Extract Hugging Face Paper Abstract\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Extract Hugging Face Paper Abstract\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"OpenAI Analysis Abstract\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.scheduleTrigger",
      "n8n-nodes-base.if",
      "n8n-nodes-base.splitInBatches",
      "n8n-nodes-base.splitOut",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.html",
      "n8n-nodes-base.notion",
      "n8n-nodes-base.httpRequest",
      "@n8n/n8n-nodes-langchain.openAi",
      "n8n-nodes-base.notion",
      "n8n-nodes-base.html"
    ],
    "trigger": "schedule trigger"
  }
}