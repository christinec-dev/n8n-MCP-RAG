{
  "source": "1180_Rssfeedread_Htmlextract_Create_Scheduled.json",
  "index": 1,
  "content": "{\n  \"id\": 8,\n  \"name\": \"Get only new RSS with Photo\",\n  \"nodes\": [\n    {\n      \"name\": \"Cron\",\n      \"type\": \"n8n-nodes-base.cron\",\n      \"position\": [\n        1050,\n        920\n      ],\n      \"parameters\": {\n        \"triggerTimes\": {\n          \"item\": [\n            {\n              \"mode\": \"everyX\",\n              \"unit\": \"minutes\",\n              \"value\": 5\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"RSS Feed Read\",\n      \"type\": \"n8n-nodes-base.rssFeedRead\",\n      \"position\": [\n        1220,\n        920\n      ],\n      \"parameters\": {\n        \"url\": \"http://www.theverge.com/rss/full.xml\"\n      },\n      \"executeOnce\": true,\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Extract Image1\",\n      \"type\": \"n8n-nodes-base.htmlExtract\",\n      \"position\": [\n        1740,\n        920\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"dataPropertyName\": \"=content\",\n        \"extractionValues\": {\n          \"values\": [\n            {\n              \"key\": \"image\",\n              \"attribute\": \"src\",\n              \"cssSelector\": \"img\",\n              \"returnValue\": \"attribute\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Filter RSS Data\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        1390,\n        920\n      ],\n      \"parameters\": {\n        \"values\": {\n          \"string\": [\n            {\n              \"name\": \"Title\",\n              \"value\": \"={{$node[\\\"RSS Feed Read\\\"].json[\\\"title\\\"]}}\"\n            },\n            {\n              \"name\": \"Subtitle\",\n              \"value\": \"={{$json[\\\"contentSnippet\\\"]}}\"\n            },\n            {\n              \"name\": \"Author\",\n              \"value\": \"={{$json[\\\"creator\\\"]}}\"\n            },\n            {\n              \"name\": \"URL\",\n              \"value\": \"={{$node[\\\"RSS Feed Read\\\"].json[\\\"link\\\"]}}\"\n            },\n            {\n              \"name\": \"Date\",\n              \"value\": \"={{$node[\\\"RSS Feed Read\\\"].json[\\\"pubDate\\\"]}}\"\n            },\n            {\n              \"name\": \"content\",\n              \"value\": \"={{$json[\\\"content\\\"]}}\"\n            }\n          ]\n        },\n        \"options\": {},\n        \"keepOnlySet\": true\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"name\": \"Only get new RSS1\",\n      \"type\": \"n8n-nodes-base.function\",\n      \"position\": [\n        1560,\n        920\n      ],\n      \"parameters\": {\n        \"functionCode\": \"const staticData = getWorkflowStaticData('global');\\nconst newRSSIds = items.map(item => item.json[\\\"Date\\\"]);\\nconst oldRSSIds = staticData.oldRSSIds; \\n\\nif (!oldRSSIds) {\\n  staticData.oldRSSIds = newRSSIds;\\n  return items;\\n}\\n\\n\\nconst actualNewRSSIds = newRSSIds.filter((id) => !oldRSSIds.includes(id));\\nconst actualNewRSS = items.filter((data) => actualNewRSSIds.includes(data.json['Date']));\\nstaticData.oldRSSIds = [...actualNewRSSIds, ...oldRSSIds];\\n\\nreturn actualNewRSS;\\n\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": false,\n  \"settings\": {},\n  \"connections\": {\n    \"Cron\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"RSS Feed Read\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"RSS Feed Read\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Filter RSS Data\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Extract Image1\": {\n      \"main\": [\n        []\n      ]\n    },\n    \"Filter RSS Data\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Only get new RSS1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Only get new RSS1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Extract Image1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.cron",
      "n8n-nodes-base.rssFeedRead",
      "n8n-nodes-base.htmlExtract",
      "n8n-nodes-base.set",
      "n8n-nodes-base.function"
    ],
    "trigger": null
  }
}