{
  "source": "1932_Schedule_Telegram_Send_Scheduled.json",
  "index": 1,
  "content": "{\n  \"id\": \"nV1xFcF5HWJcD6w7\",\n  \"meta\": {\n    \"instanceId\": \"b1be0f8fadff87de92fbcd08be474fb794e544ef8a62dd9c586c9914a3836990\"\n  },\n  \"name\": \"Automatically Send Daily Meeting List to Telegram\",\n  \"tags\": [\n    {\n      \"id\": \"THCdGkSMWvR7AzSR\",\n      \"name\": \"Template\",\n      \"createdAt\": \"2024-02-28T08:32:57.511Z\",\n      \"updatedAt\": \"2024-02-28T08:32:57.511Z\"\n    },\n    {\n      \"id\": \"ro6MmCu2eov1eWfR\",\n      \"name\": \"Creators\",\n      \"createdAt\": \"2024-03-01T11:11:36.214Z\",\n      \"updatedAt\": \"2024-03-01T11:11:36.214Z\"\n    }\n  ],\n  \"nodes\": [\n    {\n      \"id\": \"eee04fe7-7f65-4db8-8ad8-7b67197a1f70\",\n      \"name\": \"Get meetings for today\",\n      \"type\": \"n8n-nodes-base.googleCalendar\",\n      \"position\": [\n        1240,\n        580\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"timeMax\": \"={{ $today.plus({ days: 1 }) }}\",\n          \"timeMin\": \"={{ $today }}\",\n          \"singleEvents\": true\n        },\n        \"calendar\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"lrnr6ha3nt9cv8i0fimup684e4@group.calendar.google.com\",\n          \"cachedResultName\": \"Meeting Room\"\n        },\n        \"operation\": \"getAll\"\n      },\n      \"credentials\": {\n        \"googleCalendarOAuth2Api\": {\n          \"id\": \"BSvdyVkCIqvVagsr\",\n          \"name\": \"Google Calendar account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"358ab462-d69f-4980-99fd-de5a22a3c783\",\n      \"name\": \"Every morning @ 6\",\n      \"type\": \"n8n-nodes-base.scheduleTrigger\",\n      \"position\": [\n        940,\n        580\n      ],\n      \"parameters\": {\n        \"rule\": {\n          \"interval\": [\n            {\n              \"triggerAtHour\": 6\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"57f77b4e-d608-4929-bc49-2dfecff88c8d\",\n      \"name\": \"Set\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        1520,\n        580\n      ],\n      \"parameters\": {\n        \"values\": {\n          \"number\": [],\n          \"string\": [\n            {\n              \"name\": \"Name\",\n              \"value\": \"={{ $json.summary }}\"\n            },\n            {\n              \"name\": \"Time\",\n              \"value\": \"={{ $json.start }}\"\n            },\n            {\n              \"name\": \"Guests\",\n              \"value\": \"={{ $json.attendees }}\"\n            }\n          ]\n        },\n        \"options\": {},\n        \"keepOnlySet\": true\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"6bcde2e8-46f6-46aa-b2f2-0e2670a9ce66\",\n      \"name\": \"Function\",\n      \"type\": \"n8n-nodes-base.function\",\n      \"position\": [\n        1780,\n        580\n      ],\n      \"parameters\": {\n        \"functionCode\": \"let message = \\\"*Your meetings today are:* \\\\n\\\";\\n\\nfor (item of items) {\\n  const time = new Date(item.json.Time.dateTime);\\n  const formattedTime = new Intl.DateTimeFormat('fa-IR', {\\n    hour: 'numeric',\\n    minute: 'numeric',\\n    timeZone: item.json.Time.timeZone\\n  }).format(time);\\n\\n  message += `* ${item.json.Name} | ${formattedTime}\\\\n`;\\n\\n  if (item.json.Guests && item.json.Guests.length > 0) {\\n    message += '*Ã‚&nbsp;- ';\\n    item.json.Guests.forEach((guest, index) => {\\n      message += `${guest.email}${index < item.json.Guests.length - 1 ? ', ' : ''}`;\\n    });\\n    message += '\\\\n';\\n  } else {\\n    message += '*Ã‚&nbsp;- No guests\\\\n';\\n  }\\n}\\n\\nreturn [{ json: { message } }];\\n\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"568c4efd-a4d4-4309-ab3e-c15c955ce361\",\n      \"name\": \"Telegram\",\n      \"type\": \"n8n-nodes-base.telegram\",\n      \"position\": [\n        2120,\n        580\n      ],\n      \"parameters\": {\n        \"text\": \"={{$json[\\\"message\\\"]}}\",\n        \"additionalFields\": {}\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"9f2b0543-9f3f-43e2-a7ea-e77ce1430985\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        800,\n        232\n      ],\n      \"parameters\": {\n        \"color\": 7,\n        \"width\": 1527.817454565021,\n        \"height\": 658.1528835709971,\n        \"content\": \"## This workflow \\nprovides a convenient and automated way to stay on top of your daily meetings and improve your personal productivity.\\n\\n\\n\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"41d85383-ccca-42f6-b9a1-d18e14ab3e32\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        2031.7098362416477,\n        431.96581702471417\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 268.2901637583533,\n        \"height\": 315.7841809336307,\n        \"content\": \"### Create a Telegram bot in @botfather\\nUses your Telegram user ID to send the list of meetings as a message to Telegram.\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"254dccf8-a366-4cdc-84ca-987eca928ed6\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        820,\n        340\n      ],\n      \"parameters\": {\n        \"width\": 430.6727493433055,\n        \"height\": 151.60560223016907,\n        \"content\": \"## setup:\\n###    - Google Calendar connected to n8n\\n###    - A Telegram bot created and connected to n8n\\n###    - Your Telegram user ID specified\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"timezone\": \"Asia/Tehran\",\n    \"callerPolicy\": \"workflowsFromSameOwner\",\n    \"executionOrder\": \"v1\",\n    \"saveManualExecutions\": true\n  },\n  \"versionId\": \"9dc21ef6-2b7d-4c80-9c03-0d636ab6f0d1\",\n  \"connections\": {\n    \"Set\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Function\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Function\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Telegram\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Every morning @ 6\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get meetings for today\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get meetings for today\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.googleCalendar",
      "n8n-nodes-base.scheduleTrigger",
      "n8n-nodes-base.set",
      "n8n-nodes-base.function",
      "n8n-nodes-base.telegram",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote"
    ],
    "trigger": null
  }
}