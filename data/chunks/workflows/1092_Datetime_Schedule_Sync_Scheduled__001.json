{
  "source": "1092_Datetime_Schedule_Sync_Scheduled.json",
  "index": 1,
  "content": "{\n  \"id\": 65,\n  \"meta\": {\n    \"instanceId\": \"104a4d08d8897b8bdeb38aaca515021075e0bd8544c983c2bb8c86e6a8e6081c\"\n  },\n  \"name\": \"Two Way Sync Pipedrive and MySQL\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"7355c5ac-a9a6-4fa5-8036-71fd09e95cd4\",\n      \"name\": \"Compare Datasets\",\n      \"type\": \"n8n-nodes-base.compareDatasets\",\n      \"position\": [\n        1220,\n        480\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"resolve\": \"includeBoth\",\n        \"mergeByFields\": {\n          \"values\": [\n            {\n              \"field1\": \"email\",\n              \"field2\": \"email\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"7a422493-94d4-4f94-b39c-f6c3980a967c\",\n      \"name\": \"Schedule Trigger\",\n      \"type\": \"n8n-nodes-base.scheduleTrigger\",\n      \"position\": [\n        800,\n        320\n      ],\n      \"parameters\": {\n        \"rule\": {\n          \"interval\": [\n            {}\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"b3a0e831-7030-43dd-863a-0c2a4697a14d\",\n      \"name\": \"MySQL\",\n      \"type\": \"n8n-nodes-base.mySql\",\n      \"position\": [\n        1000,\n        320\n      ],\n      \"parameters\": {\n        \"query\": \"SELECT id, name, email, phone, updated_on FROM contact\",\n        \"operation\": \"executeQuery\"\n      },\n      \"credentials\": {\n        \"mySql\": {\n          \"id\": \"23\",\n          \"name\": \"MySQL account\"\n        }\n      },\n      \"typeVersion\": 1,\n      \"alwaysOutputData\": true\n    },\n    {\n      \"id\": \"a3a64bb5-8a6f-4011-bc2d-3996a823012c\",\n      \"name\": \"Pipedrive\",\n      \"type\": \"n8n-nodes-base.pipedrive\",\n      \"position\": [\n        800,\n        620\n      ],\n      \"parameters\": {\n        \"resource\": \"person\",\n        \"operation\": \"getAll\",\n        \"additionalFields\": {}\n      },\n      \"credentials\": {\n        \"pipedriveApi\": {\n          \"id\": \"29\",\n          \"name\": \"Pipedrive account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"089e91df-abf7-4de9-b088-357cffce6949\",\n      \"name\": \"Create Person\",\n      \"type\": \"n8n-nodes-base.pipedrive\",\n      \"position\": [\n        1420,\n        300\n      ],\n      \"parameters\": {\n        \"name\": \"={{ $json[\\\"name\\\"] }}\",\n        \"resource\": \"person\",\n        \"additionalFields\": {\n          \"email\": [\n            \"={{ $json[\\\"email\\\"] }}\"\n          ],\n          \"phone\": [\n            \"={{ $json[\\\"phone\\\"] }}\"\n          ]\n        }\n      },\n      \"credentials\": {\n        \"pipedriveApi\": {\n          \"id\": \"29\",\n          \"name\": \"Pipedrive account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"a99c3242-8263-4a92-a1f2-dcce7a9a6d81\",\n      \"name\": \"Create Contact\",\n      \"type\": \"n8n-nodes-base.mySql\",\n      \"position\": [\n        1420,\n        620\n      ],\n      \"parameters\": {\n        \"table\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"contact\",\n          \"cachedResultName\": \"contact\"\n        },\n        \"columns\": \"name, email, phone\",\n        \"options\": {}\n      },\n      \"credentials\": {\n        \"mySql\": {\n          \"id\": \"23\",\n          \"name\": \"MySQL account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"7697d03a-7bc4-40b3-9e06-e38c13ccaaf3\",\n      \"name\": \"Date & Time\",\n      \"type\": \"n8n-nodes-base.dateTime\",\n      \"position\": [\n        1760,\n        460\n      ],\n      \"parameters\": {\n        \"value\": \"={{ $json[\\\"different\\\"][\\\"updated_on\\\"][\\\"input1\\\"] }}\",\n        \"custom\": true,\n        \"options\": {},\n        \"toFormat\": \"YYYY-MM-DD HH:mm:ss\",\n        \"dataPropertyName\": \"different.updated_on.input1\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"f882a2e7-a8cf-4683-abe3-77a5b7376bb2\",\n      \"name\": \"Update Contact\",\n      \"type\": \"n8n-nodes-base.mySql\",\n      \"position\": [\n        2340,\n        620\n      ],\n      \"parameters\": {\n        \"query\": \"=UPDATE contact\\nSET name = '{{$json[\\\"name\\\"]}}', phone= '{{$json[\\\"phone\\\"]}}'\\nWHERE id = {{$json[\\\"id\\\"]}};\",\n        \"operation\": \"executeQuery\"\n      },\n      \"credentials\": {\n        \"mySql\": {\n          \"id\": \"23\",\n          \"name\": \"MySQL account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"d7549678-5d35-4a8a-b440-5c347b4434f4\",\n      \"name\": \"Set Input2\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        2120,\n        620\n      ],\n      \"parameters\": {\n        \"values\": {\n          \"string\": [\n            {\n              \"name\": \"id\",\n              \"value\": \"={{ $json[\\\"different\\\"][\\\"id\\\"] ? $json[\\\"different\\\"][\\\"id\\\"][\\\"input1\\\"] : $json[\\\"same\\\"][\\\"id\\\"] }}\"\n            },\n            {\n              \"name\": \"name\",\n              \"value\": \"={{ $json[\\\"different\\\"][\\\"name\\\"] ? $json[\\\"different\\\"][\\\"name\\\"][\\\"input2\\\"] : $json[\\\"same\\\"][\\\"name\\\"] }}\"\n            },\n            {\n              \"name\": \"phone\",\n              \"value\": \"={{ $json[\\\"different\\\"][\\\"phone\\\"] ? $json[\\\"different\\\"][\\\"phone\\\"][\\\"input2\\\"] : $json[\\\"same\\\"][\\\"phone\\\"] }}\"\n            }\n          ]\n        },\n        \"options\": {}\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"0018751e-c295-4f8d-b9df-257b9538eedc\",\n      \"name\": \"Set Input1\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        2120,\n        300\n      ],\n      \"parameters\": {\n        \"values\": {\n          \"string\": [\n            {\n              \"name\": \"id\",\n              \"value\": \"={{ $json[\\\"different\\\"][\\\"id\\\"] ? $json[\\\"different\\\"][\\\"id\\\"][\\\"input2\\\"] : $json[\\\"same\\\"][\\\"id\\\"] }}\"\n            },\n            {\n              \"name\": \"name\",\n              \"value\": \"={{ $json[\\\"different\\\"][\\\"name\\\"] ? $json[\\\"different\\\"][\\\"name\\\"][\\\"input1\\\"] : $json[\\\"same\\\"][\\\"name\\\"] }}\"\n            },\n            {\n              \"name\": \"phone\",\n              \"value\": \"={{ $json[\\\"different\\\"][\\\"phone\\\"] ? $json[\\\"different\\\"][\\\"phone\\\"][\\\"input1\\\"] : $json[\\\"same\\\"][\\\"phone\\\"] }}\"\n            }\n          ]\n        },\n        \"options\": {}\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"89af3385-4788-4693-ad02-917b927e7384\",\n      \"name\": \"Update Person\",\n      \"type\": \"n8n-nodes-base.pipedrive\",\n      \"position\": [\n        2340,\n        300\n      ],\n      \"parameters\": {\n        \"personId\": \"={{ $json[\\\"id\\\"] }}\",\n        \"resource\": \"person\",\n        \"operation\": \"update\",\n        \"updateFields\": {\n          \"name\": \"={{ $json[\\\"name\\\"] }}\",\n          \"phone\": [\n            \"={{ $json[\\\"phone\\\"] }}\"\n          ]\n        }\n      },\n      \"credentials\": {\n        \"pipedriveApi\": {\n          \"id\": \"29\",\n          \"name\": \"Pipedrive account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"8ffbbb4b-7c2f-457e-ae73-464620aa1588\",\n      \"name\": \"IF Data Changed\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        1560,\n        480\n      ],\n      \"parameters\": {\n        \"conditions\": {\n          \"boolean\": [\n            {\n              \"value1\": \"={{ !!$json[\\\"different\\\"][\\\"name\\\"] || !!$json[\\\"different\\\"][\\\"phone\\\"] }}\",\n              \"value2\": true\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"f8d60404-942d-4bb3-96e7-a247a9447a32\",\n      \"name\": \"IF Updated On\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        1940,\n        460\n      ],\n      \"parameters\": {\n        \"conditions\": {\n          \"dateTime\": [\n            {\n              \"value1\": \"={{ $json[\\\"different\\\"][\\\"updated\\\"][\\\"input1\\\"] }} {{ $json[\\\"different\\\"][\\\"updated_on\\\"][\\\"input1\\\"] }}\",\n              \"value2\": \"={{ $json[\\\"different\\\"][\\\"updated\\\"][\\\"input2\\\"] }} {{ $json[\\\"different\\\"][\\\"updated_on\\\"][\\\"input2\\\"] }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"6965e281-10bd-4e8a-b016-f788030a6d9f\",\n      \"name\": \"Set\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        1000,\n        620\n      ],\n      \"parameters\": {\n        \"values\": {\n          \"string\": [\n            {\n              \"name\": \"id\",\n              \"value\": \"={{ $json[\\\"id\\\"] }}\"\n            },\n            {\n              \"name\": \"name\",\n              \"value\": \"={{ $json[\\\"name\\\"] }}\"\n            },\n            {\n              \"name\": \"email\",\n              \"value\": \"={{ $json[\\\"primary_email\\\"] }}\"\n            },\n            {\n              \"name\": \"phone\",\n              \"value\": \"={{ $json[\\\"phone\\\"][0][\\\"value\\\"] }}\"\n            },\n            {\n              \"name\": \"updated_on\",\n              \"value\": \"={{ $json[\\\"update_time\\\"] }}\"\n            }\n          ]\n        },\n        \"options\": {},\n        \"keepOnlySet\": true\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {},\n  \"connections\": {\n    \"Set\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Compare Datasets\",\n            \"type\": \"main\",\n            \"index\": 1\n          }\n        ]\n      ]\n    },\n    \"MySQL\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Compare Datasets\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Pipedrive\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Set Input1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Update Person\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Set Input2\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Update Contact\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Date & Time\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"IF Updated On\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"IF Updated On\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set Input1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Set Input2\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"IF Data Changed\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Date & Time\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Compare Datasets\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Create Person\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [],\n        [\n          {\n            \"node\": \"IF Data Changed\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Create Contact\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Schedule Trigger\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"MySQL\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.compareDatasets",
      "n8n-nodes-base.scheduleTrigger",
      "n8n-nodes-base.mySql",
      "n8n-nodes-base.pipedrive",
      "n8n-nodes-base.pipedrive",
      "n8n-nodes-base.mySql",
      "n8n-nodes-base.dateTime",
      "n8n-nodes-base.mySql",
      "n8n-nodes-base.set",
      "n8n-nodes-base.set",
      "n8n-nodes-base.pipedrive",
      "n8n-nodes-base.if",
      "n8n-nodes-base.if",
      "n8n-nodes-base.set"
    ],
    "trigger": "schedule trigger"
  }
}