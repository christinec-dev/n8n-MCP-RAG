{
  "source": "1931_Wait_HTTP_Automation_Webhook.json",
  "index": 1,
  "content": "{\n  \"id\": \"nJwkSOrJIFvutw1n\",\n  \"meta\": {\n    \"instanceId\": \"08daa2aa5b6032ff63690600b74f68f5b0f34a3b100102e019b35c4419168977\"\n  },\n  \"name\": \"Flux Dev Image Generation Fal.ai\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"00f3a7d9-9931-40a4-8eb5-5b9086d6995c\",\n      \"name\": \"Fal Flux\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        420,\n        0\n      ],\n      \"parameters\": {\n        \"url\": \"https://queue.fal.run/fal-ai/flux/dev\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"jsonBody\": \"={\\n  \\\"prompt\\\": \\\"{{ $json.Prompt }}\\\",\\n  \\\"image_size\\\": {\\n  \\\"width\\\": {{ $json.Width }},\\n  \\\"height\\\": {{ $json.Height }}\\n},\\n  \\\"num_inference_steps\\\": {{ $json.Steps }},\\n  \\\"guidance_scale\\\": {{ $json.Guidance }},\\n  \\\"num_images\\\": 1,\\n  \\\"enable_safety_checker\\\": true\\n}\",\n        \"sendBody\": true,\n        \"specifyBody\": \"json\",\n        \"authentication\": \"genericCredentialType\",\n        \"genericAuthType\": \"httpHeaderAuth\"\n      },\n      \"credentials\": {\n        \"httpHeaderAuth\": {\n          \"id\": \"lNxvZHlUafPAHBYN\",\n          \"name\": \"Fal Flux Header Auth account\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"3032a543-2e21-415e-a5bd-d56ea33e4411\",\n      \"name\": \"Get Image Result URL\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1220,\n        -20\n      ],\n      \"parameters\": {\n        \"url\": \"=https://queue.fal.run/fal-ai/flux/requests/{{ $json.request_id }}\",\n        \"options\": {},\n        \"authentication\": \"genericCredentialType\",\n        \"genericAuthType\": \"httpHeaderAuth\"\n      },\n      \"credentials\": {\n        \"httpHeaderAuth\": {\n          \"id\": \"lNxvZHlUafPAHBYN\",\n          \"name\": \"Fal Flux Header Auth account\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"56e13e53-1697-4970-9bea-b75e0e849425\",\n      \"name\": \"Download Image\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1400,\n        -20\n      ],\n      \"parameters\": {\n        \"url\": \"={{ $json.images[0].url }}\",\n        \"options\": {}\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"dd2efd2c-8712-4a77-8786-cccebdec876b\",\n      \"name\": \"Google Drive\",\n      \"type\": \"n8n-nodes-base.googleDrive\",\n      \"position\": [\n        1580,\n        -20\n      ],\n      \"parameters\": {\n        \"name\": \"={{ $binary.data.fileName }}\",\n        \"driveId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"My Drive\"\n        },\n        \"options\": {},\n        \"folderId\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"1R3PSyHXWHlY9DRFdOUEAPEop2fZy-_-K\",\n          \"cachedResultUrl\": \"https://drive.google.com/drive/folders/1R3PSyHXWHlY9DRFdOUEAPEop2fZy-_-K\",\n          \"cachedResultName\": \"Flux Image\"\n        }\n      },\n      \"credentials\": {\n        \"googleDriveOAuth2Api\": {\n          \"id\": \"CFiX9XTXGg4hGaGV\",\n          \"name\": \"Google Drive account\"\n        }\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"a598d868-0461-41fc-b6aa-f9998e9d6146\",\n      \"name\": \"When clicking ‘Test workflow’\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        -60,\n        0\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"a576d7b6-b2f3-4d53-8e7f-bb6449ff9c64\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        80,\n        -120\n      ],\n      \"parameters\": {\n        \"width\": 260,\n        \"height\": 120,\n        \"content\": \"## Set Parameter Here \\nset Image Prompt and related settings\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"d39e85a8-3ddd-4f10-ba4c-beb86a850e10\",\n      \"name\": \"Wait 3 Sec\",\n      \"type\": \"n8n-nodes-base.wait\",\n      \"position\": [\n        640,\n        0\n      ],\n      \"webhookId\": \"61a8626c-e281-4d4b-abb0-b9d87d1b4e7c\",\n      \"parameters\": {\n        \"amount\": 3\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"b27ac2f1-3f14-467e-81c4-af8b8fb37138\",\n      \"name\": \"Check Status\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        840,\n        0\n      ],\n      \"parameters\": {\n        \"url\": \"=https://queue.fal.run/fal-ai/flux/requests/{{ $json.request_id }}/status\",\n        \"options\": {},\n        \"authentication\": \"genericCredentialType\",\n        \"genericAuthType\": \"httpHeaderAuth\"\n      },\n      \"credentials\": {\n        \"httpHeaderAuth\": {\n          \"id\": \"lNxvZHlUafPAHBYN\",\n          \"name\": \"Fal Flux Header Auth account\"\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"7ee45dab-8e31-44de-bbb1-e99a565ee19c\",\n      \"name\": \"Completed?\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        1020,\n        0\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"299a7c34-dcff-4991-a73f-5b1a84f188ea\",\n              \"operator\": {\n                \"name\": \"filter.operator.equals\",\n                \"type\": \"string\",\n                \"operation\": \"equals\"\n              },\n              \"leftValue\": \"={{ $json.status }}\",\n              \"rightValue\": \"COMPLETED\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"c5036a7d-1879-449f-8ce9-9c1cf2c7426b\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        1300,\n        -100\n      ],\n      \"parameters\": {\n        \"width\": 220,\n        \"height\": 100,\n        \"content\": \"## Set Drive Folder Here \"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"c8887168-6234-486c-b7cb-cc0752c6341c\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        360,\n        -180\n      ],\n      \"parameters\": {\n        \"width\": 260,\n        \"height\": 180,\n        \"content\": \"### Generic Credential Type\\n### Header : Authorization\\nKey $FAL_KEY\\\"\\n\\nfor example:\\nKey 6f2960baxxxxxxxxx\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"587043c4-e808-4c3f-910f-60f5eb8aff15\",\n      \"name\": \"Edit Fields\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        180,\n        0\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"f0a033cf-fa2b-4930-93b9-ff9c45fa7c14\",\n              \"name\": \"Prompt\",\n              \"type\": \"string\",\n              \"value\": \"Thai young woman net idol 25 yrs old, walking on the street\"\n            },\n            {\n              \"id\": \"2b56185d-5c61-4c17-85f1-53ac4aab2b18\",\n              \"name\": \"Width\",\n              \"type\": \"number\",\n              \"value\": 1024\n            },\n            {\n              \"id\": \"51eb65c0-ae0a-4ce7-ab00-9d13f05ce1e6\",\n              \"name\": \"Height\",\n              \"type\": \"number\",\n              \"value\": 768\n            },\n            {\n              \"id\": \"8e89fca7-d380-4876-b973-69caa0394bc5\",\n              \"name\": \"Steps\",\n              \"type\": \"number\",\n              \"value\": 30\n            },\n            {\n              \"id\": \"875e06b7-352a-4dde-8595-3274e9969c9c\",\n              \"name\": \"Guidance\",\n              \"type\": \"number\",\n              \"value\": 3.5\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"82877b10-5bbc-4c59-828b-4abc3ad53a5f\",\n  \"connections\": {\n    \"Fal Flux\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Wait 3 Sec\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Completed?\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get Image Result URL\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Wait 3 Sec\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Wait 3 Sec\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Check Status\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Edit Fields\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Fal Flux\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Check Status\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Completed?\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Download Image\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Google Drive\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get Image Result URL\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Download Image\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When clicking ‘Test workflow’\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Edit Fields\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.googleDrive",
      "n8n-nodes-base.manualTrigger",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.wait",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.if",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.set"
    ],
    "trigger": null
  }
}