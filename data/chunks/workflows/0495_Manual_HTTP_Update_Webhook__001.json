{
  "source": "0495_Manual_HTTP_Update_Webhook.json",
  "index": 1,
  "content": "{\n  \"meta\": {\n    \"instanceId\": \"9890889b6220dd611ebaa1144286714cf45b0e89f22a3c881f9e9d30deb831db\"\n  },\n  \"nodes\": [\n    {\n      \"id\": \"b9962fd6-af11-4a3a-935c-c168ac85eaa1\",\n      \"name\": \"When clicking \\\"Test workflow\\\"\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        80,\n        300\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"2ba3fe3a-e4c5-4014-8cb2-80716f18b222\",\n      \"name\": \"Get records\",\n      \"type\": \"n8n-nodes-base.airtable\",\n      \"position\": [\n        300,\n        300\n      ],\n      \"parameters\": {\n        \"base\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"appkkDhXu7vZCFspD\",\n          \"cachedResultUrl\": \"https://airtable.com/appkkDhXu7vZCFspD\",\n          \"cachedResultName\": \"n8n test\"\n        },\n        \"limit\": 10,\n        \"table\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"tblMdmUiSTBrvrLq3\",\n          \"cachedResultUrl\": \"https://airtable.com/appkkDhXu7vZCFspD/tblMdmUiSTBrvrLq3\",\n          \"cachedResultName\": \"SEO meta title & desc\"\n        },\n        \"options\": {},\n        \"operation\": \"search\",\n        \"returnAll\": false,\n        \"filterByFormula\": \"=AND(url != \\\"\\\", {title tag} = \\\"\\\", {meta desc} = \\\"\\\")\"\n      },\n      \"credentials\": {\n        \"airtableTokenApi\": {\n          \"id\": \"yw6pm1U4Hw8kKDhu\",\n          \"name\": \"Airtable Personal Access Token account\"\n        }\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"0f26bb3c-f2cc-476b-b1af-3d4cd98463ce\",\n      \"name\": \"Get url content\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        500,\n        300\n      ],\n      \"parameters\": {\n        \"url\": \"={{ $json.url }}\",\n        \"options\": {}\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"3c67c390-5144-44cb-8618-d7e7e6c6cae5\",\n      \"name\": \"Extract title tag and meta description\",\n      \"type\": \"n8n-nodes-base.html\",\n      \"position\": [\n        700,\n        300\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"operation\": \"extractHtmlContent\",\n        \"extractionValues\": {\n          \"values\": [\n            {\n              \"key\": \"titleTag\",\n              \"cssSelector\": \"title\"\n            },\n            {\n              \"key\": \"metaDesc\",\n              \"attribute\": \"content\",\n              \"cssSelector\": \"meta[name=\\\"description\\\"]\",\n              \"returnValue\": \"attribute\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 1.2\n    },\n    {\n      \"id\": \"7028b7af-0959-4ed5-bc54-fceb2e224976\",\n      \"name\": \"Update original record\",\n      \"type\": \"n8n-nodes-base.airtable\",\n      \"position\": [\n        940,\n        300\n      ],\n      \"parameters\": {\n        \"base\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"appkkDhXu7vZCFspD\",\n          \"cachedResultUrl\": \"https://airtable.com/appkkDhXu7vZCFspD\",\n          \"cachedResultName\": \"n8n test\"\n        },\n        \"table\": {\n          \"__rl\": true,\n          \"mode\": \"list\",\n          \"value\": \"tblMdmUiSTBrvrLq3\",\n          \"cachedResultUrl\": \"https://airtable.com/appkkDhXu7vZCFspD/tblMdmUiSTBrvrLq3\",\n          \"cachedResultName\": \"SEO meta title & desc\"\n        },\n        \"columns\": {\n          \"value\": {\n            \"id\": \"={{ $('Get records').item.json.id }}\",\n            \"meta desc\": \"={{ $json.metaDesc }}\",\n            \"title tag\": \"={{ $json.titleTag }}\"\n          },\n          \"schema\": [\n            {\n              \"id\": \"id\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"readOnly\": true,\n              \"required\": false,\n              \"displayName\": \"id\",\n              \"defaultMatch\": true\n            },\n            {\n              \"id\": \"url\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"readOnly\": false,\n              \"required\": false,\n              \"displayName\": \"url\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"title tag\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"readOnly\": false,\n              \"required\": false,\n              \"displayName\": \"title tag\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"meta desc\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": false,\n              \"readOnly\": false,\n              \"required\": false,\n              \"displayName\": \"meta desc\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Created\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": true,\n              \"readOnly\": true,\n              \"required\": false,\n              \"displayName\": \"Created\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Calculation\",\n              \"type\": \"string\",\n              \"display\": true,\n              \"removed\": true,\n              \"readOnly\": true,\n              \"required\": false,\n              \"displayName\": \"Calculation\",\n              \"defaultMatch\": false,\n              \"canBeUsedToMatch\": true\n            }\n          ],\n          \"mappingMode\": \"defineBelow\",\n          \"matchingColumns\": [\n            \"id\"\n          ]\n        },\n        \"options\": {},\n        \"operation\": \"update\"\n      },\n      \"credentials\": {\n        \"airtableTokenApi\": {\n          \"id\": \"yw6pm1U4Hw8kKDhu\",\n          \"name\": \"Airtable Personal Access Token account\"\n        }\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"5b518969-553e-462f-ad4f-eb07e9b17eef\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        140,\n        -60\n      ],\n      \"parameters\": {\n        \"width\": 862.7929292929296,\n        \"height\": 316.6010101010099,\n        \"content\": \"## How to use the workflow\\n1. Set a Base in Airtable with a table with the following structure:\\n  `url`, `title tag`, `meta desc`\\n2. Connect Airtable to the nodes and, with the following formula, get all the records that miss `title tag` and `meta desc`.\\n3. Put a bunch of url in the table in the field `url` and let the workflow work.\\n\\n## Extra\\n\\n* You can also calculate the length for title tag and meta desc using formula field inside Airtable. This is the formula:\\n  `LEN({title tag})` or `LEN({meta desc})`\\n* You can automate the process calling a Webhook from Airtable. For this, you need an Airtable paid plan.\"\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"pinData\": {},\n  \"connections\": {\n    \"Get records\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get url content\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get url content\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Extract title tag and meta description\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When clicking \\\"Test workflow\\\"\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get records\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Extract title tag and meta description\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Update original record\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.manualTrigger",
      "n8n-nodes-base.airtable",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.html",
      "n8n-nodes-base.airtable",
      "n8n-nodes-base.stickyNote"
    ],
    "trigger": null
  }
}