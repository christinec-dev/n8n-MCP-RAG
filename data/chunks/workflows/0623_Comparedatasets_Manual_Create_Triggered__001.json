{
  "source": "0623_Comparedatasets_Manual_Create_Triggered.json",
  "index": 1,
  "content": "{\n  \"meta\": {\n    \"instanceId\": \"6045c639951d83c8706b0dd8d6330164bda01fe58f103cedc2c276bf1f9c11f1\"\n  },\n  \"nodes\": [\n    {\n      \"id\": \"ab8e653f-a60c-497c-b732-6dea355aa985\",\n      \"name\": \"Compare the two Datasets\",\n      \"type\": \"n8n-nodes-base.compareDatasets\",\n      \"position\": [\n        900,\n        160\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"mergeByFields\": {\n          \"values\": [\n            {\n              \"field1\": \"Playlist avant ajout\",\n              \"field2\": \"Nouvelle pistes\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.3\n    },\n    {\n      \"id\": \"606aa397-efd6-4f6b-bfa6-946523ed80f2\",\n      \"name\": \"Extract the spotify track ID\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        580,\n        80\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"dd3db6c8-ecf5-4595-ac4b-559965b6e507\",\n              \"name\": \"Playlist avant ajout\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.track.id }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"75e48bf0-5003-4904-b8c7-0cca005bacd7\",\n      \"name\": \"Extract the Spotify Track ID\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        580,\n        260\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"a9593caf-e403-4626-a96f-499e9f78465e\",\n              \"name\": \"Nouvelle pistes\",\n              \"type\": \"string\",\n              \"value\": \"={{ $json.id }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"c536f1fb-cfbe-4a22-8f8f-37422629cc2b\",\n      \"name\": \"Find the returned tracks on Spotify\",\n      \"type\": \"n8n-nodes-base.spotify\",\n      \"position\": [\n        580,\n        440\n      ],\n      \"parameters\": {\n        \"limit\": \"={{ 1 }}\",\n        \"query\": \"={{ $json.snippet.title }}\",\n        \"filters\": {},\n        \"resource\": \"track\",\n        \"operation\": \"search\"\n      },\n      \"credentials\": {\n        \"spotifyOAuth2Api\": {\n          \"id\": \"sJyANc6jgR7IWZ20\",\n          \"name\": \"Spotify account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"6be6eb69-0e90-46d8-9e74-92372c9ed5b8\",\n      \"name\": \"Get my tracks inside my playlist\",\n      \"type\": \"n8n-nodes-base.youTube\",\n      \"position\": [\n        160,\n        280\n      ],\n      \"parameters\": {\n        \"part\": [\n          \"snippet\"\n        ],\n        \"options\": {},\n        \"resource\": \"playlistItem\",\n        \"operation\": \"getAll\",\n        \"returnAll\": true,\n        \"playlistId\": \"=PL552450E1514256AB\"\n      },\n      \"credentials\": {\n        \"youTubeOAuth2Api\": {\n          \"id\": \"QhzjhQ4w5yvTdBIN\",\n          \"name\": \"YouTube account\"\n        }\n      },\n      \"executeOnce\": true,\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"8a2d297f-748c-4e59-a935-fecc944060aa\",\n      \"name\": \"Loop Over Items\",\n      \"type\": \"n8n-nodes-base.splitInBatches\",\n      \"position\": [\n        360,\n        280\n      ],\n      \"parameters\": {\n        \"options\": {}\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"677e635b-8ae6-48b4-8687-0615a044739c\",\n      \"name\": \"When clicking ‘Test workflow’\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        -80,\n        180\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"d7e52845-2279-40a5-82d3-5a923ead191c\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        -640,\n        -40\n      ],\n      \"parameters\": {\n        \"width\": 517.7419354838706,\n        \"height\": 654.6451612903234,\n        \"content\": \"## Workflow Overview\\n\\nThis workflow automates the process of updating a Spotify playlist with tracks from a YouTube playlist, ensuring no duplicates are added.\\n\\n## Key Components\\n\\n1. **Manual Trigger**: Starts the workflow when you click ‘Test workflow’.\\n   \\n2. **Spotify Integration**: Retrieves tracks from a specified Spotify playlist.\\n\\n3. **YouTube Integration**: Fetches tracks from a designated YouTube playlist.\\n\\n4. **Batch Processing**: Processes tracks in batches to handle multiple items efficiently.\\n\\n5. **Track Search**: Searches for YouTube tracks on Spotify to find corresponding IDs.\\n\\n6. **Comparison**: Compares existing Spotify tracks with YouTube tracks to identify which ones to add.\\n\\n7. **Track Addition**: Adds new Spotify tracks to the playlist that are not already included.\\n\\nIf you have any questions or need clarification, feel free to ask!\\n\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"cd92585a-6c56-4a35-8714-96d2c73444bd\",\n      \"name\": \"Sticky Note1\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        60,\n        0\n      ],\n      \"parameters\": {\n        \"color\": 5,\n        \"width\": 251.65748259981103,\n        \"height\": 468.0906115664312,\n        \"content\": \"### Retrieve the playlists you want to synchronise \"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"a0ec1b4c-2422-4daa-92d6-4c84a1cecbf6\",\n      \"name\": \"Get tracks inside the Spotify Playlist\",\n      \"type\": \"n8n-nodes-base.spotify\",\n      \"position\": [\n        160,\n        80\n      ],\n      \"parameters\": {\n        \"id\": \"5SY22gVudzaD31v5rq5jcH\",\n        \"resource\": \"playlist\",\n        \"operation\": \"getTracks\",\n        \"returnAll\": true\n      },\n      \"credentials\": {\n        \"spotifyOAuth2Api\": {\n          \"id\": \"sJyANc6jgR7IWZ20\",\n          \"name\": \"Spotify account\"\n        }\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"accba86b-6786-412e-8e87-17be458f6255\",\n      \"name\": \"Sticky Note2\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        320,\n        620\n      ],\n      \"parameters\": {\n        \"color\": 6,\n        \"width\": 414.86223899716344,\n        \"height\": 80,\n        \"content\": \"### Search for the tracks on spotify one-by-one\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"062e4341-bb5c-4302-85f6-dedb03481e64\",\n      \"name\": \"Add tracks not already in playlist\",\n      \"type\": \"n8n-nodes-base.spotify\",\n      \"position\": [\n        1120,\n        300\n      ],\n      \"parameters\": {\n        \"id\": \"spotify:playlist:5SY22gVudzaD31v5rq5jcH\",\n        \"trackID\": \"=spotify:track:{{ $json['Nouvelle pistes'] }}\",\n        \"resource\": \"playlist\",\n        \"additionalFields\": {}\n      },\n      \"credentials\": {\n        \"spotifyOAuth2Api\": {\n          \"id\": \"sJyANc6jgR7IWZ20\",\n          \"name\": \"Spotify account\"\n        }\n      },\n      \"typeVersion\": 1\n    }\n  ],\n  \"pinData\": {},\n  \"connections\": {\n    \"Loop Over Items\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Extract the Spotify Track ID\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Find the returned tracks on Spotify\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Compare the two Datasets\": {\n      \"main\": [\n        null,\n        null,\n        null,\n        [\n          {\n            \"node\": \"Add tracks not already in playlist\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Extract the Spotify Track ID\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Compare the two Datasets\",\n            \"type\": \"main\",\n            \"index\": 1\n          }\n        ]\n      ]\n    },\n    \"Extract the spotify track ID\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Compare the two Datasets\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get my tracks inside my playlist\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Loop Over Items\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When clicking ‘Test workflow’\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get my tracks inside my playlist\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Get tracks inside the Spotify Playlist\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Find the returned tracks on Spotify\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Loop Over Items\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get tracks inside the Spotify Playlist\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Extract the spotify track ID\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.compareDatasets",
      "n8n-nodes-base.set",
      "n8n-nodes-base.set",
      "n8n-nodes-base.spotify",
      "n8n-nodes-base.youTube",
      "n8n-nodes-base.splitInBatches",
      "n8n-nodes-base.manualTrigger",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.spotify",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.spotify"
    ],
    "trigger": null
  }
}