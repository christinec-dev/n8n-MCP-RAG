{
  "source": "1356_Code_Webhook_Import_Webhook.json",
  "index": 1,
  "content": "{\n  \"id\": \"ZDL9028SnyCxS5tf\",\n  \"meta\": {\n    \"instanceId\": \"15c09ee9508dd818e298e675375571ba4b871bbb8c420fd01ac9ed7c58622669\"\n  },\n  \"name\": \"Bitrix24 Task Form Widget Application Workflow example with Webhook Integration\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"cb30a147-2965-4b45-8974-12fea1eac96d\",\n      \"name\": \"Bitrix24 Handler\",\n      \"type\": \"n8n-nodes-base.webhook\",\n      \"position\": [\n        -800,\n        -40\n      ],\n      \"webhookId\": \"c3ae607d-41f0-42bc-b669-c2c77936d443\",\n      \"parameters\": {\n        \"path\": \"bitrix24/widgethandler.php\",\n        \"options\": {},\n        \"httpMethod\": \"POST\",\n        \"responseMode\": \"responseNode\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"08a11f9e-cc9a-430f-8ba1-70985504a10d\",\n      \"name\": \"Extract Credentials\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        -600,\n        -40\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"030f8f90-2669-4c20-9eab-c572c4b7c70c\",\n              \"name\": \"CLIENT_ID\",\n              \"type\": \"string\",\n              \"value\": \"=local.67b8a796e92127.82791242\"\n            },\n            {\n              \"id\": \"de9bbb7a-b782-4540-b259-527625db8490\",\n              \"name\": \"CLIENT_SECRET\",\n              \"type\": \"string\",\n              \"value\": \"=BylHzv4eBw2JuDm7QXOP0C25qzEwf7ATGh79JeOn1iY5lmIRC2\"\n            },\n            {\n              \"id\": \"69bbcb1f-ba6e-42eb-be8a-ee0707ce997d\",\n              \"name\": \"domain\",\n              \"type\": \"string\",\n              \"value\": \"={{$json.query.DOMAIN || $json.body.domain}}\"\n            },\n            {\n              \"id\": \"dc1b0515-f06a-4731-b0dc-912a8d04e56b\",\n              \"name\": \"access_token\",\n              \"type\": \"string\",\n              \"value\": \"={{$json.body.AUTH_ID || $json.body.access_token}}\"\n            },\n            {\n              \"id\": \"86b7aff7-1e25-4b12-a366-23cf34e5a405\",\n              \"name\": \"refresh_token\",\n              \"type\": \"string\",\n              \"value\": \"={{$json.body.REFRESH_ID || $json.body.refresh_token}}\"\n            },\n            {\n              \"id\": \"a1e55fc3-7d29-4f7d-b1a9-c458d2b10e33\",\n              \"name\": \"application_token\",\n              \"type\": \"string\",\n              \"value\": \"={{$json.query.APP_SID || $json.body.APP_SID}}\"\n            },\n            {\n              \"id\": \"ba921f15-28ac-4c0e-89a1-8da755c70892\",\n              \"name\": \"expires_in\",\n              \"type\": \"string\",\n              \"value\": \"={{$json.body.AUTH_EXPIRES || 3600}}\"\n            },\n            {\n              \"id\": \"dbca2de9-55aa-4642-b671-22a195631657\",\n              \"name\": \"=client_endpoint\",\n              \"type\": \"string\",\n              \"value\": \"=https://{{ $json.query.DOMAIN }}/rest/\"\n            },\n            {\n              \"id\": \"1a53f9e3-bfc3-4ea5-88db-514ae1e1253c\",\n              \"name\": \"settingsFilePath\",\n              \"type\": \"string\",\n              \"value\": \"/data/files/hotline_files/\"\n            }\n          ]\n        },\n        \"includeOtherFields\": true\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"c025c87d-8015-4323-ac60-191cabc8b5e0\",\n      \"name\": \"Check Event Type\",\n      \"type\": \"n8n-nodes-base.code\",\n      \"position\": [\n        -400,\n        -40\n      ],\n      \"parameters\": {\n        \"jsCode\": \"// PHP szerinti ellenőrzés: $_REQUEST['event'] == 'ONAPPINSTALL' vagy $_REQUEST['PLACEMENT'] == 'DEFAULT'\\nconst items = $input.all();\\nconst requestData = items[0].json;\\n\\nlet isInstallation = false;\\nlet isInstallationFinished = false;\\n\\nif (requestData.body && requestData.body.event === 'ONAPPINSTALL') {\\n  isInstallation = true;\\n} else if (requestData.body && requestData.body.PLACEMENT === 'DEFAULT') {\\n  isInstallation = true;\\n  if (requestData.body && requestData.body.PLACEMENT_OPTIONS) {\\n  po = JSON.parse(requestData.body.PLACEMENT_OPTIONS);\\n  if (po.install_finished === 'Y') {\\n    isInstallationFinished = true\\n  }  \\n} \\n} \\nreturn {\\n  json: {\\n    ...requestData,\\n    isInstallation: isInstallation,\\n    isInstallationFinished : isInstallationFinished \\n  }\\n};\"\n      },\n      \"typeVersion\": 2\n    },\n    {\n      \"id\": \"7ba4765a-6c58-4d67-b3ae-5598474916c5\",\n      \"name\": \"Is Installation?\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        -200,\n        -40\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"or\",\n          \"conditions\": [\n            {\n              \"id\": \"da73d0ba-6eeb-405e-89fe-9d041fd2e0cd\",\n              \"operator\": {\n                \"type\": \"boolean\",\n                \"operation\": \"equals\"\n              },\n              \"leftValue\": \"={{$json.isInstallation}}\",\n              \"rightValue\": true\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"8e429e18-392c-4123-969a-f9086d12709d\",\n      \"name\": \"Register Placement\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        220,\n        -400\n      ],\n      \"parameters\": {\n        \"url\": \"=https://{{$json.domain}}/rest/placement.bind?auth={{$json.access_token}}\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"sendBody\": true,\n        \"bodyParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"PLACEMENT\",\n              \"value\": \"TASK_VIEW_TAB\"\n            },\n            {\n              \"name\": \"HANDLER\",\n              \"value\": \"={{$json.webhookUrl}}\"\n            },\n            {\n              \"name\": \"TITLE\",\n              \"value\": \"My App\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"e5d87f1e-1580-433f-990f-624e64fb80d2\",\n      \"name\": \"Process Settings\",\n      \"type\": \"n8n-nodes-base.function\",\n      \"position\": [\n        480,\n        60\n      ],\n      \"parameters\": {\n        \"functionCode\": \"// Process settings from file\\nconst items = $input.all();\\nlet settingsData = {};\\n\\ntry {\\n  // Try to parse the file content\\n  settingsData = items[0].json.data;\\n  \\n  // Extract task ID from PLACEMENT_OPTIONS if available\\n  let taskId = null;\\n  const placementOptions = items[0].json.body.PLACEMENT_OPTIONS;\\n  \\n  if (placementOptions) {\\n    try {\\n      const options = JSON.parse(placementOptions);\\n      taskId = options.taskId;\\n    } catch (e) {\\n      // Ignore parse errors\\n    }\\n  }\\n  \\n  return {\\n    json: {\\n      ...settingsData,\\n      taskId: taskId,\\n      success: true,\\n      originalRequest: items[0].json\\n    }\\n  };\\n} catch (error) {\\n  console.log (\\\"ERROR: \\\" + error)\\n  // Return error if file doesn't exist or is invalid\\n  return {\\n    json: {\\n      error: 'No valid settings found',\\n      success: false,\\n      originalRequest: items[0].json\\n    }\\n  };\\n}\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"c7384217-38be-4184-b60f-a99c6b762406\",\n      \"name\": \"Installation Response\",\n      \"type\": \"n8n-nodes-base.respondToWebhook\",\n      \"position\": [\n        1020,\n        -380\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"responseCode\": 200,\n          \"responseHeaders\": {\n            \"entries\": [\n              {\n                \"name\": \"Content-Type\",\n                \"value\": \"text/html\"\n              }\n            ]\n          }\n        },\n        \"respondWith\": \"text\",\n        \"responseBody\": \"=<head>\\n    <script src=\\\"//api.bitrix24.com/api/v1/\\\"></script>\\n    <script>\\n        BX24.init(function(){\\n            BX24.installFinish();\\n        });\\n    </script>\\n</head>\\n<body>\\n    installation has been finished\\n</body>\"\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"47c89107-6e6f-4255-94e6-776c2309de50\",\n      \"name\": \"Has Valid Settings?\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        660,\n        60\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"or\",\n          \"conditions\": [\n            {\n              \"id\": \"71e52c3d-c95c-4ecf-8dce-dbad5c9db29f\",\n              \"operator\": {\n                \"type\": \"boolean\",\n                \"operation\": \"equals\"\n              },\n              \"leftValue\": \"={{$json.success}}\",\n              \"rightValue\": true\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"220b32af-d886-4315-808e-825834eb440e\",\n      \"name\": \"Get Task Data\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        920,\n        -40\n      ],\n      \"parameters\": {\n        \"url\": \"=https://{{ $json.originalRequest.query.DOMAIN }}/rest/tasks.task.get?auth={{ $json.originalRequest.access_token }}\",\n        \"method\": \"POST\",\n        \"options\": {},\n        \"jsonBody\": \"={{ $json.originalRequest.body.PLACEMENT_OPTIONS }}\",\n        \"sendBody\": true,\n        \"specifyBody\": \"json\"\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"e25fb425-28f2-4e48-85b2-8917d4a7497d\",\n      \"name\": \"Format Task Data\",\n      \"type\": \"n8n-nodes-base.function\",\n      \"position\": [\n        1100,\n        -40\n      ],\n      \"parameters\": {\n        \"functionCode\": \"// Format Task Data for display\\nconst items = $input.all();\\nlet taskData = {};\\n\\ntry {\\n  taskData = items[0].json.result.task;\\n} catch (error) {\\n  return {\\n    json: {\\n      taskHtml: '<div class=\\\"alert alert-danger\\\">Error loading task data</div>'\\n    }\\n  };\\n}\\n\\n// Create HTML table from task data\\nlet tableHtml = '<table class=\\\"table table-striped\\\">\\\\n';\\n\\nfor (const [field, value] of Object.entries(taskData)) {\\n  let displayValue = '';\\n  \\n  if (Array.isArray(value)) {\\n    displayValue = value.join(', ');\\n  } else if (value !== null && value !== undefined) {\\n    displayValue = value.toString();\\n  }\\n  \\n  tableHtml += `  <tr>\\\\n    <td>${field}</td>\\\\n    <td>${displayValue}</td>\\\\n  </tr>\\\\n`;\\n}\\n\\ntableHtml += '</table>';\\n\\nreturn {\\n  json: {\\n    taskHtml: tableHtml\\n  }\\n};\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"a9d4ca61-d9e0-4a57-9807-40dc18625ce2\",\n      \"name\": \"Task View Response\",\n      \"type\": \"n8n-nodes-base.respondToWebhook\",\n      \"position\": [\n        1280,\n        -40\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"responseCode\": 200,\n          \"responseHeaders\": {\n            \"entries\": [\n              {\n                \"name\": \"Content-Type\",\n                \"value\": \"text/html\"\n              }\n            ]\n          }\n        },\n        \"respondWith\": \"text\",\n        \"responseBody\": \"=<html>\\n<head>\\n\\t<meta charset=\\\"utf-8\\\">\\n\\t<meta http-equiv=\\\"X-UA-Compatible\\\" content=\\\"IE=edge\\\">\\n\\t<meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1\\\">\\n\\n\\t<!-- Latest compiled and minified CSS -->\\n\\t<link rel=\\\"stylesheet\\\" href=\\\"css/app.css\\\">\\n\\t<script\\n\\t\\tsrc=\\\"https://code.jquery.com/jquery-3.6.0.js\\\"\\n\\t\\tintegrity=\\\"sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=\\\"\\n\\t\\tcrossorigin=\\\"anonymous\\\"></script>\\n\\n\\t<title>Task View</title>\\n</head>\\n<body class=\\\"container-fluid\\\">\\n{{$json.taskHtml}}\\n</body>\\n</html>\"\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"5bbbf72e-d743-450a-9534-a2a6c569f73d\",\n      \"name\": \"Error Response\",\n      \"type\": \"n8n-nodes-base.respondToWebhook\",\n      \"position\": [\n        940,\n        160\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"responseCode\": 200,\n          \"responseHeaders\": {\n            \"entries\": [\n              {\n                \"name\": \"Content-Type\",\n                \"value\": \"text/html\"\n              }\n            ]\n          }\n        },\n        \"respondWith\": \"text\",\n        \"responseBody\": \"=<html>\\n<head>\\n\\t<meta charset=\\\"utf-8\\\">\\n\\t<meta http-equiv=\\\"X-UA-Compatible\\\" content=\\\"IE=edge\\\">\\n\\t<meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1\\\">\\n\\t<title>Error</title>\\n</head>\\n<body>\\n\\t<div class=\\\"alert alert-danger\\\">\\n\\t\\tSettings not found or access token expired. Please reinstall the application.\\n\\t</div>\\n</body>\\n</html>\"\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"8fbaed6d-e9d8-4dbd-805f-a9e2a3e791c5\",\n      \"name\": \"Save Installation Settings\",\n      \"type\": \"n8n-nodes-base.readWriteFile\",\n      \"position\": [\n        620,\n        -240\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"append\": false\n        },\n        \"fileName\": \"={{ $('Set Settings Data').item.json.settingsFilePath }}/widget-app-settings.json\",\n        \"operation\": \"write\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"38c01b85-cf8c-4df8-b226-cd199cdee1f2\",\n      \"name\": \"Set Settings Data\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        220,\n        -240\n      ],\n      \"parameters\": {\n        \"include\": \"selected\",\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"ad1b12be-7b21-42cb-b8b5-3f141dd6040a\",\n              \"name\": \"data\",\n              \"type\": \"object\",\n              \"value\": \"={\\n  \\\"access_token\\\": \\\"{{$json.access_token}}\\\",\\n  \\\"refresh_token\\\": \\\"{{$json.refresh_token}}\\\",\\n  \\\"domain\\\": \\\"{{$json.domain}}\\\",\\n  \\\"expires_in\\\": \\\"{{$json.expires_in}}\\\",\\n  \\\"application_token\\\": \\\"{{$json.application_token}}\\\",\\n  \\\"client_endpoint\\\": \\\"https://{{$json.domain}}/rest/\\\",\\n  \\\"C_REST_CLIENT_ID\\\": \\\"app.644f4956606e88.45725320\\\",\\n  \\\"C_REST_CLIENT_SECRET\\\": \\\"lUb7WU81Wc4UVCWBJBh0xX5sKYWM4nKmsJl0m4vWb2XR6ByRGF\\\",\\n  \\\"updated_at\\\": \\\"{{$now}}\\\"\\n}\"\n            }\n          ]\n        },\n        \"includeFields\": \"settingsFilePath\",\n        \"includeOtherFields\": true\n      },\n      \"typeVersion\": 3.4\n    },\n    {\n      \"id\": \"490779aa-5c6b-49cb-960d-d710a848eb60\",\n      \"name\": \"Create Settings File\",\n      \"type\": \"n8n-nodes-base.convertToFile\",\n      \"position\": [\n        400,\n        -240\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"fileName\": \"={{ $json.settingsFilePath }}/widget-app-settings.json\"\n        },\n        \"operation\": \"toJson\"\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"902671fc-9286-467b-9060-7326ee14b41a\",\n      \"name\": \"Read Installation Settings\",\n      \"type\": \"n8n-nodes-base.readWriteFile\",\n      \"position\": [\n        -40,\n        140\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"fileSelector\": \"={{ $json.settingsFilePath }}/widget-app-settings.json\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"8d38c6be-c3ed-493a-8600-a9adf5acff55\",\n      \"name\": \"If Installation finished\",\n      \"type\": \"n8n-nodes-base.if\",\n      \"position\": [\n        -20,\n        -180\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"conditions\": {\n          \"options\": {\n            \"version\": 2,\n            \"leftValue\": \"\",\n            \"caseSensitive\": true,\n            \"typeValidation\": \"strict\"\n          },\n          \"combinator\": \"and\",\n          \"conditions\": [\n            {\n              \"id\": \"3c09735b-94df-4307-aadd-23080bdac02b\",\n              \"operator\": {\n                \"type\": \"boolean\",\n                \"operation\": \"equals\"\n              },\n              \"leftValue\": \"={{ $json.isInstallationFinished }}\",\n              \"rightValue\": true\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 2.2\n    },\n    {\n      \"id\": \"0047bf02-13d9-4ba6-abcd-a557b9ba3fbf\",\n      \"name\": \"Installation finished Response\",\n      \"type\": \"n8n-nodes-base.respondToWebhook\",\n      \"position\": [\n        220,\n        -580\n      ],\n      \"parameters\": {\n        \"options\": {\n          \"responseCode\": 200,\n          \"responseHeaders\": {\n            \"entries\": [\n              {\n                \"name\": \"Content-Type\",\n                \"value\": \"text/html\"\n              }\n            ]\n          }\n        },\n        \"respondWith\": \"text\",\n        \"responseBody\": \"=<head>\\n</head>\\n<body>\\n    installation has been fully finished...\\n</body>\"\n      },\n      \"typeVersion\": 1.1\n    },\n    {\n      \"id\": \"8a060ae1-801f-469f-8087-26aee15486e3\",\n      \"name\": \"Merge Installation info\",\n      \"type\": \"n8n-nodes-base.merge\",\n      \"position\": [\n        780,\n        -380\n      ],\n      \"parameters\": {\n        \"mode\": \"combine\",\n        \"options\": {},\n        \"combineBy\": \"combineAll\"\n      },\n      \"typeVersion\": 3\n    },\n    {\n      \"id\": \"b5dbdd6f-b81b-4457-8f04-75a951903755\",\n      \"name\": \"Extract Installation Settings\",\n      \"type\": \"n8n-nodes-base.extractFromFile\",\n      \"position\": [\n        140,\n        140\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"operation\": \"fromJson\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"b20494d5-409c-47a0-9cba-ef5798a0d7cb\",\n      \"name\": \"Merge request data with installation settings\",\n      \"type\": \"n8n-nodes-base.merge\",\n      \"position\": [\n        300,\n        0\n      ],\n      \"parameters\": {\n        \"mode\": \"combine\",\n        \"options\": {},\n        \"combineBy\": \"combineAll\"\n      },\n      \"typeVersion\": 3\n    }\n  ],\n  \"active\": true,\n  \"pinData\": {\n    \"Bitrix24 Handler\": [\n      {\n        \"json\": {\n          \"body\": {\n            \"status\": \"L\",\n            \"AUTH_ID\": \"e393b96700763c9900668809000000b6e0e30725387b1a3ae59c6fafa9ee42e7a25d5e\",\n            \"PLACEMENT\": \"TASK_VIEW_TAB\",\n            \"member_id\": \"19acdffbcfadf692f61b677d3d824490\",\n            \"REFRESH_ID\": \"d312e16700763c9900668809000000b6e0e307f6a903a54b17e22adcad3eb5d2063806\",\n            \"AUTH_EXPIRES\": \"3600\",\n            \"PLACEMENT_OPTIONS\": \"{\\\"taskId\\\":\\\"10184\\\"}\"\n          },\n          \"query\": {\n            \"LANG\": \"en\",\n            \"DOMAIN\": \"hgap.bitrix24.eu\",\n            \"APP_SID\": \"f1be8a08b159e4113606b5f6bfc8d210\",\n            \"PROTOCOL\": \"1\"\n          },\n          \"params\": {},\n          \"headers\": {\n            \"host\": \"orpheus-dev.h-gap.hu\",\n            \"accept\": \"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7\",\n            \"origin\": \"https://hgap.bitrix24.eu\",\n            \"referer\": \"https://hgap.bitrix24.eu/\",\n            \"priority\": \"u=0, i\",\n            \"sec-ch-ua\": \"\\\"Not(A:Brand\\\";v=\\\"99\\\", \\\"Google Chrome\\\";v=\\\"133\\\", \\\"Chromium\\\";v=\\\"133\\\"\",\n            \"x-real-ip\": \"85.66.162.255\",\n            \"user-agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36\",\n            \"content-type\": \"application/x-www-form-urlencoded\",\n            \"cache-control\": \"max-age=0\",\n            \"content-length\": \"305\",\n            \"sec-fetch-dest\": \"iframe\",\n            \"sec-fetch-mode\": \"navigate\",\n            \"sec-fetch-site\": \"cross-site\",\n            \"accept-encoding\": \"gzip, deflate, br, zstd\",\n            \"accept-language\": \"hu-HU,hu;q=0.9,en-US;q=0.8,en;q=0.7\",\n            \"x-forwarded-for\": \"85.66.162.255\",\n            \"sec-ch-ua-mobile\": \"?0\",\n            \"x-forwarded-proto\": \"https\",\n            \"sec-ch-ua-platform\": \"\\\"Windows\\\"\",\n            \"x-forwarded-scheme\": \"https\",\n            \"sec-fetch-storage-access\": \"active\",\n            \"upgrade-insecure-requests\": \"1\"\n          },\n          \"webhookUrl\": \"https://orpheus-dev.h-gap.hu/webhook/bitrix24/widgethandler.php\",\n          \"executionMode\": \"production\"\n        }\n      }\n    ]\n  },\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"72d7eac7-03cb-4792-8f6f-d190631e34f9\",\n  \"connections\": {\n    \"Get Task Data\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Format Task Data\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Bitrix24 Handler\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Extract Credentials\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Check Event Type\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Is Installation?\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Format Task Data\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Task View Response\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Is Installation?\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"If Installation finished\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Read Installation Settings\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Merge request data with installation settings\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Process Settings\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Has Valid Settings?\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Set Settings Data\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Create Settings File\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Register Placement\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Merge Installation info\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Extract Credentials\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Check Event Type\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Has Valid Settings?\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get Task Data\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Error Response\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Create Settings File\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Save Installation Settings\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Merge Installation info\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Installation Response\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"If Installation finished\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Installation finished Response\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"Register Placement\",\n            \"type\": \"main\",\n            \"index\": 0\n          },\n          {\n            \"node\": \"Set Settings Data\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Read Installation Settings\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Extract Installation Settings\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Save Installation Settings\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Merge Installation info\",\n            \"type\": \"main\",\n            \"index\": 1\n          }\n        ]\n      ]\n    },\n    \"Extract Installation Settings\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Merge request data with installation settings\",\n            \"type\": \"main\",\n            \"index\": 1\n          }\n        ]\n      ]\n    },\n    \"Merge request data with installation settings\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Process Settings\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.webhook",
      "n8n-nodes-base.set",
      "n8n-nodes-base.code",
      "n8n-nodes-base.if",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.function",
      "n8n-nodes-base.respondToWebhook",
      "n8n-nodes-base.if",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.function",
      "n8n-nodes-base.respondToWebhook",
      "n8n-nodes-base.respondToWebhook",
      "n8n-nodes-base.readWriteFile",
      "n8n-nodes-base.set",
      "n8n-nodes-base.convertToFile",
      "n8n-nodes-base.readWriteFile",
      "n8n-nodes-base.if",
      "n8n-nodes-base.respondToWebhook",
      "n8n-nodes-base.merge",
      "n8n-nodes-base.extractFromFile",
      "n8n-nodes-base.merge"
    ],
    "trigger": null
  }
}