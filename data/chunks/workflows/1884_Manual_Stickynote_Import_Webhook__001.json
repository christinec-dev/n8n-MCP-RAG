{
  "source": "1884_Manual_Stickynote_Import_Webhook.json",
  "index": 1,
  "content": "{\n  \"id\": \"iA0rm7IWi7xmY5sQ\",\n  \"meta\": {\n    \"instanceId\": \"08daa2aa5b6032ff63690600b74f68f5b0f34a3b100102e019b35c4419168977\",\n    \"templateCredsSetupCompleted\": true\n  },\n  \"name\": \"Get Long Lived Facebook User or Page Access Token\",\n  \"tags\": [],\n  \"nodes\": [\n    {\n      \"id\": \"2a5077ad-89ee-4659-93a9-e01bcceba0ad\",\n      \"name\": \"When clicking ‘Test workflow’\",\n      \"type\": \"n8n-nodes-base.manualTrigger\",\n      \"position\": [\n        480,\n        280\n      ],\n      \"parameters\": {},\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"e2c7ce4c-fbf9-4552-8a9e-5b41d72c8921\",\n      \"name\": \"Get Long Lived FB User Token\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1000,\n        280\n      ],\n      \"parameters\": {\n        \"url\": \"https://graph.facebook.com/v20.0/oauth/access_token\",\n        \"options\": {\n          \"response\": {\n            \"response\": {\n              \"fullResponse\": true\n            }\n          }\n        },\n        \"sendQuery\": true,\n        \"queryParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \" grant_type\",\n              \"value\": \"fb_exchange_token\"\n            },\n            {\n              \"name\": \" client_id\",\n              \"value\": \"={{ $json[' client_id'] }}\"\n            },\n            {\n              \"name\": \" client_secret\",\n              \"value\": \"={{ $json[' client_secret'] }}\"\n            },\n            {\n              \"name\": \" fb_exchange_token\",\n              \"value\": \"={{ $json.user_access_token }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"4e898760-43cd-4d4f-a76c-555175fb2a27\",\n      \"name\": \"Get Long Lived FB Page Token\",\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"position\": [\n        1280,\n        280\n      ],\n      \"parameters\": {\n        \"url\": \"=https://graph.facebook.com/v20.0/{{ $('Set Parameter').item.json.app_scoped_user_id }}/accounts\",\n        \"method\": \"=GET\",\n        \"options\": {\n          \"response\": {\n            \"response\": {\n              \"fullResponse\": true\n            }\n          }\n        },\n        \"sendQuery\": true,\n        \"queryParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \" access_token\",\n              \"value\": \"={{ $json.body.access_token }}\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 4.2\n    },\n    {\n      \"id\": \"6ac48498-014f-4721-9629-acd3bd1329e7\",\n      \"name\": \"Sticky Note\",\n      \"type\": \"n8n-nodes-base.stickyNote\",\n      \"position\": [\n        640,\n        -87.08653868552273\n      ],\n      \"parameters\": {\n        \"width\": 260.14166686078653,\n        \"height\": 552.0076928452548,\n        \"content\": \"## Set Required Facebook Parameter \\n- client_id\\n- client_secret\\n- user_access_token\\n- app-scoped-user-id (optional)\\n\\n## according to this doc\\n https://developers.facebook.com/docs/facebook-login/guides/access-tokens/get-long-lived/\"\n      },\n      \"typeVersion\": 1\n    },\n    {\n      \"id\": \"11a68266-f7ec-4c56-9327-c4fd0e4478f6\",\n      \"name\": \"Set Parameter\",\n      \"type\": \"n8n-nodes-base.set\",\n      \"position\": [\n        700,\n        280\n      ],\n      \"parameters\": {\n        \"options\": {},\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"b1f6b8a1-dc25-4b1e-9aa3-0c0e452ae2de\",\n              \"name\": \" client_id\",\n              \"type\": \"string\",\n              \"value\": \"xxxx\"\n            },\n            {\n              \"id\": \"9a63879a-c359-49ad-9fec-19c9e4c78dd6\",\n              \"name\": \" client_secret\",\n              \"type\": \"string\",\n              \"value\": \"yyyy\"\n            },\n            {\n              \"id\": \"6971a841-ed5e-4d96-bdab-1eaec2d51ccc\",\n              \"name\": \"user_access_token\",\n              \"type\": \"string\",\n              \"value\": \"zzzzz\"\n            },\n            {\n              \"id\": \"c75d5e50-62ea-4ee0-bfaa-5f79cf4d147e\",\n              \"name\": \"app_scoped_user_id\",\n              \"type\": \"string\",\n              \"value\": \"uuuuuu\"\n            }\n          ]\n        }\n      },\n      \"typeVersion\": 3.4\n    }\n  ],\n  \"active\": false,\n  \"pinData\": {},\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"390c37ce-2c9a-4341-bcb4-2f669f65e209\",\n  \"connections\": {\n    \"Set Parameter\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get Long Lived FB User Token\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Get Long Lived FB User Token\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Get Long Lived FB Page Token\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"When clicking ‘Test workflow’\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Set Parameter\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  }\n}",
  "metadata": {
    "node_types": [
      "n8n-nodes-base.manualTrigger",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.httpRequest",
      "n8n-nodes-base.stickyNote",
      "n8n-nodes-base.set"
    ],
    "trigger": null
  }
}